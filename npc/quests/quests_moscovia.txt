//============================================================
//= rAthenaCN 脚本汉化 www.rAthenaCN.com 转自 [ www.99Max.mE ]
//============================================================
//= GIT 代码库 https://github.com/rAthenaCN/rAthenaCN.git
//============================================================
//= 问题反馈 https://github.com/rAthenaCN/rAthenaCN/issues
//============================================================

//===== rAthena Script =======================================  
//= Moscovia Quests
//===== By: ================================================== 
//= Kisuka
//===== Current Version: ===================================== 
//= 2.3
//===== Compatible With: ===================================== 
//= rAthena Project
//===== Description: ========================================= 
//= Quests for Moscovia.
//= The Moving Island, Help Mikhail, Acorn Exchange,
//= Banish Winter, Shafka Hat, Koshei the Immortal.
//===== Additional Comments: ================================= 
//= 1.0 First version. [Kisuka]
//= 1.1 Small fixes on The Moving Island. [Kisuka]
//= 1.2 Fixed a "player not attached" error. [brianluau]
//= 1.3 Replaced occurrences of PcName. [brianluau]
//= 1.4 Added 'Koshei the Immortal' quest. [Kisuka]
//= 1.5 Fixes to 'Koshei the Immortal' quest. [Kisuka]
//= 1.6 Added 'tides' to Ibanoff & Fixed time check for Marozka. [Kisuka]
//= 1.7 Fixes on donpcevents and fixed some left over aegis stuff. [Kisuka]
//= 1.8 Fixed some condition checks. [Gepard]
//= 1.9 Corrected NPC counting mobs for the wrong NPC. (bugreport:4736) [L0ne_W0lf]
//= 2.0 Optimized. [Joseph]
//= 2.0a Bug fixes. [Euphy]
//= 2.0b Bug fixes. [Lemongrass]
//= 2.1 Fixed incorrect use of 'close'. [Joseph]
//= 2.2 Updated RE/Pre-RE EXP. [Euphy]
//= 2.3 Added GM management NPC. [Euphy]
//============================================================ 

// The Moving Island :: mos_whale_edq
//============================================================

//----------------------------------------------------------------------------
// Berbayeff - Starting Point
//----------------------------------------------------------------------------
moscovia,171,71,3	script	贝勒巴叶夫#npc	4_M_RUSMAN2,{
	if (!mos_whale_edq) {
		emotion ET_FRET;
		mes "[贝勒巴叶夫]";
		mes "这个...额....";
		mes "所有人...都不相信.";
		mes "说我在吹牛.";
		next;
		select("你有什么问题吗?");
			mes "[贝勒巴叶夫]";
			mes "我好像没见过你啊.";
			mes "你是来旅游的吗?";
			mes "如果是的话";
			mes "那你在这附近一定见到了";
			mes "很多不可思议的事物吧!.";
			next;
			mes "[贝勒巴叶夫]";
			mes "我觉得你可能会对";
			mes "我的故事感兴趣的.";
			mes "村民们都是傻瓜,";
			mes "所以他们也把我当傻瓜看待.";
			next;
			if(select("我对故事没兴趣.:和我说说吧.") == 1) {
				mes "[贝勒巴叶夫]";
				mes "没兴趣吗...";
				mes "好吧.";
				next;
				mes "[贝勒巴叶夫]";
				mes "如果你改变主意了,";
				mes "可以随时来找我.";
				close;
			}
			emotion ET_BEST;
			mes "[贝勒巴叶夫]";
			mes "好的";
			mes "让我从头告诉你吧.";
			next;
			mes "[贝勒巴叶夫]";
			mes "你似乎";
			mes "才到这不久吧.";
			mes "你有听说过";
			mes "会移动的岛屿吗?";
			next;
			mes "[贝勒巴叶夫]";
			mes "在莫斯科,";
			mes "有各种各样的故事和传奇, ";
			mes "都是从古时候流传下来的.";
			next;
			mes "[贝勒巴叶夫]";
			mes "据说...";
			mes "在不远的海上";
			mes "有一座会移动的岛屿";
			next;
			mes "[贝勒巴叶夫]";
			mes "但是";
			mes "没有人见过这个岛屿.";
			mes "所以..";
			mes "没什么人相信这个传说.";
			next;
			mes "[贝勒巴叶夫]";
			mes "其实, 我觉得";
			mes "这应该只是";
			mes "一个不靠谱的传说吧.";
			mes "但是, 某天, 我看到了....";
			next;
			mes "[贝勒巴叶夫]";
			mes "其实, 我觉得";
			mes "这可能只是";
			mes "一个不靠谱的传说吧.";
			mes "但是, 某天, 我看到了....";
			mes "移动的岛屿!!!";
			next;
			mes "[贝勒巴叶夫]";
			mes "惊讶吗? 是的...";
			mes "我当时惊呆了.";
			mes "坦白说";
			mes "我以前从不相信什么传说.";
			next;
			mes "[贝勒巴叶夫]";
			mes "我在村子的";
			mes "南边海岸";
			mes "看到了那个岛.";
			next;
			mes "[贝勒巴叶夫]";
			mes "当开始我还以为是我眼花了.";
			mes "即使我在这生活了一辈子";
			mes "我还从来没听说过";
			mes "这个岛真的存在!";
			next;
			mes "[贝勒巴叶夫]";
			mes "我想爬到高处";
			mes "好更清楚的观察他";
			mes "可是....";
			mes "它渐渐的...";
			mes "回到了海中...";
			mes "然后消失了.";
			next;
			select("这个岛再没出现过了?");
				mes "[贝勒巴叶夫]";
				mes "没有,";
				mes "只有那么一次";
				mes "别人都说";
				mes "我是看到ghost了.";
				next;
				mes "[贝勒巴叶夫]";
				mes "但是几天以后...";
				mes "这岛又出现在";
				mes "我面前!,";
				mes "当时我正在驾船回家.";
				next;
				mes "[贝勒巴叶夫]";
				mes "那时";
				mes "我试着靠近那岛,";
				mes "但是, 慢慢的...";
				mes "那岛又消失了.";
				next;
				mes "[贝勒巴叶夫]";
				mes "然后";
				mes "我彻底的相信了";
				mes "移动的岛屿";
				mes "是真实存在的!";
				next;
				mes "[贝勒巴叶夫]";
				mes "怎么样?";
				mes "这是一个伟大的发现吧!";
				mes "你不觉得吗??";
				mes "你难道不想";
				mes "去岛上探险吗?";
				next;
				mes "[贝勒巴叶夫]";
				mes "我还没有放弃呢!";
				mes "这个岛屿一定会";
				mes "再次出现在我们面前的!";
				next;
				mes "[贝勒巴叶夫]";
				mes "等到那天,";
				mes "我一定会亲自上去";
				mes "看看上面有什么!";
				set mos_whale_edq,1;
				close;
	}
	else if (mos_whale_edq == 1) {
		set .@speak,rand(1,5);
		if (.@speak > 0 || .@speak < 3) {
			mes "[贝勒巴叶夫]";
			mes "当然了, 我想给所有人证明";
			mes "那个岛是存在的...";
			next;
			mes "[贝勒巴叶夫]";
			mes "如果它再出现";
			mes "我会证明的.";
			mes "你想试试吗?";
			close;
		}
		else if (.@speak > 2 || .@speak < 6) {
			mes "[贝勒巴叶夫]";
			mes "寻找岛屿最好的方法";
			mes "自然是";
			mes "直接开船去海中.";
			next;
			mes "[贝勒巴叶夫]";
			mes "我?";
			mes "我当然有船了.";
			mes "我毕竟是打渔的...";
			next;
			mes "[贝勒巴叶夫]";
			mes "啊, 你需要...";
			mes "一艘船?那可不行, .";
			mes "我不能把船借给你...";
			next;
			mes "[贝勒巴叶夫]";
			mes "可能伊霸诺布";
			mes "肯借船给你";
			mes "他像我一样, ";
			mes "喜欢到处探险.";
			mes "他似乎是喜欢年轻的感觉...";
			next;
			mes "[贝勒巴叶夫]";
			mes "伊霸诺布 和你一样";
			mes "旅游探险过全世界";
			mes "所以, ";
			mes "他应该会理解你的.";
			next;
			mes "[贝勒巴叶夫]";
			mes "如果你想开船去找小岛";
			mes "去找 伊霸诺布";
			mes "请他帮忙吧.";
			close;
		}
		else {
			mes "嗯...天气真好啊?";
			mes "哈哈哈哈哈哈...";
			close;
		}
	}
	else if (mos_whale_edq > 12 && mos_whale_edq < 42) {
		emotion ET_HUK;
		mes "[贝勒巴叶夫]";
		mes "你是认真的吗?";
		mes "你要寻找移动的岛屿?";
		next;
		emotion ET_BEST;
		mes "[贝勒巴叶夫]";
		mes "传说是真的!!";
		mes "我是对的, 不是吗?";
		mes "你一定会称为伟大的探险者的.";
		close;
	}else{
		mes "[贝勒巴叶夫]";
		mes "欢饮来到莫斯科.";
		mes "感觉在呢么样?";
		mes "这里很美吧, 哈?";
		next;
		mes "[贝勒巴叶夫]";
		mes "大多数冒险家";
		mes "都喜欢我们的村子的.";
		mes "你再多转转";
		mes "你一定会爱上这里的.";
		close;
	}
}

//----------------------------------------------------------------------------
// Bulletin Board - List Tide Times
//----------------------------------------------------------------------------
moscovia,135,52,0	script	布告栏#npc	837,{
	mes "[提示]";
	mes "注意, 根据潮汐的变化";
	mes "船舶只有在以下时间";
	mes "才可以离开";
	next;
	mes "[提示]";
	mes "在以下时间";
	mes "船舶可以出发:";
	mes "^0000FF12:00am PST^000000 to ^0000FF3:00am PST";
	mes "^0000FF6:00am PST^000000 to ^0000FF9:00am PST";
	mes "^0000FF12:00pm PST^000000 to ^0000FF3:00pm PST";
	mes "^0000FF6:00pm PST^000000 to ^0000FF9:00pm PST";
	close;
}

//----------------------------------------------------------------------------
// 伊霸诺布 - Docks
//----------------------------------------------------------------------------
moscovia,135,49,5	script	伊霸诺布#npc	964,{
	if (mos_whale_edq == 1 || mos_whale_edq == 2) {
		mes "["+strcharinfo(0)+"]";
		mes "你好, 你是 伊霸诺布吗?";
		next;
		mes "[伊霸诺布]";
		mes "我是伊霸诺布.";
		mes "怎么了?";
		next;
		if(select("和我讲讲你探险的故事吧.:把你的船借给我吧.") == 1) {
			mes "[伊霸诺布]";
			mes "你是个探险者, 对吧?";
			mes "来自陌生的大陆?";
			mes "嗯嗯嗯...";
			mes "欢迎你.";
			next;
			mes "[伊霸诺布]";
			mes "当我在卢恩米德贾鲁斯探险时";
			mes "也许就是这个名字吧...";
			mes "那时你还没出生呢.";
			mes "唉.怀念当时的日子啊...";
			next;
			mes "[伊霸诺布]";
			mes "现在我的身体和心";
			mes "都已经很累了.";
			mes "当时看到海的时候";
			mes "就想起以前的那些日子...";
			next;
			mes "[伊霸诺布]";
			mes "嗯.那些故事...";
			mes "先说什么呢?";
			mes "好吧, 那我就和你说说";
			mes "那次我和一大群波利战斗的故事...";
			next;
			mes "["+strcharinfo(0)+"]";
			mes "哈哈哈...";
			next;
			mes "[伊霸诺布]";
			mes "你听了故事";
			mes "一定会很高兴的.";
			mes "嗯嗯嗯...";
			mes "当我24岁时...";
			mes "我的同伴和我经过";
			mes "斐扬旁边的一个树林时...";
			next;
			mes "然后...";
			next;
			mes "然后....";
			next;
			mes "然后.....";
			next;
			mes "最后......";
			next;
			mes "[伊霸诺布]";
			mes "那场战斗中";
			mes "我表现的很出色";
			mes "所以我和我的同伴";
			mes "才能安全的返回.";
			next;
			mes "[伊霸诺布]";
			mes "你觉得怎么样呢?";
			mes "下面, 再和你说说...";
			mes "猎杀哥布灵的故事...!";
			next;
			if(select("下次再听吧...:真有趣, 继续说.") == 1) {
				mes "[伊霸诺布]";
				mes "要不是...Ooo, 我就";
				mes "走啊走...";
				mes "不想听了?呵呵.";
				mes "那就下次再和你说吧.";
				close;
			}
			mes "[伊霸诺布]";
			mes "嗷嗷嗷... 我的朋友,";
			mes "你喜欢我的故事我真高兴...!";
			next;
			mes "[伊霸诺布]";
			mes "好, 这次和你说说";
			mes "血战哥布灵...";
			
			next;
			mes "你知道的...";
			next;
			mes "然后....";
			next;
			mes "然后.....";
			next;
			mes "最后......";
			next;
			mes "[伊霸诺布]";
			mes "然后, 那场血战";
			mes "就那样结束了...";
			mes "Ohwee...";
			next;
			mes "[伊霸诺布]";
			mes "哈哈";
			mes "你是第一个";
			mes "能听我讲这么长时间故事的人.";
			mes "感觉真棒...";
			next;
			mes "[伊霸诺布]";
			mes "你完全拥有称为伟大探险者,";
			mes "的潜质啊.";
			mes "我们一定会成为好朋友的.";
			next;
			mes "[伊霸诺布]";
			mes "下次, 我们再谈谈..";
			mes "你的探险故事... eh? ~";
			mes "如果你需要什么,";
			mes "尽管来找我, 哈哈哈!";
			set mos_whale_edq,2;
			close;
		}
		if (mos_whale_edq == 2) {
			mes "[伊霸诺布]";
			mes "啊!忠实的听众";
			mes "你借我的船";
			mes "要去干什么呢?";
			next;
			mes "["+strcharinfo(0)+"]";
			mes "我要去海上探险";
			mes "去找那座";
			mes "传说中的";
			mes "会移动的岛屿.";
			next;
			mes "[伊霸诺布]";
			mes "移动的岛屿?";
			mes "其实我还真没见过呢...";
			mes "但是你还年轻, 哈哈!";
			next;
			mes "[伊霸诺布]";
			mes "我希望你可以";
			mes "成功找到那座岛屿,";
			mes "然后把好消息";
			mes "带给我们!";
			next;
			mes "[伊霸诺布]";
			mes "好吧!";
			mes "首先";
			mes "我要检查一下船的状态...";
			mes "如果你想帮我的话,";
			mes "你得做点什么.";
			next;
			mes "[伊霸诺布]";
			mes "我的船";
			mes "很久没出海了";
			mes "所以我们得检查下";
			mes "看看有什么地方要修理的";
			mes "然后才可以出海.";
			next;
			mes "[伊霸诺布]";
			mes "如果你可以修好的话";
			mes "在这里修船...";
			mes "要花好几天的时间.";
			next;
			mes "[伊霸诺布]";
			mes "需要这些材料:";
			mes "^0000FF魔幻拉链*10, 生锈的螺丝*10, 软管*5, 朱毕雷*10^000000.";
			next;
			mes "[伊霸诺布]";
			mes "如果你收集好了";
			mes "将材料交给我";
			mes "我就可以把船修好.";
			set mos_whale_edq,3;
			close;
		}else{
			emotion ET_ANGER;
			mes "[伊霸诺布]";
			mes "你想借我的船?";
			
			mes "我根本都不认识你!!";
			mes "你比看起来粗鲁的多了.";
			next;
			mes "[伊霸诺布]";
			mes "我不知道你是怎么得知";
			mes "我有一艘船的...";
			mes "无论如何, 我是不会把船";
			mes "借给陌生人的.";
			close;
		}
	}
	else if (mos_whale_edq == 3) {
		mes "[伊霸诺布]";
		mes "材料都带来了吗?";
		mes "如果好了,";
		mes "我们可以开始修理了!";
		next;
		if (countitem(7167) > 9 && countitem(7317) > 9 && countitem(7325) > 4 && countitem(7312) > 9) {
			mes "[伊霸诺布]";
			mes "哦, 材料都齐了.";
			
			next;
			delitem 7167,10; //Mystery_Iron_Bit
			delitem 7317,10; //Screw
			delitem 7325,5; //Tube
			delitem 7312,10; //Jubilee
			set mos_whale_edq,4;
			mes "[伊霸诺布]";
			mes "我们准备好了.";
			mes "你准备什么时候出发?";
			mes "我得告诉你...";
			mes "日落以后";
			mes "这船就开不成了.";
			next;
			mes "[伊霸诺布]";
			mes "这附近的海水里,";
			mes "有很多大浪.";
			mes "日落以后";
			mes "出海会变的很难行驶";
			mes "专业的水手都不行.";
			next;
			mes "[伊霸诺布]";
			mes "记住";
			mes "这船在经过海浪时";
			mes "也是很艰难的";
			
			next;
			mes "[伊霸诺布]";
			mes "如果你准备好出发了";
			mes "日落前告诉我.";
			close;
		}else{
			mes "[伊霸诺布]";
			mes "材料不够.";
			mes "你是不是忘了什么?";
			next;
			mes "[伊霸诺布]";
			mes "需要的材料:";
			mes "^0000FF魔幻拉链*10, 生锈的螺丝*10, 软管*5, 朱毕雷*10^000000.";
			close;
		}
	}
	else if (mos_whale_edq == 4) {
		mes "[伊霸诺布]";
		mes "哦, 你要出发了吗?";
		mes "好, 我们看看...";
		next;
		if (gettime(3) >= 0 && gettime(3) < 3) {
			mes "[伊霸诺布]";
			mes "嗯, 时间还早.";
			mes "动作快点.";
			mes "趁潮汐还低着.";
			mes "船在码头准备好了";
			mes "我们立刻出发!";
			
			close2;
			warp "mosk_ship",94,110;
			end;
		}
		else if (gettime(3) >= 6 && gettime(3) < 9) {
			mes "嗯, 时间还早.";
			mes "动作快点.";
			mes "趁潮汐还低着.";
			mes "船在码头准备好了";
			mes "我们立刻出发!";
			close2;
			warp "mosk_ship",94,110;
			end;
		}
		else if (gettime(3) >= 12 && gettime(3) < 15) {
			mes "嗯, 时间还早.";
			mes "动作快点.";
			mes "趁潮汐还低着.";
			mes "船在码头准备好了";
			mes "我们立刻出发!";
			close2;
			warp "mosk_ship",94,110;
			end;
		}
		else if (gettime(3) >= 18 && gettime(3) < 21) {	
			mes "嗯, 时间还早.";
			mes "动作快点.";
			mes "趁潮汐还低着.";
			mes "船在码头准备好了";
			mes "我们立刻出发!";
			close2;
			warp "mosk_ship",94,110;
			end;
		}
		else {
			mes "[伊霸诺布]";
			mes "天, 潮汐太高了.";
			mes "现在出发太危险了";
			
			next;
			mes "[伊霸诺布]";
			mes "我们现在不能走,";
			mes "等潮汐退一点了";
			mes "你再来吧.";
			close;
		}
	}
	else if (mos_whale_edq > 4 && mos_whale_edq < 15) {
		mes "[伊霸诺布]";
		mes "组后一次航行穿过了...";
		mes "但是所有的探险...";
		mes "都像那样...";
		mes "哈哈哈!";
		next;
		mes "[伊霸诺布]";
		mes "如果你想再次出发";
		mes "日落前告诉我";

		next;
		mes "[伊霸诺布]";
		mes "要出发吗?";
		next;
		if(select("我还没准备好.:出发吧.") == 1) {
			mes "[伊霸诺布]";
			mes "如果你准备好了, 就告诉我.";
			close;
		}
		if (gettime(3) >= 0 && gettime(3) < 3) {
			mes "嗯, 时间还早.";
			mes "动作快点.";
			mes "趁潮汐还低着.";
			mes "船在码头准备好了";
			mes "我们立刻出发!";
			close2;
			warp "mosk_ship",94,110;
			end;
		}
		else if (gettime(3) >= 6 && gettime(3) < 9) {
			mes "嗯, 时间还早.";
			mes "动作快点.";
			mes "趁潮汐还低着.";
			mes "船在码头准备好了";
			mes "我们立刻出发!";
			close2;
			warp "mosk_ship",94,110;
			end;
		}
		else if (gettime(3) >= 12 && gettime(3) < 15) {
			mes "嗯, 时间还早.";
			mes "动作快点.";
			mes "趁潮汐还低着.";
			mes "船在码头准备好了";
			mes "我们立刻出发!";
			close2;
			warp "mosk_ship",94,110;
			end;
		}
		else if (gettime(3) >= 18 && gettime(3) < 21) {	
			mes "嗯, 时间还早.";
			mes "动作快点.";
			mes "趁潮汐还低着.";
			mes "船在码头准备好了";
			mes "我们立刻出发!";
			close2;
			warp "mosk_ship",94,110;
			end;
		}
		else {
			mes "[伊霸诺布]";
			mes "天, 潮汐太高了.";
			mes "现在出发太危险了";
			
			next;
			mes "[伊霸诺布]";
			mes "我们现在不能走,";
			mes "等潮汐低一点了";
			mes "你再来吧.";
			close;
		}
	}
	else if (mos_whale_edq == 15) {
		mes "[伊霸诺布]";
		mes "你..你还活着!";
		mes "当你乘船远去时";
		mes "我还以为再也见不到你了!";
		
		next;
		mes "[伊霸诺布]";
		mes "这段时间你都在哪里?";
		next;
		select("和他解释一下.");
			mes "[伊霸诺布]";
			mes "真不可思议.";
			mes "我从未相信...";
			mes "这岛真的存在...?";
			next;
			mes "[伊霸诺布]";
			mes "还有呢...";
			mes "这岛不是一个岛?!?";
			mes "是一只鲸鱼???";
			next;
			mes "[伊霸诺布]";
			mes "鲸鱼的背上";
			mes "还有树木和小溪???";
			
			next;
			mes "[伊霸诺布]";
			mes "真是不可思议!";
			mes "这是我这辈子";
			mes "听到的最不可思议的故事了!";
			next;
			mes "[伊霸诺布]";
			mes "同时";
			mes "我对鲸鱼背上的那个老人也很惊奇!";
			
			next;
			mes "[伊霸诺布]";
			mes "那个人";
			mes "一定非常的强大...";
			
			next;
			mes "[伊霸诺布]";
			mes "看来鲸鱼岛的故事是真的了";
			mes "但是你为什么不把你的发现";
			
			mes "告诉 国王";
			mes "然后获得发现岛屿的奖励?";
			
			next;
			mes "[伊霸诺布]";
			mes "国王非常喜欢听有价值的故事";
			mes "如果他听了你的故事";
			mes "他应该会给你";
			mes "一些奖赏";
			
			next;
			mes "[伊霸诺布]";
			mes "如果你还想再回到岛上";
			mes "我想和你一起去";
			mes "哈哈哈!";
			set mos_whale_edq,16;
			close;
	}
	else if (mos_whale_edq > 15 && mos_whale_edq < 18) {
		mes "[伊霸诺布]";
		mes "如果 国王 听了这个故事";
		mes "他会很开心的.";
		
		next;
		mes "[伊霸诺布]";
		mes "甚至给你一些奖赏...";
		close;
	}
	else if (mos_whale_edq == 18) {
		mes "[伊霸诺布]";
		mes "嗯, 国王 ";
		mes "问你要鲸鱼岛的证据?...";
		next;
		mes "[伊霸诺布]";
		mes "这有点";
		mes "困难...";
		next;
		mes "[伊霸诺布]";
		mes "你能保证";
		mes "再次找到鲸鱼岛吗?";
		next;
		mes "[伊霸诺布]";
		mes "我知道你不会放弃的.";
		mes "要么我们再去一次?";
		mes "我会帮你找到鲸鱼岛的";
		
		next;
		if(select("再次出发.:放弃.") == 1) {
			mes "[伊霸诺布]";
			mes "这就对了!";
			mes "我知道你不会放弃的!";
			next;
			mes "[伊霸诺布]";
			mes "让我们准备好船, 日落前出发!";
			set mos_whale_edq,19;
			close;
		}
		mes "[伊霸诺布]";
		mes "知道了...";
		mes "即使你喜欢探险,";
		mes "要找到鲸鱼岛";
		mes "也是不可能的...";
		next;
		mes "[伊霸诺布]";
		mes "如果你改变主意了,";
		mes "随时来找我.";
		mes "我很想见到你证明给全村人";
		mes "鲸鱼岛是存在的.";
		close;
	}
	else if (mos_whale_edq == 19) {
		mes "[伊霸诺布]";
		mes "准备好出发了吗?";
		next;
		if(select("I'm not ready.:Let's go.") == 1) {
			mes "[伊霸诺布]";
			mes "如果准备好了就告诉我.";
			close;
		}
		if (gettime(3) >= 0 && gettime(3) < 3) {
			mes "嗯, 时间还早.";
			mes "动作快点.";
			mes "趁潮汐还低着.";
			mes "船在码头准备好了";
			mes "我们立刻出发!";
			close2;
			warp "mosk_ship",94,110;
			end;
		}
		else if (gettime(3) >= 6 && gettime(3) < 9) {
			mes "嗯, 时间还早.";
			mes "动作快点.";
			mes "趁潮汐还低着.";
			mes "船在码头准备好了";
			mes "我们立刻出发!";
			close2;
			warp "mosk_ship",94,110;
			end;
		}
		else if (gettime(3) >= 12 && gettime(3) < 15) {
			mes "嗯, 时间还早.";
			mes "动作快点.";
			mes "趁潮汐还低着.";
			mes "船在码头准备好了";
			mes "我们立刻出发!";
			close2;
			warp "mosk_ship",94,110;
			end;
		}
		else if (gettime(3) >= 18 && gettime(3) < 21) {	
			mes "嗯, 时间还早.";
			mes "动作快点.";
			mes "趁潮汐还低着.";
			mes "船在码头准备好了";
			mes "我们立刻出发!";
			close2;
			warp "mosk_ship",94,110;
			end;
		}
		else {
			mes "[伊霸诺布]";
			mes "[伊霸诺布]";
			mes "天, 潮汐太高了.";
			mes "现在出发太危险了";
			next;
			mes "[伊霸诺布]";
			mes "我们现在不能走,";
			mes "等潮汐低一点了";
			mes "你再来吧.";
			close;
		}
	}
	else if (mos_whale_edq > 19 && mos_whale_edq < 32) {
		mes "[伊霸诺布]";
		mes "真是个惊喜!!";
		mes "你哪去了??";
		mes "我还在担心";
		mes "你是不是永远消失了!";
		next;
		mes "[伊霸诺布]";
		mes "我不管你去哪了";
		mes "能再见到你真高兴";
		
		set mos_whale_edq,19;
		next;
		mes "[伊霸诺布]";
		mes "我想, 你一定";
		mes "想再去鲸鱼岛...";
		next;
		if (gettime(3) >= 0 && gettime(3) < 3) {
			mes "[伊霸诺布]";
			mes "嗯, 时间还早.";
			mes "动作快点.";
			mes "趁潮汐还低着.";
			mes "船在码头准备好了";
			mes "我们立刻出发!";
			close2;
			warp "mosk_ship",94,110;
			end;
		}
		else if (gettime(3) >= 6 && gettime(3) < 9) {
			mes "嗯, 时间还早.";
			mes "动作快点.";
			mes "趁潮汐还低着.";
			mes "船在码头准备好了";
			mes "我们立刻出发!";
			close2;
			warp "mosk_ship",94,110;
			end;
		}
		else if (gettime(3) >= 12 && gettime(3) < 15) {
			mes "嗯, 时间还早.";
			mes "动作快点.";
			mes "趁潮汐还低着.";
			mes "船在码头准备好了";
			mes "我们立刻出发!";
			close2;
			warp "mosk_ship",94,110;
			end;
		}
		else if (gettime(3) >= 18 && gettime(3) < 21) {	
			mes "嗯, 时间还早.";
			mes "动作快点.";
			mes "趁潮汐还低着.";
			mes "船在码头准备好了";
			mes "我们立刻出发!";
			close2;
			warp "mosk_ship",94,110;
			end;
		}
		else {
			mes "[伊霸诺布]";
			mes "[伊霸诺布]";
			mes "天, 潮汐太高了.";
			mes "现在出发太危险了";
			next;
			mes "[伊霸诺布]";
			mes "我们现在不能走,";
			mes "等潮汐低一点了";
			mes "你再来吧.";
			close;
		}
	}
	else if (mos_whale_edq == 32) {
		mes "[伊霸诺布]";
		mes "你回来了!";
		mes "怎么样?";
		next;
		mes "[伊霸诺布]";
		mes "你是说...";
		mes "如果你收集到了材料";
		mes "那个老人就会给你开证明...";
		next;
		mes "[伊霸诺布]";
		mes "而且他承诺他不会移动岛屿";
		mes "直到你再次回去?";
		next;
		mes "[伊霸诺布]";
		mes "我知道了, 我记得准备的地址";
		mes "我们尽快出发!";
		
		set mos_whale_edq,33;
		close;
	}
	else if (mos_whale_edq > 32 && mos_whale_edq < 39) {
		mes "[伊霸诺布]";
		mes "材料齐了吗?";
		
		next;
		mes "[伊霸诺布]";
		mes "那现在出发吗?";
		next;
		if(select("等等.:出发.") == 1) {
			mes "[伊霸诺布]";
			mes "好吧, 再等等.";
			close;
		}
		mes "[伊霸诺布]";
		mes "走咯!";
		close2;
		warp "mosk_fild01",93,94;
		end;
	}
	else if (mos_whale_edq > 38 && mos_whale_edq < 41) {
		mes "[伊霸诺布]";
		mes "终于结束了.";
		mes "让我在我们的探险史上";
		mes "再加上一页吧!";
		next;
		mes "[伊霸诺布]";
		mes "我希望有一天";
		mes "能和你这样的人";
		mes "再次探险!";
		close;
	}
	else if (mos_whale_edq == 41) {
		mes "[伊霸诺布]";
		mes "我听说了你发现鲸鱼岛的";
		mes "传奇事迹.";
		mes "你一定是个天才!";
		
		next;
		mes "[伊霸诺布]";
		mes "终于结束了.";
		mes "让我在我们的探险史上";
		mes "再加上一页吧!";
		next;
		mes "[伊霸诺布]";
		mes "我希望有一天";
		mes "能和你这样的人";
		mes "再次探险!";
		close;
	}
	else if (mos_whale_edq > 90 && mos_whale_edq < 100) {
		mes "[伊霸诺布]";
		mes "怎么了?";
		mes "你需要一艘船?我们现在出发!.";
		set mos_whale_edq,4;
		close;
	}
	else if (mos_whale_edq > 200 && mos_whale_edq < 300) {
		mes "[伊霸诺布]";
		mes "怎么了?";
		mes "你需要一艘船?我们现在出发!.";
		set mos_whale_edq,19;
		close;
	}
	else{
		mes "[伊霸诺布]";
		mes "你我都是伟大的探险家.";
		next;
		mes "[伊霸诺布]";
		mes "我只想再年轻个20岁, 就可以像你一样到处探险了.时间是把杀猪刀, 哈哈哈!";
		close;
	}
}

//----------------------------------------------------------------------------
// 伊霸诺布 - Ship
//----------------------------------------------------------------------------
mosk_ship,98,110,3	script	伊霸诺布#npc2	964,{
	if (mos_whale_edq == 4) {
		mes "[伊霸诺布]";
		mes "航海的好天气!";
		mes "海风吹的真凉爽.";
		next;
		mes "["+strcharinfo(0)+"]";
		mes "这么危险的地方";
		mes "你不用陪我去...";
		next;
		mes "[伊霸诺布]";
		mes "海上的知识我比你懂得的多";
		mes "这船是我一生的朋友";
		mes "我是不会丢下我的朋友的";
		mes "你觉得呢?";
		next;
		mes "[伊霸诺布]";
		mes "我观察海面";
		mes "告诉你朝哪走.";
		next;
		mes "[伊霸诺布]";
		mes "你只管听我的指令";
		mes "改变舵的方向.";
		next;
		mes "[伊霸诺布]";
		mes "首先, 直走";
		mes "向东.";
		set mos_whale_edq,5;
		close;
	}
	else if (mos_whale_edq == 5) {
		mes "[伊霸诺布]";
		mes "保持向东";
		close;
	}
	else if (mos_whale_edq == 6) {
		set .@ship1,rand(1,4);
		if (.@ship1 == 3) {
			mes "[伊霸诺布]";
			mes "水流改变了.";
			mes "调整航向向北.";
			set mos_whale_edq,7;
			close;
		}else{
			mes "[伊霸诺布]";
			mes "什么都没变";
			mes "根据水流...";
			mes "什么都没变...";
			next;
			mes "[伊霸诺布]";
			mes "我们最好保持航向";
			close;
		}
	}
	else if ($@mos1_edq > 0) {
		mes "[伊霸诺布]";
		mes "我们首先得击败";
		mes "怪物!";
		close;
	}
	else if (mos_whale_edq == 7 && $@mos1_edq == 0) {
		mes "[伊霸诺布]";
		mes "嘿!";
		mes "你没听到吗?";
		mes "调整航向向北";
		close;
	}
	else if (mos_whale_edq == 8 && $@mos1_edq == 0) {
		set .@ship1,rand(1,3);
		if (.@ship1 == 3) {
			set .@ship2,rand(1,4);
			if (.@ship2 == 1) {
				mes "[伊霸诺布]";
				mes "水流变化了.";
				mes "调整航向向东";
				set mos_whale_edq,91;
				close;
			}
			else if (.@ship2 == 2) {
				mes "[伊霸诺布]";
				mes "水流变化了.";
				mes "调整航向向西";
				set mos_whale_edq,92;
				close;
			}
			else if (.@ship2 == 3) {
				mes "[伊霸诺布]";
				mes "水流变化了.";
				mes "调整航向向南";
				set mos_whale_edq,93;
				close;
			}
			else if (.@ship2 == 4) {
				mes "[伊霸诺布]";
				mes "水流变化了.";
				mes "调整航向向北";
				set mos_whale_edq,94;
				close;
			}
		}else{
			mes "[伊霸诺布]";
			mes "什么都没变";
			mes "根据水流...";
			mes "什么都没变...";
			next;
			mes "[伊霸诺布]";
			mes "我们最好保持航向";
			close;
		}
	}
	else if (mos_whale_edq == 91 && $@mos1_edq == 0) {
		mes "[伊霸诺布]";
		mes "嘿!";
		mes "你没听到吗?";
		mes "调整航向向东";
		close;
	}
	else if (mos_whale_edq == 92 && $@mos1_edq == 0) {
		mes "[伊霸诺布]";
		mes "嘿!";
		mes "你没听到吗?";
		mes "调整航向向西";
		close;
	}
	else if (mos_whale_edq == 93 && $@mos1_edq == 0) {
		mes "[伊霸诺布]";
		mes "嘿!";
		mes "你没听到吗?";
		mes "调整航向向南";
		close;
	}
	else if (mos_whale_edq == 94 && $@mos1_edq == 0) {
		mes "[伊霸诺布]";
		mes "嘿!";
		mes "你没听到吗?";
		mes "调整航向向北";
		close;
	}
	else if (mos_whale_edq == 10 && $@mos1_edq == 0) {
		set .@ship1,rand(1,3);
		if (.@ship1 == 2) {
			set .@ship2,rand(1,4);
			if (.@ship2 == 1) {
				mes "[伊霸诺布]";
				mes "水流变化了.";
				mes "调整航向向东";
				set mos_whale_edq,91;
				close;
			}
			else if (.@ship2 == 2) {
				mes "[伊霸诺布]";
				mes "水流变化了.";
				mes "调整航向向西";
				set mos_whale_edq,92;
				close;
			}
			else if (.@ship2 == 3) {
				mes "[伊霸诺布]";
				mes "水流变化了.";
				mes "调整航向向南";
				set mos_whale_edq,93;
				close;
			}
			else if (.@ship2 == 4) {
				mes "[伊霸诺布]";
				mes "水流变化了.";
				mes "调整航向向北";
				set mos_whale_edq,94;
				close;
			}
		}else{
			mes "[伊霸诺布]";
			mes "什么都没变";
			mes "根据水流...";
			mes "什么都没变...";
			next;
			mes "[伊霸诺布]";
			mes "我们最好保持航向";
			close;
		}
	}
	else if (mos_whale_edq == 10 && $@mos1_edq > 0) {
		mes "[伊霸诺布]";
		mes "我们得先消灭";
		mes "怪物!";
		close;
	}
	else if (mos_whale_edq == 11) {
		mes "[伊霸诺布]";
		mes "看海面上!";
		mes "是不是有什么东西在移动?";
		
		next;
		mes "[伊霸诺布]";
		mes "呵呵...";
		mes "嘿!你!";
		mes "去甲板上";
		mes "看仔细点, 快去!";
		set mos_whale_edq,12;
		donpcevent "#findship::OnEnable";
		close;
	}
	else if (mos_whale_edq == 12) {
		mes "[伊霸诺布]";
		mes "去甲板上";
		mes "看仔细点, 快去!";
		donpcevent "#findship::OnEnable";
		close;
		return;
	}
	else if (mos_whale_edq == 19) {
		mes "[伊霸诺布]";
		mes "我希望这次能找到鲸鱼岛";
		mes "别再发生小插曲了";
		next;
		mes "[伊霸诺布]";
		mes "还是用以前的方法.";
		next;
		mes "[伊霸诺布]";
		mes "我观察海面";
		mes "给你指挥方向.";
		next;
		mes "[伊霸诺布]";
		mes "首先, 直走";
		mes "向东.";
		set mos_whale_edq,20;
		close;
	}
	else if (mos_whale_edq == 20) {
		if (@mos_whale_edq == 24) {
		set .@ship1,rand(1,4);
		set #CASHPOINTS,@nankai2;
		if (.@ship1 == 3) {
			set .@ship2,rand(1,4);
			if (.@ship2 == 1) {
			mes "[伊霸诺布]";
			mes "水流变化了.";
			mes "调整航向向东";
			set mos_whale_edq,241;
			close;
			}
		}
			}
		mes "[伊霸诺布]";
		mes "保持向东";
		close;
	}
	else if (mos_whale_edq == 21) {
		set .@ship1,rand(1,3);
		if (.@ship1 == 2) {
			mes "[伊霸诺布]";
			mes "水流改变了.";
			mes "调整航向向北.";
			set mos_whale_edq,22;
			close;
		}else{
			mes "[伊霸诺布]";
			mes "什么都没变";
			mes "根据水流...";
			mes "什么都没变...";
			next;
			mes "[伊霸诺布]";
			mes "我们最好保持航向";
			close;
		}
	}
	else if ($@mos1_edq > 0) {
		mes "[伊霸诺布]";
		mes "我们首先得击败";
		mes "怪物!";
		close;
	}
	else if (mos_whale_edq == 22 && $@mos1_edq == 0) {
		mes "[伊霸诺布]";
		mes "嘿!";
		mes "你没听到吗?";
		mes "调整航向向北";
		close;
	}
	else if (mos_whale_edq == 23 && $@mos1_edq == 0) {
		set .@ship1,rand(1,5);
		if (.@ship1 == 3) {
			set .@ship2,rand(1,4);
			if (.@ship2 == 1) {
				mes "[伊霸诺布]";
				
				mes "水流变化了.";
				mes "调整航向向东";
				set mos_whale_edq,241;
				close;
			}
			else if (.@ship2 == 2) {
				mes "[伊霸诺布]";
				mes "水流变化了.";
				mes "调整航向向西";
				set mos_whale_edq,242;
				close;
			}
			else if (.@ship2 == 3) {
				mes "[伊霸诺布]";
				mes "水流变化了.";
				mes "调整航向向南";
				set mos_whale_edq,243;
				close;
			}
			else if (.@ship2 == 4) {
				mes "[伊霸诺布]";
				mes "水流变化了.";
				mes "调整航向向北";
				set mos_whale_edq,244;
				close;
			}
		}else{
			mes "[伊霸诺布]";
			mes "什么都没变";
			mes "根据水流...";
			mes "什么都没变...";
			next;
			mes "[伊霸诺布]";
			mes "我们最好保持航向";
			close;
		}
	}
	else if (mos_whale_edq == 241 && $@mos1_edq == 0) {
		mes "[伊霸诺布]";
		mes "嘿!";
		mes "你没听到吗?";
		mes "调整航向向东";
		close;
	}
	
	else if (mos_whale_edq == 242 && $@mos1_edq == 0) {
		mes "[伊霸诺布]";
		mes "嘿!";
		mes "你没听到吗?";
		mes "调整航向向西";
		close;
	}
	else if (mos_whale_edq == 243 && $@mos1_edq == 0) {
		mes "[伊霸诺布]";
		mes "嘿!";
		mes "你没听到吗?";
		mes "调整航向向南";
		close;
	}
	else if (mos_whale_edq == 244 && $@mos1_edq == 0) {
		mes "[伊霸诺布]";
		mes "嘿!";
		mes "你没听到吗?";
		mes "调整航向向北";
		close;
	}
	else if (mos_whale_edq == 25 && $@mos1_edq == 0) {
		set .@ship1,rand(1,4);
		if (.@ship1 == 3) {
			set .@ship2,rand(1,4);
			if (.@ship2 == 1) {
				mes "[伊霸诺布]";
				mes "水流变化了.";
				mes "调整航向向东";
				set mos_whale_edq,241;
				close;
			}
			else if (.@ship2 == 2) {
				mes "[伊霸诺布]";
				mes "水流变化了.";
				mes "调整航向向西";
				set mos_whale_edq,242;
				close;
			}
			else if (.@ship2 == 3) {
				mes "[伊霸诺布]";
				mes "水流变化了.";
				mes "调整航向向南";
				set mos_whale_edq,243;
				close;
			}
			else if (.@ship2 == 4) {
				mes "[伊霸诺布]";
				mes "水流变化了.";
				mes "调整航向向北";
				set mos_whale_edq,244;
				close;
			}
		}else{
			mes "[伊霸诺布]";
			mes "什么都没变";
			mes "根据水流...";
			mes "什么都没变...";
			next;
			mes "[伊霸诺布]";
			mes "我们最好保持航向";
			close;
		}
	}
	else if (mos_whale_edq == 26) {
		mes "[伊霸诺布]";
		mes "看!";
		mes "移动的岛屿!";
		mes "我们找到了!";
		next;
		mes "[伊霸诺布]";
		mes "我的天...";
		mes "真是这...";
		mes "无法置信!";
		mes "这也太...";
		next;
		mes "[伊霸诺布]";
		mes "我觉得和你去哪都可以到达!";
		mes "即使是不可能的事情!";
		mes "哈哈, 你能带来幸运.";
		
		next;
		mes "[伊霸诺布]";
		mes "好了, 你上岛去吧.";
		mes "我得回去了.";
		next;
		mes "[伊霸诺布]";
		mes "再来一个海浪";
		mes "我的小船就要散架了!";
		
		next;
		mes "[伊霸诺布]";
		mes "好运!";
		mes "希望你回去的时候别出意外.";
		mes "我会为你祈祷的.";
		mes "下次见.";
		set mos_whale_edq,30;
		close2;
		warp "mosk_fild01",93,94;
		end;
	}
	else if (mos_whale_edq == 7 && $@mos1_edq > 0) {
		mes "[伊霸诺布]";
		mes "我们首先得击败";
		mes "怪物!";
		close;
	}
	else if (mos_whale_edq == 8 && $@mos1_edq == 0) {
		mes "[伊霸诺布]";
		mes "不用调整航向了.";
		mes "听我的指挥就好.";
		close;
	}
	else if (mos_whale_edq == 8 && $@mos1_edq > 0) {
		mes "[伊霸诺布]";
		mes "我们首先得击败";
		mes "怪物!";
		close;
	}
	else if (mos_whale_edq == 7 && $@mos1_edq > 0) {
		mes "[伊霸诺布]";
		mes "我们首先得击败";
		mes "怪物!";
		close;
	}
	else if (mos_whale_edq == 8 && $@mos1_edq > 0) {
		mes "[伊霸诺布]";
		mes "我们首先得击败";
		mes "怪物!";
		close;
	}
	else if (mos_whale_edq == 10 && $@mos1_edq > 0) {
		mes "[伊霸诺布]";
		mes "我们首先得击败";
		mes "怪物!";
		close;
	}
	else if (mos_whale_edq > 89 && mos_whale_edq < 100 && $@mos1_edq > 0) {
		mes "[伊霸诺布]";
		mes "我们首先得击败";
		mes "怪物!";
		close;
	}
	else if (mos_whale_edq == 22 && $@mos1_edq > 0) {
		mes "[伊霸诺布]";
		mes "我们首先得击败";
		mes "怪物!";
		close;
	}
	else if (mos_whale_edq == 23 && $@mos1_edq == 0) {
		mes "[伊霸诺布]";
		mes "不用调整航向了.";
		mes "听我的指挥就好.";
		close;
	}
	else if (mos_whale_edq == 23 && $@mos1_edq > 0) {
		mes "[伊霸诺布]";
		mes "我们首先得击败";
		mes "怪物!";
		close;
	}
	else if (mos_whale_edq == 25 && $@mos1_edq > 0) {
		mes "[伊霸诺布]";
		mes "我们首先得击败";
		mes "怪物!";
		close;
	}
	else if (mos_whale_edq > 239 && mos_whale_edq < 250 && $@mos1_edq > 0) {
		mes "[伊霸诺布]";
		mes "我们首先得击败";
		mes "怪物!";
		close;
	}
	else{
		mes "[伊霸诺布]";
		mes "嗯?";
		mes "你怎么上来的?.";
		mes "这次就饶了你.";
		mes "滚回去.";
		close2;
		warp "moscovia",163,55;
		end;
	}
}

//----------------------------------------------------------------------------
// Rudder
//----------------------------------------------------------------------------
mosk_ship,101,111,4	script	rudder#ship	HIDDEN_NPC,{
	if (mos_whale_edq == 5) {
		mes "哪个方向?";
		next;
		switch(select("东:西:南:北")) {
		case 1:
			mes "[伊霸诺布]";
			mes "好的";
			mes "首先向东";
			mes "等我给你命令时,";
			mes "再调整航向.";
			set mos_whale_edq,6;
			close;
			break;
		case 2:
			mes "[伊霸诺布]";
			mes "我说的朝东!";
			mes "朝着我说的方向走!";
		
			close;
			break;
		case 3:
			mes "[伊霸诺布]";
			mes "我说的朝东!";
			mes "朝着我说的方向走!";
			close;
			break;
		case 4:
			mes "[伊霸诺布]";
			mes "我说的朝东!";
			mes "朝着我说的方向走!";
		}
	}
	else if (mos_whale_edq == 4) {
		mes "[伊霸诺布]";
		mes "现在不同调整航向了.";
		mes "等我的命令.";
		close;
	}
	else if (mos_whale_edq == 6) {
		mes "[伊霸诺布]";
		mes "现在不用调整航向了.";
		mes "等我的命令.";
		close;
	}
	else if (mos_whale_edq == 7 && $@mos1_edq == 0) {
		mes "哪个方向?";
		next;
		switch(select("东:西:南:北")) {
		case 1:
			set .@ship_mon1,rand(1,5);
			if (.@ship_mon1 == 2) {
				mes "[伊霸诺布]";
				mes "我说的朝北!";
				mes "朝着我说的方向走!";
				
				next;
				mes "[伊霸诺布]";
				mes "哦不!怪物出现了.";
				mes "我们先消灭怪物!";
				set $@mos1_edq,$@mos1_edq+1;
				donpcevent "Baehideun1#ship::OnEnable";
				close;
				set .@ship_mon1,rand(1,5);
			}
			else if (.@ship_mon1 == 4) {
				mes "[伊霸诺布]";
				mes "我说的朝北!";
				mes "朝着我说的方向走!";
				
				next;
				mes "[伊霸诺布]";
				mes "哦不!怪物出现了.";
				mes "我们先消灭怪物!";
				set $@mos1_edq,$@mos1_edq+1;
				donpcevent "Baehideun2#ship::OnEnable";
				close;
			}else{
				mes "[伊霸诺布]";
				mes "我说的朝北!";
				mes "朝着我说的方向走!";
				close;
			}
			break;
		case 2:
			set .@ship_mon1,rand(1,5);
			if (.@ship_mon1 == 2) {
				mes "[伊霸诺布]";
				mes "我说的朝北!";
				mes "朝着我说的方向走!";
				
				next;
				mes "[伊霸诺布]";
				mes "哦不!怪物出现了.";
				mes "我们先消灭怪物!";
				set $@mos1_edq,$@mos1_edq+1;
				donpcevent "Baehideun1#ship::OnEnable";
				close;
				set .@ship_mon1,rand(1,5);
			}
			else if (.@ship_mon1 == 4) {
				mes "[伊霸诺布]";
				mes "我说的朝北!";
				mes "朝着我说的方向走!";
				
				next;
				mes "[伊霸诺布]";
				mes "哦不!怪物出现了.";
				mes "我们先消灭怪物!";
				set $@mos1_edq,$@mos1_edq+1;
				donpcevent "Baehideun2#ship::OnEnable";
				close;
			}else{
				mes "[伊霸诺布]";
				mes "我说的朝北!";
				mes "朝着我说的方向走!";
				close;
			}
			break;
		case 3:
			set .@ship_mon1,rand(1,5);
			if (.@ship_mon1 == 2) {
				mes "[伊霸诺布]";
				mes "我说的朝北!";
				mes "朝着我说的方向走!";
				
				next;
				mes "[伊霸诺布]";
				mes "哦不!怪物出现了.";
				mes "我们先消灭怪物!";
				set $@mos1_edq,$@mos1_edq+1;
				donpcevent "Baehideun1#ship::OnEnable";
				close;
				set .@ship_mon1,rand(1,5);
			}
			else if (.@ship_mon1 == 4) {
				mes "[伊霸诺布]";
				mes "我说的朝北!";
				mes "朝着我说的方向走!";
				
				next;
				mes "[伊霸诺布]";
				mes "哦不!怪物出现了.";
				mes "我们先消灭怪物!";
				set $@mos1_edq,$@mos1_edq+1;
				donpcevent "Baehideun2#ship::OnEnable";
				close;
			}else{
				mes "[伊霸诺布]";
				mes "我说的朝北!";
				mes "朝着我说的方向走!";
				close;
			}
			break;
		case 4:
			mes "[伊霸诺布]";
			mes "好的";
			mes "首先向北";
			mes "等我给你命令时,";
			mes "再调整航向.";
			set mos_whale_edq,8;
			close;
		}
	}
	else if (mos_whale_edq == 7 && $@mos1_edq > 0) {
		mes "[伊霸诺布]";
		mes "杀光所有怪物";
		
		close;
	}
	else if (mos_whale_edq == 8 && $@mos1_edq == 0) {
		mes "[伊霸诺布]";
		mes "现在不用调整航向了.";
		mes "等我的命令.";
		close;
	}
	else if (mos_whale_edq == 8 && $@mos1_edq > 0) {
		mes "[伊霸诺布]";
		mes "杀光所有怪物";
		close;
	}
	else if (mos_whale_edq == 91 && $@mos1_edq == 0) {
		mes "哪个方向?";
		next;
		switch(select("东:西:南:北")) {
		case 1:
			set .@ship_mon2,rand(1,4);
			if (.@ship_mon2 == 3) {
				mes "[伊霸诺布]";
				mes "好的";
				mes "首先向东";
				mes "等我给你命令时,";
				mes "再调整航向.";
				next;
				mes "[伊霸诺布]";
				mes "哦不!怪物出现了.";
				mes "我们先消灭怪物!";
				set $@mos1_edq,$@mos1_edq+1;
				set mos_whale_edq,11;
				donpcevent "Baehideun3#ship::OnEnable";
				close;
			}else{
				mes "[伊霸诺布]";
				mes "好的";
				mes "首先向东";
				mes "等我给你命令时,";
				mes "再调整航向.";
				set mos_whale_edq,10;
				close;
			}
			break;
		case 2:
			set .@ship_mon1,rand(1,4);
			if (.@ship_mon1 == 1) {
				mes "[伊霸诺布]";
				mes "我说的朝东!";
				mes "朝着我说的方向走!";
				
				next;
				mes "[伊霸诺布]";
				mes "哦不!怪物出现了.";
				mes "我们先消灭怪物!";
				set $@mos1_edq,$@mos1_edq+1;
				donpcevent "Baehideun1#ship::OnEnable";
				close;
				set .@ship_mon1,rand(1,4);
			}
			else if (.@ship_mon1 == 2) {
				mes "[伊霸诺布]";
				mes "我说的朝东!";
				mes "朝着我说的方向走!";
				
				next;
				mes "[伊霸诺布]";
				mes "哦不!怪物出现了.";
				mes "我们先消灭怪物!";
				set $@mos1_edq,$@mos1_edq+1;
				donpcevent "Baehideun2#ship::OnEnable";
				close;
			}else{
				mes "[伊霸诺布]";
				mes "我说的朝东!";
				mes "朝着我说的方向走!";
				close;
			}
			break;
		case 3:
			set .@ship_mon1,rand(1,4);
			if (.@sship_mon1 == 1) {
				mes "[伊霸诺布]";
				mes "我说的朝东!";
				mes "朝着我说的方向走!";
				
				next;
				mes "[伊霸诺布]";
				mes "哦不!怪物出现了.";
				mes "我们先消灭怪物!";
				set $@mos1_edq,$@mos1_edq+1;
				donpcevent "Baehideun1#ship::OnEnable";
				close;
				set .@ship_mon1,rand(1,4);
			}
			else if (.@ship_mon1 == 2) {
				mes "[伊霸诺布]";
				mes "我说的朝东!";
				mes "朝着我说的方向走!";
				
				next;
				mes "[伊霸诺布]";
				mes "哦不!怪物出现了.";
				mes "我们先消灭怪物!";
				set $@mos1_edq,$@mos1_edq+1;
				donpcevent "Baehideun2#ship::OnEnable";
				close;
			}else{
				mes "[伊霸诺布]";
				mes "我说的朝东!";
				mes "朝着我说的方向走!";
				close;
			}
			break;
		case 4:
			set .@ship_mon1,rand(1,4);
			if (.@ship_mon1 == 1) {
				mes "[伊霸诺布]";
				mes "我说的朝东!";
				mes "朝着我说的方向走!";
				
				next;
				mes "[伊霸诺布]";
				mes "哦不!怪物出现了.";
				mes "我们先消灭怪物!";
				set $@mos1_edq,$@mos1_edq+1;
				donpcevent "Baehideun1#ship::OnEnable";
				close;
				set .@ship_mon1,rand(1,4);
			}
			else if (.@ship_mon1 == 2) {
				mes "[伊霸诺布]";
				mes "我说的朝东!";
				mes "朝着我说的方向走!";
				
				next;
				mes "[伊霸诺布]";
				mes "哦不!怪物出现了.";
				mes "我们先消灭怪物!";
				set $@mos1_edq,$@mos1_edq+1;
				donpcevent "Baehideun2#ship::OnEnable";
				close;
			}else{
				mes "[伊霸诺布]";
				mes "我说的朝东!";
				mes "朝着我说的方向走!";
				close;
			}
		}
	}
	else if (mos_whale_edq == 92 && $@mos1_edq == 0) {
		mes "哪个方向?";
		next;
		switch(select("东:西:南:北")) {
		case 1:
			set .@ship_mon1,rand(1,4);
			if (.@ship_mon1 == 1) {
				mes "[伊霸诺布]";
				mes "我说的朝西!";
				mes "朝着我说的方向走!";
				
				next;
				mes "[伊霸诺布]";
				mes "哦不!怪物出现了.";
				mes "我们先消灭怪物!";
				set $@mos1_edq,$@mos1_edq+1;
				donpcevent "Baehideun1#ship::OnEnable";
				close;
				set ship_mon1,rand(1,4);
			}
			else if (.@ship_mon1 == 2) {
				mes "[伊霸诺布]";
				mes "我说的朝西!";
				mes "朝着我说的方向走!";
				
				next;
				mes "[伊霸诺布]";
				mes "哦不!怪物出现了.";
				mes "我们先消灭怪物!";
				set $@mos1_edq,$@mos1_edq+1;
				donpcevent "Baehideun2#ship::OnEnable";
				close;
			}else{
				mes "[伊霸诺布]";
				mes "我说的朝西!";
				mes "朝着我说的方向走!";
				close;
			}
			break;
		case 2:
			set .@ship_mon2,rand(1,4);
			if (.@ship_mon2 == 3) {
				mes "[伊霸诺布]";
				mes "好的";
				mes "首先向西";
				mes "等我给你命令时,";
				mes "再调整航向.";
				next;
				mes "哦不!怪物出现了.";
				mes "我们先消灭怪物!";
				set $@mos1_edq,$@mos1_edq+1;
				set mos_whale_edq,11;
				donpcevent "Baehideun3#ship::OnEnable";
				close;
			}else{
				mes "[伊霸诺布]";
				mes "好的";
				mes "首先向西";
				mes "等我给你命令时,";
				mes "再调整航向.";
				set mos_whale_edq,10;
				close;
			}
			break;
		case 3:
			set .@ship_mon1,rand(1,4);
			if (.@ship_mon1 == 1) {
				mes "[伊霸诺布]";
				mes "我说的朝西!";
				mes "朝着我说的方向走!";
				next;
				mes "[伊霸诺布]";
				mes "哦不!怪物出现了.";
				mes "我们先消灭怪物!";
				set $@mos1_edq,$@mos1_edq+1;
				donpcevent "Baehideun1#ship::OnEnable";
				close;
				set .@ship_mon1,rand(1,4);
			}
			else if (.@ship_mon1 == 2) {
				mes "[伊霸诺布]";
				mes "我说的朝西!";
				mes "朝着我说的方向走!";
				next;
				mes "[伊霸诺布]";
				mes "哦不!怪物出现了.";
				mes "我们先消灭怪物!";
				set $@mos1_edq,$@mos1_edq+1;
				donpcevent "Baehideun2#ship::OnEnable";
				close;
			}else{
				mes "[伊霸诺布]";
				mes "我说的朝西!";
				mes "朝着我说的方向走!";
				close;
			}
			break;
		case 4:
			set .@ship_mon1,rand(1,4);
			if (.@ship_mon1 == 1) {
				mes "[伊霸诺布]";
				mes "我说的朝西!";
				mes "朝着我说的方向走!";
				next;
				mes "[伊霸诺布]";
				mes "哦不!怪物出现了.";
				mes "我们先消灭怪物!";
				set $@mos1_edq,$@mos1_edq+1;
				donpcevent "Baehideun1#ship::OnEnable";
				close;
				set .@ship_mon1,rand(1,4);
			}
			else if (.@ship_mon1 == 2) {
				mes "[伊霸诺布]";
				mes "我说的朝西!";
				mes "朝着我说的方向走!";
				next;
				mes "[伊霸诺布]";
				mes "哦不!怪物出现了.";
				mes "我们先消灭怪物!";
				set $@mos1_edq,$@mos1_edq+1;
				donpcevent "Baehideun2#ship::OnEnable";
				close;
			}else{
				mes "[伊霸诺布]";
				mes "我说的朝西!";
				mes "朝着我说的方向走!";
				close;
			}
		}
	}
	else if (mos_whale_edq == 93 && $@mos1_edq == 0) {
		mes "哪个方向?";
		next;
		switch(select("东:西:南:北")) {
		case 1:
			set .@ship_mon1,rand(1,4);
			if (.@ship_mon1 == 1) {
				mes "[伊霸诺布]";
				mes "我说的朝南!";
				mes "朝着我说的方向走!";
				
				next;
				mes "[伊霸诺布]";
				mes "哦不!怪物出现了.";
				mes "我们先消灭怪物!";
				set $@mos1_edq,$@mos1_edq+1;
				donpcevent "Baehideun1#ship::OnEnable";
				close;
				set .@ship_mon1,rand(1,4);
			}
			else if (.@ship_mon1 == 2) {
				mes "[伊霸诺布]";
				mes "我说的朝南!";
				mes "朝着我说的方向走!";
				
				next;
				mes "[伊霸诺布]";
				mes "哦不!怪物出现了.";
				mes "我们先消灭怪物!";
				set $@mos1_edq,$@mos1_edq+1;
				donpcevent "Baehideun2#ship::OnEnable";
				close;
			}else{
				mes "[伊霸诺布]";
				mes "我说的朝南!";
				mes "朝着我说的方向走!";
				close;
			}
			break;
		case 2:
			set .@ship_mon1,rand(1,4);
			if (.@ship_mon1 == 1) {
				mes "[伊霸诺布]";
				mes "我说的朝南!";
				mes "朝着我说的方向走!";
				
				next;
				mes "[伊霸诺布]";
				mes "哦不!怪物出现了.";
				mes "我们先消灭怪物!";
				set $@mos1_edq,$@mos1_edq+1;
				donpcevent "Baehideun1#ship::OnEnable";
				close;
				set .@ship_mon1,rand(1,4);
			}
			else if (.@ship_mon1 == 2) {
				mes "[伊霸诺布]";
				mes "我说的朝南!";
				mes "朝着我说的方向走!";
				
				next;
				mes "[伊霸诺布]";
				mes "哦不!怪物出现了.";
				mes "我们先消灭怪物!";
				set $@mos1_edq,$@mos1_edq+1;
				donpcevent "Baehideun2#ship::OnEnable";
				close;
			}else{
				mes "[伊霸诺布]";
				mes "我说的朝南!";
				mes "朝着我说的方向走!";
				close;
			}
			break;
		case 3:
			set .@ship_mon2,rand(1,4);
			if (.@ship_mon2 == 3) {
				mes "[伊霸诺布]";
				mes "我说的朝南!";
				mes "朝着我说的方向走!";
				next;
				mes "[伊霸诺布]";
				mes "哦不!怪物出现了.";
				mes "我们先消灭怪物!";
				set $@mos1_edq,$@mos1_edq+1;
				set mos_whale_edq,11;
				donpcevent "Baehideun3#ship::OnEnable";
				close;
			}else{
				mes "[伊霸诺布]";
				mes "我说的朝南!";
				mes "朝着我说的方向走!";
				set mos_whale_edq,10;
				close;
			}
			break;
		case 4:
			set .@ship_mon1,rand(1,4);
			if (.@ship_mon1 == 1) {
				mes "[伊霸诺布]";
				mes "我说的朝南!";
				mes "朝着我说的方向走!";
				next;
				mes "[伊霸诺布]";
				mes "哦不!怪物出现了.";
				mes "我们先消灭怪物!";
				set $@mos1_edq,$@mos1_edq+1;
				donpcevent "Baehideun1#ship::OnEnable";
				close;
				set .@ship_mon1,rand(1,4);
			}
			else if (.@ship_mon1 == 2) {
				mes "[伊霸诺布]";
				mes "我说的朝南!";
				mes "朝着我说的方向走!";
				next;
				mes "[伊霸诺布]";
				mes "哦不!怪物出现了.";
				mes "我们先消灭怪物!";
				set $@mos1_edq,$@mos1_edq+1;
				donpcevent "Baehideun2#ship::OnEnable";
				close;
			}else{
				mes "[伊霸诺布]";
				mes "我说的朝南!";
				mes "朝着我说的方向走!";
				close;
			}
		}
	}
	else if (mos_whale_edq == 94 && $@mos1_edq == 0) {
		mes "哪个方向?";
		next;
		switch(select("东:西:南:北")) {
		case 1:
			set .@ship_mon1,rand(1,4);
			if (.@ship_mon1 == 1) {
				mes "[伊霸诺布]";
				mes "我说的朝北!";
				mes "朝着我说的方向走!";
				next;
				mes "[伊霸诺布]";
				mes "哦不!怪物出现了.";
				mes "我们先消灭怪物!";
				set $@mos1_edq,$@mos1_edq+1;
				donpcevent "Baehideun1#ship::OnEnable";
				close;
				set .@ship_mon1,rand(1,4);
			}
			else if (.@ship_mon1 == 2) {
				mes "[伊霸诺布]";
				mes "我说的朝北!";
				mes "朝着我说的方向走!";
				next;
				mes "[伊霸诺布]";
				mes "哦不!怪物出现了.";
				mes "我们先消灭怪物!";
				set $@mos1_edq,$@mos1_edq+1;
				donpcevent "Baehideun2#ship::OnEnable";
				close;
			}else{
				mes "[伊霸诺布]";
				mes "我说的朝北!";
				mes "朝着我说的方向走!";
				close;
			}
			break;
		case 2:
			set .@ship_mon1,rand(1,4);
			if (.@ship_mon1 == 1) {
				mes "我说的朝北!";
				mes "朝着我说的方向走!";
				
				next;
				mes "[伊霸诺布]";
				mes "哦不!怪物出现了.";
				mes "我们先消灭怪物!";
				set $@mos1_edq,$@mos1_edq+1;
				donpcevent "Baehideun1#ship::OnEnable";
				close;
				set .@ship_mon1,rand(1,4);
			}
			else if (.@ship_mon1 == 2) {
				mes "[伊霸诺布]";
				mes "我说的朝北!";
				mes "朝着我说的方向走!";
				
				next;
				mes "[伊霸诺布]";
				mes "哦不!怪物出现了.";
				mes "我们先消灭怪物!";
				set $@mos1_edq,$@mos1_edq+1;
				donpcevent "Baehideun2#ship::OnEnable";
				close;
			}else{
				mes "[伊霸诺布]";
				mes "我说的朝北!";
				mes "朝着我说的方向走!";
				close;
			}
			break;
		case 3:
			set .@ship_mon1,rand(1,4);
			if (.@ship_mon1 == 1) {
				mes "[伊霸诺布]";
				mes "我说的朝北!";
				mes "朝着我说的方向走!";
				next;
				mes "[伊霸诺布]";
				mes "哦不!怪物出现了.";
				mes "我们先消灭怪物!";
				set $@mos1_edq,$@mos1_edq+1;
				donpcevent "Baehideun1#ship::OnEnable";
				close;
				set .@ship_mon1,rand(1,4);
			}
			else if (.@ship_mon1 == 2) {
				mes "[伊霸诺布]";
				mes "我说的朝北!";
				mes "朝着我说的方向走!";
				next;
				mes "[伊霸诺布]";
				mes "哦不!怪物出现了.";
				mes "我们先消灭怪物!";
				set $@mos1_edq,$@mos1_edq+1;
				donpcevent "Baehideun2#ship::OnEnable";
				close;
			}else{
				mes "[伊霸诺布]";
				mes "我说的朝北!";
				mes "朝着我说的方向走!";
				close;
			}
			break;
		case 4:
			set .@ship_mon2,rand(1,4);
			if (.@ship_mon2 == 3) {
				mes "[伊霸诺布]";
				mes "我说的朝北!";
				mes "朝着我说的方向走!";
				next;
				mes "[伊霸诺布]";
				mes "哦不!怪物出现了.";
				mes "我们先消灭怪物!";
				set $@mos1_edq,$@mos1_edq+1;
				set mos_whale_edq,11;
				donpcevent "Baehideun3#ship::OnEnable";
				close;
			}else{
				mes "[伊霸诺布]";
				mes "我说的朝北!";
				mes "朝着我说的方向走!";
				set mos_whale_edq,10;
				close;
			}
		}
	}
	else if (mos_whale_edq == 7 && $@mos1_edq > 0) {
		mes "[伊霸诺布]";
		mes "杀光所有怪物";
		close;
	}
	else if (mos_whale_edq == 8 && $@mos1_edq > 0) {
		mes "[伊霸诺布]";
		mes "杀光所有怪物";
		close;
	}
	else if (mos_whale_edq == 10 && $@mos1_edq > 0) {
		mes "[伊霸诺布]";
		mes "杀光所有怪物";
		close;
	}
	else if (mos_whale_edq == 11 && $@mos1_edq > 0) {
		mes "[伊霸诺布]";
		mes "杀光所有怪物";
		close;
	}
	else if (mos_whale_edq > 10 && mos_whale_edq < 13) {
		mes "[伊霸诺布]";
		mes "看海面上!";
		mes "是不是有什么东西在移动?";
		next;
		mes "[伊霸诺布]";
		mes "呵呵...";
		mes "嘿!你!";
		mes "去甲板上";
		mes "看仔细点, 快去!";
		close;
	}
	else if (mos_whale_edq > 89 && mos_whale_edq < 100 && $@mos1_edq > 0) {
		mes "[伊霸诺布]";
		mes "杀光所有怪物";
		close;
	}
	else if (mos_whale_edq == 20) {
		mes "哪个方向?";
		next;
		switch(select("东:西:南:北")) {
		case 1:
			mes "[伊霸诺布]";
			mes "好的";
			mes "首先向东";
			mes "等我给你命令时,";
			mes "再调整航向.";
			set mos_whale_edq,21;
			close;
			break;
		case 2:
			mes "[伊霸诺布]";
			mes "我说的朝东!";
			mes "朝着我说的方向走!";
			close;
			break;
		case 3:
			mes "[伊霸诺布]";
			mes "我说的朝东!";
			mes "朝着我说的方向走!";
			close;
			break;
		case 4:
			mes "[伊霸诺布]";
			mes "我说的朝东!";
			mes "朝着我说的方向走!";
			close;
		}
	}
	else if (mos_whale_edq == 21) {
		mes "[伊霸诺布]";
		mes "现在不用调整航向了.";
		mes "等我的命令.";

		close;
	}
	else if (mos_whale_edq == 22 && $@mos1_edq == 0) {
		mes "哪个方向?";
		next;
		switch(select("东:西:南:北")) {
		case 1:
			set .@ship_mon1,rand(1,4);
			if (.@ship_mon1 == 2) {
				mes "[伊霸诺布]";
				mes "我说的朝北!";
				mes "朝着我说的方向走!";
				
				next;
				mes "[伊霸诺布]";
				mes "哦不!怪物出现了.";
				mes "我们先消灭怪物!";
				set $@mos1_edq,$@mos1_edq+1;
				donpcevent "Baehideun1#ship::OnEnable";
				close;
				set .@ship_mon1,rand(1,4);
			}
			else if (.@ship_mon1 == 4) {
				mes "[伊霸诺布]";
				mes "我说的朝北!";
				mes "朝着我说的方向走!";
				
				next;
				mes "[伊霸诺布]";
				mes "哦不!怪物出现了.";
				mes "我们先消灭怪物!";
				set $@mos1_edq,$@mos1_edq+1;
				donpcevent "Baehideun2#ship::OnEnable";
				close;
			}else{
				mes "[伊霸诺布]";
				mes "我说的朝北!";
				mes "朝着我说的方向走!";
				close;
			}
			break;
		case 2:
			set .@ship_mon1,rand(1,4);
			if (.@ship_mon1 == 2) {
				mes "[伊霸诺布]";
				mes "我说的朝北!";
				mes "朝着我说的方向走!";
				
				next;
				mes "[伊霸诺布]";
				mes "哦不!怪物出现了.";
				mes "我们先消灭怪物!";
				set $@mos1_edq,$@mos1_edq+1;
				donpcevent "Baehideun1#ship::OnEnable";
				close;
				set .@ship_mon1,rand(1,4);
			}
			else if (.@ship_mon1 == 4) {
				mes "[伊霸诺布]";
				mes "我说的朝北!";
				mes "朝着我说的方向走!";
				
				next;
				mes "[伊霸诺布]";
				mes "哦不!怪物出现了.";
				mes "我们先消灭怪物!";
				set $@mos1_edq,$@mos1_edq+1;
				donpcevent "Baehideun2#ship::OnEnable";
				close;
			}else{
				mes "[伊霸诺布]";
				mes "我说的朝北!";
				mes "朝着我说的方向走!";
				close;
			}
			break;
		case 3:
			set .@ship_mon1,rand(1,4);
			if (.@ship_mon1 == 2) {
				mes "[伊霸诺布]";
				mes "我说的朝北!";
				mes "朝着我说的方向走!";
				next;
				mes "[伊霸诺布]";
				mes "哦不!怪物出现了.";
				mes "我们先消灭怪物!";
				set $@mos1_edq,$@mos1_edq+1;
				donpcevent "Baehideun1#ship::OnEnable";
				close;
				set .@ship_mon1,rand(1,4);
			}
			else if (.@ship_mon1 == 4) {
				mes "[伊霸诺布]";
				mes "我说的朝北!";
				mes "朝着我说的方向走!";
				next;
				mes "[伊霸诺布]";
				mes "哦不!怪物出现了.";
				mes "我们先消灭怪物!";
				set $@mos1_edq,$@mos1_edq+1;
				donpcevent "Baehideun2#ship::OnEnable";
				close;
			}else{
				mes "[伊霸诺布]";
				mes "我说的朝北!";
				mes "朝着我说的方向走!";
				close;
			}
			break;
		case 4:
			mes "[伊霸诺布]";
			mes "好的";
			mes "首先向北";
			mes "等我给你命令时,";
			mes "再调整航向.";
			set mos_whale_edq,23;
			close;
		}
	}
	else if (mos_whale_edq == 22 && $@mos1_edq > 0) {
		mes "[伊霸诺布]";
		mes "杀光所有怪物";
		close;
	}
	else if (mos_whale_edq == 23 && $@mos1_edq == 0) {
		mes "[伊霸诺布]";
		
		mes "现在不用调整航向了.";
		mes "等我的命令.";
		close;
	}
	else if (mos_whale_edq == 23 && $@mos1_edq > 0) {
		mes "[伊霸诺布]";
		mes "杀光所有怪物";
		close;
	}
	else if (mos_whale_edq == 241 && $@mos1_edq == 0) {
		mes "哪个方向?";
		next;
		switch(select("东:西:南:北")) {
		case 1:
			set .@ship_mon2,rand(1,5);
			if (.@ship_mon2 == 3) {
				mes "[伊霸诺布]";
				mes "我说的朝东!";
				mes "朝着我说的方向走!";
				
				next;
				mes "[伊霸诺布]";
				mes "哦不!怪物出现了.";
				mes "我们先消灭怪物!";
				set $@mos1_edq,$@mos1_edq+1;
				set mos_whale_edq,26;
				donpcevent "Baehideun4#ship::OnEnable";
				close;
			}else{
				mes "[伊霸诺布]";
				mes "好的";
				mes "首先向东";
				mes "等我给你命令时,";
				mes "再调整航向.";
				set mos_whale_edq,25;
				close;
			}
			break;
		case 2:
			set .@ship_mon1,rand(1,4);
			if (.@ship_mon1 == 1) {
				mes "[伊霸诺布]";
				mes "我说的朝东!";
				mes "朝着我说的方向走!";
				next;
				mes "[伊霸诺布]";
				mes "哦不!怪物出现了.";
				mes "我们先消灭怪物!";
				set $@mos1_edq,$@mos1_edq+1;
				donpcevent "Baehideun1#ship::OnEnable";
				close;
				set .@ship_mon1,rand(1,4);
			}
			else if (.@ship_mon1 == 2) {
				mes "[伊霸诺布]";
				mes "我说的朝东!";
				mes "朝着我说的方向走!";
				next;
				mes "[伊霸诺布]";
				mes "哦不!怪物出现了.";
				mes "我们先消灭怪物!";
				set $@mos1_edq,$@mos1_edq+1;
				donpcevent "Baehideun2#ship::OnEnable";
				close;
			}else{
				mes "[伊霸诺布]";
				mes "我说的朝东!";
				mes "朝着我说的方向走!";
				close;
			}
			break;
		case 3:
			set .@ship_mon1,rand(1,4);
			if (.@ship_mon1 == 1) {
				mes "[伊霸诺布]";
				mes "我说的朝东!";
				mes "朝着我说的方向走!";
				next;
				mes "[伊霸诺布]";
				mes "哦不!怪物出现了.";
				mes "我们先消灭怪物!";
				set $@mos1_edq,$@mos1_edq+1;
				donpcevent "Baehideun1#ship::OnEnable";
				close;
				set .@ship_mon1,rand(1,4);
			}
			else if (.@ship_mon1 == 2) {
				mes "[伊霸诺布]";
				mes "我说的朝东!";
				mes "朝着我说的方向走!";
				
				next;
				mes "[伊霸诺布]";
				mes "哦不!怪物出现了.";
				mes "我们先消灭怪物!";
				set $@mos1_edq,$@mos1_edq+1;
				donpcevent "Baehideun2#ship::OnEnable";
				close;
			}else{
				mes "[伊霸诺布]";
				mes "我说的朝东!";
				mes "朝着我说的方向走!";
				close;
			}
			break;
		case 4:
			set .@ship_mon1,rand(1,4);
			if (.@ship_mon1 == 1) {
				mes "[伊霸诺布]";
				mes "我说的朝东!";
				mes "朝着我说的方向走!";
				next;
				mes "[伊霸诺布]";
				mes "哦不!怪物出现了.";
				mes "我们先消灭怪物!";
				set $@mos1_edq,$@mos1_edq+1;
				donpcevent "Baehideun1#ship::OnEnable";
				close;
				set .@ship_mon1,rand(1,4);
			}
			else if (.@ship_mon1 == 2) {
				mes "[伊霸诺布]";
				mes "我说的朝东!";
				mes "朝着我说的方向走!";
				
				next;
				mes "[伊霸诺布]";
				mes "哦不!怪物出现了.";
				mes "我们先消灭怪物!";
				set $@mos1_edq,$@mos1_edq+1;
				donpcevent "Baehideun2#ship::OnEnable";
				close;
			}else{
				mes "[伊霸诺布]";
				mes "我说的朝东!";
				mes "朝着我说的方向走!";
				
			
				close;
			}
		}
	}
	else if (mos_whale_edq == 242 && $@mos1_edq == 0) {
		mes "哪个方向?";
		next;
		switch(select("东:西:南:北")) {
		case 1:
			set .@ship_mon1,rand(1,4);
			if (.@ship_mon1 == 1) {
				mes "[伊霸诺布]";
				mes "我说的朝西!";
				mes "朝着我说的方向走!";
				
				next;
				mes "[伊霸诺布]";
				mes "哦不!怪物出现了.";
				mes "我们先消灭怪物!";
				set $@mos1_edq,$@mos1_edq+1;
				donpcevent "Baehideun1#ship::OnEnable";
				close;
				set .@ship_mon1,rand(1,4);
			}
			else if (.@ship_mon1 == 2) {
				mes "[伊霸诺布]";
				mes "我说的朝西!";
				mes "朝着我说的方向走!";
				next;
				mes "[伊霸诺布]";
				mes "哦不!怪物出现了.";
				mes "我们先消灭怪物!";
				set $@mos1_edq,$@mos1_edq+1;
				donpcevent "Baehideun2#ship::OnEnable";
				close;
			}else{
				mes "[伊霸诺布]";
				mes "我说的朝西!";
				mes "朝着我说的方向走!";
				close;
			}
			break;
		case 2:
			set .@ship_mon2,rand(1,5);
			if (.@ship_mon2 == 3) {
				mes "[伊霸诺布]";
				mes "我说的朝西!";
				mes "朝着我说的方向走!";
				next;
				mes "[伊霸诺布]";
				mes "哦不!怪物出现了.";
				mes "我们先消灭怪物!";
				set $@mos1_edq,$@mos1_edq+1;
				set mos_whale_edq,26;
				donpcevent "Baehideun4#ship::OnEnable";
				close;
			}else{
				mes "[伊霸诺布]";
				mes "好的";
				mes "首先向西";
				mes "等我给你命令时,";
				mes "再调整航向.";
				set mos_whale_edq,25;
				close;
			}
			break;
		case 3:
			set .@ship_mon1,rand(1,4);
			if (.@ship_mon1 == 1) {
				mes "[伊霸诺布]";
				mes "我说的朝西!";
				mes "朝着我说的方向走!";
				
				next;
				mes "[伊霸诺布]";
				mes "哦不!怪物出现了.";
				mes "我们先消灭怪物!";
				set $@mos1_edq,$@mos1_edq+1;
				donpcevent "Baehideun1#ship::OnEnable";
				close;
				set .@ship_mon1,rand(1,4);
			}
			else if (.@ship_mon1 == 2) {
				mes "[伊霸诺布]";
				mes "我说的朝西!";
				mes "朝着我说的方向走!";
				
				next;
				mes "[伊霸诺布]";
				mes "哦不!怪物出现了.";
				mes "我们先消灭怪物!";
				set $@mos1_edq,$@mos1_edq+1;
				donpcevent "Baehideun2#ship::OnEnable";
				close;
			}else{
				mes "[伊霸诺布]";
				mes "我说的朝西!";
				mes "朝着我说的方向走!";
			
				close;
			}
			break;
		case 4:
			set .@ship_mon1,rand(1,4);
			if (.@ship_mon1 == 1) {
				mes "[伊霸诺布]";
				mes "我说的朝西!";
				mes "朝着我说的方向走!";
				next;
				mes "[伊霸诺布]";
				mes "哦不!怪物出现了.";
				mes "我们先消灭怪物!";
				set $@mos1_edq,$@mos1_edq+1;
				donpcevent "Baehideun1#ship::OnEnable";
				close;
				set .@ship_mon1,rand(1,4);
			}
			else if (.@ship_mon1 == 2) {
				mes "[伊霸诺布]";
				mes "我说的朝西!";
				mes "朝着我说的方向走!";
				next;
				mes "[伊霸诺布]";
				mes "哦不!怪物出现了.";
				mes "我们先消灭怪物!";
				set $@mos1_edq,$@mos1_edq+1;
				donpcevent "Baehideun2#ship::OnEnable";
				close;
			}else{
				mes "[伊霸诺布]";
				mes "我说的朝西!";
				mes "朝着我说的方向走!";
				close;
			}
		}
	}
	else if (mos_whale_edq == 243 && $@mos1_edq == 0) {
		mes "哪个方向?";
		next;
		switch(select("东:西:南:北")) {
		case 1:
			set .@ship_mon1,rand(1,4);
			if (.@ship_mon1 == 1) {
				mes "[伊霸诺布]";
				mes "我说的朝南!";
				mes "朝着我说的方向走!";
				next;
				mes "[伊霸诺布]";
				mes "哦不!怪物出现了.";
				mes "我们先消灭怪物!";
				set $@mos1_edq,$@mos1_edq+1;
				donpcevent "Baehideun1#ship::OnEnable";
				close;
				set .@ship_mon1,rand(1,4);
			}
			else if (.@ship_mon1 == 2) {
				mes "[伊霸诺布]";
				mes "我说的朝南!";
				mes "朝着我说的方向走!";
				next;
				mes "[伊霸诺布]";
				mes "哦不!怪物出现了.";
				mes "我们先消灭怪物!";
				set $@mos1_edq,$@mos1_edq+1;
				donpcevent "Baehideun2#ship::OnEnable";
				close;
			}else{
				mes "[伊霸诺布]";
				mes "I said tHat we should go South!";
				mes "You should sail in the right";
				mes "direction! To the south!";
				close;
			}
			break;
		case 2:
			set .@ship_mon1,rand(1,4);
			if (.@ship_mon1 == 1) {
				mes "[伊霸诺布]";
				mes "我说的朝南!";
				mes "朝着我说的方向走!";
				next;
				mes "[伊霸诺布]";
				mes "哦不!怪物出现了.";
				mes "我们先消灭怪物!";
				set $@mos1_edq,$@mos1_edq+1;
				donpcevent "Baehideun1#ship::OnEnable";
				close;
				set .@ship_mon1,rand(1,4);
			}
			else if (.@ship_mon1 == 2) {
				mes "[伊霸诺布]";
				mes "我说的朝南!";
				mes "朝着我说的方向走!";
				next;
				mes "[伊霸诺布]";
				mes "哦不!怪物出现了.";
				mes "我们先消灭怪物!";
				set $@mos1_edq,$@mos1_edq+1;
				donpcevent "Baehideun2#ship::OnEnable";
				close;
			}else{
				mes "[伊霸诺布]";
				mes "我说的朝南!";
				mes "朝着我说的方向走!";
				close;
			}
			break;
		case 3:
			set .@ship_mon2,rand(1,5);
			if (.@ship_mon2 == 3) {
				mes "[伊霸诺布]";
				mes "我说的朝南!";
				mes "朝着我说的方向走!";
				next;
				mes "[伊霸诺布]";
				mes "哦不!怪物出现了.";
				mes "我们先消灭怪物!";
				set $@mos1_edq,$@mos1_edq+1;
				set mos_whale_edq,26;
				donpcevent "Baehideun4#ship::OnEnable";
				close;
			}else{
				mes "[伊霸诺布]";
				mes "我说的朝南!";
				mes "朝着我说的方向走!";
				close;
			}
			break;
		case 4:
			set .@ship_mon1,rand(1,4);
			if (.@ship_mon1 == 1) {
				mes "[伊霸诺布]";
				mes "我说的朝南!";
				mes "朝着我说的方向走!";
				next;
				mes "[伊霸诺布]";
				mes "哦不!怪物出现了.";
				mes "我们先消灭怪物!";
				set $@mos1_edq,$@mos1_edq+1;
				donpcevent "Baehideun1#ship::OnEnable";
				close;
				set .@ship_mon1,rand(1,4);
			}
			else if (.@ship_mon1 == 2) {
				mes "[伊霸诺布]";
				mes "我说的朝南!";
				mes "朝着我说的方向走!";
				next;
				mes "[伊霸诺布]";
				mes "哦不!怪物出现了.";
				mes "我们先消灭怪物!";
				set $@mos1_edq,$@mos1_edq+1;
				donpcevent "Baehideun2#ship::OnEnable";
				close;
			}else{
				mes "[伊霸诺布]";
				mes "我说的朝南!";
				mes "朝着我说的方向走!";
				close;
			}
		}
	}
	else if (mos_whale_edq == 244 && $@mos1_edq == 0) {
		mes "哪个方向?";
		next;
		switch(select("东:西:南:北")) {
		case 1:
			set .@ship_mon1,rand(1,4);
			if (.@ship_mon1 == 1) {
				mes "[伊霸诺布]";
				mes "我说的朝北!";
				mes "朝着我说的方向走!";
				next;
				mes "[伊霸诺布]";
				mes "哦不!怪物出现了.";
				mes "我们先消灭怪物!";
				set $@mos1_edq,$@mos1_edq+1;
				donpcevent "Baehideun1#ship::OnEnable";
				close;
				set .@ship_mon1,rand(1,4);
			}
			else if (.@ship_mon1 == 2) {
				mes "[伊霸诺布]";
				mes "我说的朝北!";
				mes "朝着我说的方向走!";
				next;
				mes "[伊霸诺布]";
				mes "哦不!怪物出现了.";
				mes "我们先消灭怪物!";
				set $@mos1_edq,$@mos1_edq+1;
				donpcevent "Baehideun2#ship::OnEnable";
				close;
			}else{
				mes "[伊霸诺布]";
				mes "我说的朝北!";
				mes "朝着我说的方向走!";
				close;
			}
			break;
		case 2:
			set .@ship_mon1,rand(1,4);
			if (.@ship_mon1 == 1) {
				mes "[伊霸诺布]";
				mes "我说的朝北!";
				mes "朝着我说的方向走!";
				next;
				mes "[伊霸诺布]";
				mes "哦不!怪物出现了.";
				mes "我们先消灭怪物!";
				set $@mos1_edq,$@mos1_edq+1;
				donpcevent "Baehideun1#ship::OnEnable";
				close;
				set .@ship_mon1,rand(1,4);
			}
			else if (.@ship_mon1 == 2) {
				mes "[伊霸诺布]";
				mes "我说的朝北!";
				mes "朝着我说的方向走!";
				next;
				mes "[伊霸诺布]";
				mes "哦不!怪物出现了.";
				mes "我们先消灭怪物!";
				set $@mos1_edq,$@mos1_edq+1;
				donpcevent "Baehideun2#ship::OnEnable";
				close;
			}else{
				mes "[伊霸诺布]";
				mes "我说的朝北!";
				mes "朝着我说的方向走!";
				close;
			}
			break;
		case 3:
			set .@ship_mon1,rand(1,4);
			if (.@ship_mon1 == 1) {
				mes "[伊霸诺布]";
				mes "我说的朝北!";
				mes "朝着我说的方向走!";
				next;
				mes "[伊霸诺布]";
				mes "哦不!怪物出现了.";
				mes "我们先消灭怪物!";
				set $@mos1_edq,$@mos1_edq+1;
				donpcevent "Baehideun1#ship::OnEnable";
				close;
				set .@ship_mon1,rand(1,4);
			}
			else if (.@ship_mon1 == 2) {
				mes "[伊霸诺布]";
				mes "我说的朝北!";
				mes "朝着我说的方向走!";
				next;
				mes "[伊霸诺布]";
				mes "哦不!怪物出现了.";
				mes "我们先消灭怪物!";
				set $@mos1_edq,$@mos1_edq+1;
				donpcevent "Baehideun2#ship::OnEnable";
				close;
			}else{
				mes "[伊霸诺布]";
				mes "我说的朝北!";
				mes "朝着我说的方向走!";
				close;
			}
			break;
		case 4:
			set .@ship_mon2,rand(1,5);
			if (.@ship_mon2 == 3) {
				mes "[伊霸诺布]";
				mes "我说的朝北!";
				mes "朝着我说的方向走!";
				next;
				mes "[伊霸诺布]";
				mes "哦不!怪物出现了.";
				mes "我们先消灭怪物!";
				set $@mos1_edq,$@mos1_edq+1;
				set mos_whale_edq,26;
				donpcevent "Baehideun4#ship::OnEnable";
				close;
			}else{
				mes "[伊霸诺布]";
				mes "好的";
				mes "首先向北";
				mes "等我给你命令时,";
				mes "再调整航向.";
				set mos_whale_edq,25;
				close;
			}
		}
	}
	else if ($@mos1_edq > 0) {
		mes "[伊霸诺布]";
		mes "杀光所有怪物";
		close;
	}
	else if (mos_whale_edq == 22 && $@mos1_edq > 0) {
		mes "[伊霸诺布]";
		mes "杀光所有怪物";
		close;
	}
	else if (mos_whale_edq == 23 && $@mos1_edq > 0) {
		mes "[伊霸诺布]";
		mes "杀光所有怪物";
		close;
	}
	else if (mos_whale_edq == 25 && $@mos1_edq > 0) {
		mes "[伊霸诺布]";
		mes "杀光所有怪物";
		close;
	}
	else if (mos_whale_edq == 25 && $@mos1_edq == 0) {
		mes "[伊霸诺布]";
		mes "听我的指令";
		mes "调整航向.";
		close;
	}
	else if (mos_whale_edq > 239 && mos_whale_edq < 250 && $@mos1_edq > 0) {
		mes "[伊霸诺布]";
		mes "杀光所有怪物";
		close;
	}
	else if (mos_whale_edq == 26) {
		mes "[伊霸诺布]";
		mes "嘿听我说.";
		mes "没我的允许谁让你来的?";
		next;
	}
	else{
		mes "[伊霸诺布]";
		mes "嗯?";
		mes "你怎么上来的?.";
		mes "这次就饶了你.";
		mes "滚回去.";
		close2;
		//set mos_whale_edq,4; lol, why is this here?
		warp "moscovia",162,56;
		end;
	}
}

//----------------------------------------------------------------------------
// 奇异的老人 - WHale Island
//----------------------------------------------------------------------------
mosk_fild01,86,104,3	script	奇异的老人#npc	963,{
	if (checkweight(1201,1) == 0 ) {
		mes "[奇异的老人]";
		mes "你身上带的东西太多了.";
		mes "去卡普拉存点东西再来吧.";
		close;
	}
	if ((MaxWeight-Weight) < 2000) {
		mes "[奇异的老人]";
		mes "你身上带的东西太多了.";
		mes "去卡普拉存点东西再来吧.";
		close;
	}
	if (mos_whale_edq == 13) {
		mes "[奇异的老人]";
		mes "你醒了.";
		mes "感觉怎么样??";
		next;
		mes "["+strcharinfo(0)+"]";
		mes "啊 我在哪?";
		mes "发生了什么...?";
		next;
		mes "[奇异的老人]";
		mes "别惊讶!";
		mes "我很久没有";
		mes "和陆地上的人交谈过了.";
		next;
		mes "["+strcharinfo(0)+"]";
		mes "我在哪?";
		mes "老头你是谁?";
		next;
		mes "[奇异的老人]";
		mes "这...";
		mes "我怎么说呢...";
		mes "这被人们称作";
		mes "会移动的岛屿.";
		next;
		mes "[奇异的老人]";
		mes "这岛上就我1个人.";
		next;
		mes "[奇异的老人]";
		mes "我叫它...";
		mes "鲸鱼岛.";
		next;
		mes "["+strcharinfo(0)+"]";
		mes "这岛很有名";
		mes " ";
		mes "但是... ...";
		next;
		mes "[奇异的老人]";
		mes "哈哈!";
		mes "你看到了?是的!";
		mes "我们站在鲸鱼的背上!";
		mes "所以我叫它鲸鱼岛!";
		next;
		mes "["+strcharinfo(0)+"]";
		mes "这怎么可能?";
		mes "鲸鱼背上";
		mes "有小溪和树木?";
		
		next;
		mes "[奇异的老人]";
		mes "呵呵, 这个岛是个传奇.";
		mes " ";
		mes "哈哈哈!";
		next;
		mes "["+strcharinfo(0)+"]";
		mes "你是人吗?";
		next;
		mes "[奇异的老人]";
		mes "像你看到的,";
		mes "我只是个老头.";
		mes "一个人住这";
		mes "无牵无挂";
		mes " ";
		next;
		mes "[奇异的老人]";
		mes "好了";
		mes "我把你送回去吧";
		mes "不然你的朋友会担心你的";
		mes " ";
		next;
		soundeffect "mos_gusli1.wav",0;
		mes "老头开始演奏一种陌生的乐器";
		mes "-岛屿缓缓移动-";
		mes " ";
		next;
		mes "[奇异的老人]";
		mes "放松";
		mes "几分钟后.";
		mes "你就会回到原来的地方了.";
		next;
		mes "-老头闭上眼睛继续演奏";
		mes "再也不理你了.";
		mes "好像进入了另一个世界...";
		mes " ";
		mes " ";
		set mos_whale_edq,14;
		close2;
		sleep2 20000;
		set mos_whale_edq,15;
		end;
	}
	else if (mos_whale_edq == 14) {
		soundeffect "mos_gusli1.wav",0;
		mes "-老头闭上眼睛继续演奏";
		mes "再也不理你了.";
		mes "好像进入了另一个世界...";
		set mos_whale_edq,15;
		close;
	}
	else if (mos_whale_edq == 15) {
		mes "[奇异的老人]";
		mes "啊.快到了...";
		mes "年轻人, 你马上就可以";
		mes "回到那里了, 小心点.";
		next;
		mes "["+strcharinfo(0)+"]";
		mes "老头, 我怎么样";
		mes "才能再来这里?";
		next;
		mes "[奇异的老人]";
		mes "你居然还想来?";
		mes "你真是可笑...";
		next;
		mes "[奇异的老人]";
		mes "如果我们有缘的话,";
		mes "就会再次相见的,";
		mes "哈哈哈...";
		next;
		mes "[奇异的老人]";
		mes "好了该回去了,";
		mes "如果你以后还想来见我";
		mes "就来同一个海域吧";
		mes "我不会再阻止了你";
		mes "呵呵.";
		close2;
		warp "moscovia",163,54;
		end;
	}
	else if (mos_whale_edq == 30) {
		mes "[奇异的老人]";
		mes "哈哈, 没想到还能再见到你.";
		mes "你怎么来的?";
		next;
		select("解释来龙去脉.");
			mes "[奇异的老人]";
			mes "这样啊?";
			mes "没有来过这里的人";
			mes "希望你再来这";
			mes "嗯....";
			next;
			mes "[奇异的老人]";
			mes "我只想在这度过余生";
			mes "我对外面的世界感兴趣";
			mes "不过我已经融入不进去了";
			next;
			mes "[奇异的老人]";
			mes "不用担心我.";
			mes "你上次回去时我都没让你保密";
			next;
			mes "[奇异的老人]";
			mes "如果我真想躲起来";
			mes "没人找得到我";
			mes "你不用担心那些";
			next;
			mes "[奇异的老人]";
			mes "总之?";
			mes "你准备怎么做?";
			next;
			if(select("再想想.:你有什么方法不?") == 1) {
				mes "[奇异的老人]";
				mes "多想想";
				mes "总会有办法的...";
				mes "Hoohoohoo!";
				close;
			}
			mes "[奇异的老人]";
			mes "把 国王 带到这来, 叫他自己看?";
			mes "有点难...";
			next;
			mes "[奇异的老人]";
			mes "小岛存在的证据...";
			mes "这就是你要的吗...";
			next;
			soundeffect "mos_gusli1.wav",0;
			mes "-老头闭开始演奏乐器";
			mes "陷入沉思.-";
			next;
			mes "["+strcharinfo(0)+"]";
			mes "老头";
			mes "要么你给我做一个乐器?";
			mes "这乐器我只在这里见过";
			next;
			mes "[奇异的老人]";
			mes "啊..好注意.";
			mes "在莫斯科";
			mes "是没有这种乐器的...";
			next;
			mes "[奇异的老人]";
			mes "如果你帮我的忙";
			mes "我就给你乐器.";
			next;
			mes "["+strcharinfo(0)+"]";
			mes "你要什么?";
			next;
			mes "[奇异的老人]";
			mes "我的乐器已经用了50年了";
			mes "所以快散架了";
			next;
			mes "[奇异的老人]";
			mes "他的弦只能在这个岛上取得";
			mes "但是其他的材料可以";
			mes "在大陆上取得";
			next;
			mes "[奇异的老人]";
			mes "如果你能找齐材料";
			mes "我就能给你做个新的.";
			next;
			mes "[奇异的老人]";
			mes "材料如下： ^0000FF木块*30, 强韧木藤条*20, 魔羌之角*20, 海懒皮革*10^000000.";
			next;
			mes "[奇异的老人]";
			mes "我不会移动岛屿";
			mes "等你找齐材料后就来吧.";
		 
			next;
			mes "[奇异的老人]";
			mes "等你好了就告诉我";
			mes "我把你送回去";
			set mos_whale_edq,31;
			close;
	}
	else if (mos_whale_edq == 31) {
		mes "[奇异的老人]";
		mes "准备回去了吗?";
		next;
		if(select("材料是什么?:回去.") == 1) {
			mes "[奇异的老人]";
			mes "带来这些材料:";
			next;
			mes "[奇异的老人]";
			mes "带来这些材料:";
			mes "^0000FF木块*30, 强韧木藤条*20, 魔羌之角*20, 海懒皮革*10^000000.";
			close;
		}
		mes "[奇异的老人]";
		mes "那就出发吧.";
		next;
		mes "-老头闭上眼睛开始演奏";
		mes "再也不理你了.";
		mes "好像进入了另一个世界...";
		set mos_whale_edq,32;
		close2;
		warp "moscovia",162,56;
		end;
	}
	else if (mos_whale_edq == 33) {
		mes "[奇异的老人]";
		mes "材料都收集齐了吗";
		next;
		if (countitem(7201) > 29 && countitem(7197) > 19 && countitem(7106) > 19 && countitem(7065) > 9) {
			mes "[奇异的老人]";
			mes "材料没错.";
			mes "我开始制作乐器";
		 
			next;
			delitem 7201,30; //Log
			delitem 7197,20; //Tough_Vines
			delitem 7106,20; //Goat's_Horn
			delitem 7065,10; //Sea_Otter_Leather
			set mos_whale_edq,34;
			mes "[奇异的老人]";
			mes "稍等片刻";
			close;
		}else{
			mes "[奇异的老人]";
			mes "需要更多的材料...";
			mes "We need ^0000FF木块*30, 强韧木藤条*20, 魔羌之角*20, 海懒皮革*10^000000.";
			next;
			mes "[奇异的老人]";
			mes "回去收集材料吗";
			next;
			if(select("材料是哪些?:回去.") == 1) {
				mes "[奇异的老人]";
				mes "带来:";
				next;
				mes "[奇异的老人]";
				mes "带来以下材料:";
				mes "^0000FF木块*30, 强韧木藤条*20, 魔羌之角*20, 海懒皮革*1010^000000.";
				close;
			}
			mes "[奇异的老人]";
			mes "出发.";
			next;
			soundeffect "mos_gusli1.wav",0;
			mes "-老头闭上眼睛开始演奏";
			mes "再也不理你了.";
			mes "好像进入了另一个世界...";
			close2;
			warp "moscovia",162,56;
			end;
		}
	}
	else if (mos_whale_edq == 34) {
		set .@comple,rand(1,3);
		if (.@comple == 2) {
			mes "[奇异的老人]";
			mes "乐器做好了!";
			mes "给你, 是你的了.";
			mes "这乐器叫做 贝斯.";
			mes "这是遥远大陆的传统乐器";
			getitem GUSLI, 1;
			set mos_whale_edq,35;
			next;
			mes "[奇异的老人]";
			mes "现在这世界上";
			mes "只有我一个人会做了.";
			next;
			mes "[奇异的老人]";
			mes "所以";
			mes "这是一件很特殊的物品";
		 
			next;
			mes "[奇异的老人]";
			mes "如果你把乐器给 国王看,";
			mes "他一定会相信你的!";
			 
			next;
			mes "现在干什么呢?";
			next;
			switch(select("我怎么再回来?:我想学习 Gusli.:回陆地.")) {
			case 1:
				mes "[奇异的老人]";
				mes "你是我的朋友了,";
				mes "乐器你也有了.";
				mes "当你想回来时";
				mes "在莫斯科的岸边";
				mes "演奏这个乐器就好了.";
				next;
				mes "[奇异的老人]";
				mes "就算你不会演奏";
				mes "也没关系";
				mes "随便发出点声音就好了.";
				next;
				mes "[奇异的老人]";
				mes "这鲸鱼不管在多远";
				mes "都可以听到的";
				next;
				mes "[奇异的老人]";
				mes "如果你演奏了,";
				mes "不管你在哪, 我都会找到你.";
				mes "谁叫你是朋友呢 呵呵";
				close;
				break;
			case 2:
				mes "[奇异的老人]";
				mes "你真的...";
				mes "想学习演奏这个乐器吗...";
				mes "确定吗?";
				mes "嗯..很难学的";
				mes "而且在这么短的时间...";
				next;
				mes "[奇异的老人]";
				mes "如果你要是能演奏就好了";
				next;
				mes "[奇异的老人]";
				mes "我可以教你";
				mes "但我没把握能教会你.";
				mes "因为以前从来没教过别人";
				next;
				mes "[奇异的老人]";
				mes "如果你准备好了";
				mes "就告诉我.";
				set mos_whale_edq,36;
				close;
				break;
			case 3:
				mes "[奇异的老人]";
				mes "好了 出发吧.";
				next;
				mes "[奇异的老人]";
				mes "当心想回来时";
				mes "就演奏这个乐器";
				next;
				mes "[奇异的老人]";
				mes "随便发出点声音就好";
				next;
				mes "[奇异的老人]";
				mes "这鲸鱼不管在多远";
				mes "都可以听到的";
				next;
				mes "[奇异的老人]";
				mes "如果你演奏了,";
				mes "不管你在哪, 我都会找到你.";
				mes "谁叫你是朋友呢 呵呵";
				next;
				soundeffect "mos_gusli1.wav",0;
				mes "-老头闭上眼睛开始演奏";
				mes "再也不理你了.";
				mes "好像进入了另一个世界...";
				close2;
				warp "moscovia",162,56;
				end;
			}
		}else{
			mes "[奇异的老人]";
			mes "还没完成呢, 再等一会.";
			close;
		}
	}
	else if (mos_whale_edq == 35) {
		mes "[奇异的老人]";
		mes "现在干什么呢?";
			next;
			switch(select("我怎么再回来?:我想学习 Gusli.:回陆地.")) {
			case 1:
				mes "[奇异的老人]";
				mes "你是我的朋友了,";
				mes "乐器你也有了.";
				mes "当你想再来时";
				mes "在莫斯科的岸边";
				mes "演奏这个乐器就好了.";
				next;
				mes "[奇异的老人]";
				mes "就算你不会演奏";
				mes "也没关系";
				mes "随便发出点声音就好了.";
				next;
				mes "[奇异的老人]";
				mes "这鲸鱼不管在多远";
				mes "都可以听到的";
			 
				next;
				mes "[奇异的老人]";
				mes "如果你演奏了,";
				mes "不管你在哪, 我都会找到你.";
				mes "谁叫你是我的朋友呢 呵呵";
				close;
				break;
			case 2:
				mes "[奇异的老人]";
				mes "你真的...";
				mes "想学习演奏这个乐器吗...";
				mes "确定吗?";
				mes "嗯..很难学的";
				mes "而且在这么短的时间...";
				next;
				mes "[奇异的老人]";
				mes "如果你要是能演奏就好了";
				next;
				mes "[奇异的老人]";
				mes "我可以教你";
				mes "但我没把握能教会你.";
				mes "因为以前从来没教过别人";
				next;
				mes "[奇异的老人]";
				mes "如果你准备好了";
				mes "就告诉我.";
				set mos_whale_edq,36;
				close;
				break;
			case 3:
				mes "[奇异的老人]";
				mes "好了 出发吧.";
				next;
				mes "[奇异的老人]";
				mes "当心想回来时";
				mes "就演奏这个乐器";
				next;
				mes "[奇异的老人]";
				mes "随便发出点声音就好";
				next;
				mes "[奇异的老人]";
				mes "这鲸鱼不管在多远";
				mes "都可以听到的";
				next;
				mes "[奇异的老人]";
				mes "如果你演奏了,";
				mes "不管你在哪, 我都会找到你.";
				mes "谁叫你是朋友呢 呵呵";
				next;
				soundeffect "mos_gusli1.wav",0;
				mes "-老头闭上眼睛开始演奏";
				mes "再也不理你了.";
				mes "好像进入了另一个世界...";
				close2;
				warp "moscovia",162,56;
				end;
		}
	}
	else if (mos_whale_edq == 36) {
		mes "[奇异的老人]";
		mes "准备好学习了吗 ?";
		mes "请先装备乐器.";
		next;
		if (getequipid(EQI_ACC_L) == GUSLI || getequipid(EQI_ACC_R) == GUSLI) {
			mes "[奇异的老人]";
			mes "好.";
			mes "你先看我如何演奏,";
			mes "你再慢慢演奏.";
			next;
			soundeffect "mos_gusli1.wav",0;
			mes "[奇异的老人]";
			mes "别急,";
			mes "慢点来, 更我学,";
			next;
			if (Class == Job_Bard || Class == Job_Clown) {
				mes "[奇异的老人]";
				mes "你的手真棒, 你有成为音乐家的天赋!";
				next;
				mes "[奇异的老人]";
				mes "我听说有些探险者喜欢玩乐器和唱歌, 你一定是其中之一...";
				next;
				mes "[奇异的老人]";
				mes "这比我预计的好多了.";
				next;
				mes "[奇异的老人]";
				mes "好了, 该你演奏了.";
				next;
				set .@music_bard,rand(1,3);
				if (.@music_bard == 2) {
					soundeffect "mos_gusli1.wav",0;
					emotion ET_BEST;
					specialeffect2 EF_EXIT;
					mes "[奇异的老人]";
					mes "哇, 这么短的时间";
					mes "就能演奏的这么好, 你太棒了!";
					next;
					mes "[奇异的老人]";
					mes "你已经演奏的很好了";
					mes "我没有什么可教的了";
					mes "自己多练习吧.";
					next;
					mes "[奇异的老人]";
					mes "现在回陆地";
					mes "然后给国王演奏吧.";
					next;
					mes "[奇异的老人]";
					mes "根据你的演奏能力";
					mes "你会获得应得的奖赏的.";
					set mos_whale_edq,38;
					close;
				}else{
					mes "[奇异的老人]";
					mes "啊, 有点生疏...";
					mes "不要那样.";
					mes "演奏的时候专心点";
					next;
					mes "[奇异的老人]";
					mes "自己多练习吧.";
					mes "如果多加练习, 你会演奏的不错的!";
					set mos_whale_edq,37;
					close;
				}
			}else{
				mes "[奇异的老人]";
				mes "好了该你演奏了";
				next;
				set .@music_etc,rand(1,6);
				if (.@music_etc == 3) {
					soundeffect "mos_gusli1.wav",0;
					emotion ET_BEST;
					specialeffect2 EF_EXIT;
					mes "[奇异的老人]";
					mes "哇, 这么短的时间";
					mes "就能演奏的这么好, 你太棒了!";
					next;
					mes "[奇异的老人]";
					mes "你已经演奏的很好了";
					mes "我没有什么可教的了";
					mes "自己多练习吧.";
					next;
					mes "[奇异的老人]";
					mes "现在回陆地";
					mes "然后给国王演奏吧.";
					next;
					mes "[奇异的老人]";
					mes "根据你的演奏能力";
					mes "你会获得应得的奖赏的.";
					set mos_whale_edq,38;
					close;
				}else{
					soundeffect "mos_gusli2.wav",0;
					mes "[奇异的老人]";
					mes "啊, 有点生疏...";
					mes "不要那样.";
					mes "演奏的时候专心点";
					next;
					mes "[奇异的老人]";
					mes "自己多练习吧.";
					mes "如果多加练习, 你会演奏的不错的!";
					mes "at it in no time.";
					set mos_whale_edq,37;
					close;
				}
			}
		}else{
			mes "[奇异的老人]";
			mes "你耐心不好";
			mes "拿乐器的姿势也不对";
			mes "把乐器装备好再试试吧";
			next;
			mes "[奇异的老人]";
			mes "装备好了以后再和我说声";
			close;
		}
	}
	else if (mos_whale_edq == 37) {
		mes "[奇异的老人]";
		mes "准备好学习了吗?";
		next;
		if(getequipid(EQI_ACC_L) || getequipid(EQI_ACC_R) == 2707) {
			mes "[奇异的老人]";
			mes "嗯 不错.";
			next;
			if (Class == Job_Bard || Class == Job_Clown) {
				mes "[奇异的老人]";
				mes "据你的能力";
				mes "你会演奏的不错的.";
				mes "加油.";
				next;
				mes "[奇异的老人]";
				mes "好, 让我们再演奏一遍刚才曲子";
				next;
				set .@music_bard,rand(1,3);
				if (.@music_bard == 2) {
					soundeffect "mos_gusli1.wav",0;
					emotion ET_BEST;
					specialeffect2 EF_EXIT;
					mes "[奇异的老人]";
					mes "哇, 这么短的时间";
					mes "就能演奏的这么好, 你太棒了!";
					next;
					mes "[奇异的老人]";
					mes "你已经演奏的很好了";
					mes "我没有什么可教的了";
					mes "自己多练习吧.";
					next;
					mes "[奇异的老人]";
					mes "现在回陆地";
					mes "然后给国王演奏吧.";
					next;
					mes "[奇异的老人]";
					mes "根据你的演奏能力";
					mes "你会获得应得的奖赏的.";
					set mos_whale_edq,38;
					close;
				}else{
					mes "[奇异的老人]";
					mes "啊, 有点生疏...";
					mes "不要那样.";
					mes "演奏的时候专心点";
					next;
					mes "[奇异的老人]";
					mes "自己多练习吧.";
					mes "如果多加练习, 你会演奏的不错的!";
					set mos_whale_edq,37;
					close;
				}
			}else{
				mes "[奇异的老人]";
				mes "好的, 再来演奏一遍";
				next;
				set .@music_etc,rand(1,6);
				if (.@music_etc == 3) {
					soundeffect "mos_gusli1.wav",0;
					emotion ET_BEST;
					specialeffect2 EF_EXIT;
					mes "[奇异的老人]";
					mes "哇, 这么短的时间";
					mes "就能演奏的这么好, 你太棒了!";
					next;
					mes "[奇异的老人]";
					mes "你已经演奏的很好了";
					mes "我没有什么可教的了";
					mes "自己多练习吧.";
					next;
					mes "[奇异的老人]";
					mes "现在回陆地";
					mes "然后给国王演奏吧.";
					next;
					mes "[奇异的老人]";
					mes "根据你的演奏能力";
					mes "你会获得应得的奖赏的.";
					set mos_whale_edq,38;
					close;
				}else{
					mes "[奇异的老人]";
					mes "啊, 有点生疏...";
					mes "不要那样.";
					mes "演奏的时候专心点";
					next;
					mes "[奇异的老人]";
					mes "自己多练习吧.";
				 
					mes "如果多加练习, 你会演奏的不错的!";
					set mos_whale_edq,37;
					close;
				}
			}
		}else{
			mes "[奇异的老人]";
			mes "你耐心不好";
			mes "拿乐器的姿势也不对";
			mes "把乐器装备好再试试吧";
			next;
			mes "[奇异的老人]";
			mes "装备好了以后再和我说声";
			close;
		}
	}
	else if (mos_whale_edq == 38) {
		mes "[奇异的老人]";
		mes "现在干什么呢?";
		next;
		if(select("我再怎么回来?:回大陆.") == 1) {
			mes "[奇异的老人]";
			mes "你是我的朋友了,";
				mes "乐器你也有了.";
				mes "当你想回来时";
				mes "在莫斯科的岸边";
				mes "演奏这个乐器就好了.";
				next;
				mes "[奇异的老人]";
				mes "就算你不会演奏";
				mes "也没关系";
				mes "随便发出点声音就好了.";
				next;
				mes "[奇异的老人]";
				mes "这鲸鱼不管在多远";
				mes "都可以听到的";
				next;
				mes "[奇异的老人]";
				mes "如果你演奏了,";
				mes "不管你在哪, 我都会找到你.";
				mes "谁叫你是朋友呢 呵呵";
			close;
		}
		mes "[奇异的老人]";
		mes "好了 出发吧.";
		next;
		mes "[奇异的老人]";
		mes "当心想回来时";
		mes "就演奏这个乐器";
		next;
		mes "[奇异的老人]";
		mes "随便发出点声音就好";
		next;
		mes "[奇异的老人]";
		mes "这鲸鱼不管在多远";
		mes "都可以听到的";
		next;
		mes "[奇异的老人]";
		mes "如果你演奏了,";
		mes "不管你在哪, 我都会找到你.";
		mes "谁叫你是朋友呢 呵呵";
		next;
		soundeffect "mos_gusli1.wav",0;
		mes "-老头闭上眼睛开始演奏";
		mes "再也不理你了.";
		mes "好像进入了另一个世界...";
		close2;
		warp "moscovia",162,56;
		end;
	}
	else if (mos_whale_edq > 38) {
		mes "[奇异的老人]";
		mes "这是鲸鱼岛.";
		mes "不知道你怎么上来的.";
		next;
		mes "[奇异的老人]";
		mes "如果你愿意, 我送你回去";
		mes "你觉得呢?";
		next;
		switch(select("先转转.:回陆地.:去冒险.")) {
		case 1:
			mes "[奇异的老人]";
			mes "好吧.";
			mes "我休息会.";
			close;
			break;
		case 2:
			mes "[奇异的老人]";
			mes "好的, 出发了.";
			next;
			soundeffect "mos_gusli1.wav",0;
			mes "-老头闭上眼睛开始演奏";
			mes "不再理你.";
			mes "好像进入了另一个世界...-";
			close2;
			warp "moscovia",162,56;
			end;
			break;
		case 3:
			mes "[奇异的老人]";
			mes "如果你想探险的话";
			mes "我有个好地方告诉你.";
			next;
			mes "[奇异的老人]";
			mes "莫斯科周围";
			mes "有许多神秘的地方...";
			next;
			mes "[奇异的老人]";
			mes "如果你想去, 我把你送过去?";
			next;
			if(select("让我想想.:好, 送我去吧.") == 1) {
				mes "[奇异的老人]";
				mes "好吧.";
				mes "我休息一会.";
				close;
			}
			mes "[奇异的老人]";
			mes "好的出发了.";
			next;
			soundeffect "mos_gusli1.wav",0;
			mes "-老头闭上眼睛开始演奏";
			mes "不再理你.";
			mes "好像进入了另一个世界...-";
			close2;
			warp "mosk_fild02",204,54;
			end;
		}
	}else{
		mes "[奇异的老人]";
		mes "好久没见!";
		mes "你喜欢这个岛吧?";
		mes "休息下吧.";
		next;
		mes "[奇异的老人]";
		mes "如果你愿意, 我可以把你送回陆地";
		next;
		if(select("再转转.:回陆地.") == 1) {
			mes "[奇异的老人]";
			mes "好吧.";
				mes "我休息一会.";
			close;
		}
		mes "[奇异的老人]";
		mes "好的";
		mes "出发了.";
		next;
		soundeffect "mos_gusli1.wav",0;
		mes "-老头闭上眼睛开始演奏";
		mes "再也不理你了.";
		mes "好像进入了另一个世界...";
		close2;
		warp "moscovia",162,56;
		end;
	}
}

//----------------------------------------------------------------------------
// 国王 亚历斯意 三世 - Moscovia Palace
//----------------------------------------------------------------------------
mosk_in,131,92,3	script	国王 亚历斯意 三世#npc	965,{
	if (checkweight(1201,1) == 0 ) {
		mes "[国王 亚历斯意 三世]";
		mes "你身上东西太多了.";
		mes "去卡普拉存点吧.";
		close;
	}
	if ((MaxWeight-Weight) < 2000) {
		mes "[国王 亚历斯意 三世]";
		mes "你身上东西太多了.";
		mes "去卡普拉存点吧.";
		close;
	}
	if (mos_nowinter == 12) {
		mes "[国王 亚历斯意 三世]";
		mes "你!!!";
		mes "许多人看到你";
		mes "去见 芭芭 亚拉!";
		next;
		mes "[国王 亚历斯意 三世]";
		mes "秘密会见女巫你不觉得内疚吗!";
		next;
		mes "[国王 亚历斯意 三世]";
		mes "我们本来不需要审判就可以";
		mes "判你死刑的!";
		next;
		mes "[国王 亚历斯意 三世]";
		mes "但是你这个大陆的强者";
		mes "所以我要给你特殊的惩罚.";
		next;
		mes "[国王 亚历斯意 三世]";
		mes "如果你有什么要说的...";
		mes "就快点.";
		next;
		select("解释.");
		mes "-告诉他发生了什么-";
		next;
		mes "[国王 亚历斯意 三世]";
		mes "哈哈, 真是个尴尬的故事...";
		mes "但是如果你告诉我真相";
		mes "我的人民会很高兴的.";
		next;
		mes "[国王 亚历斯意 三世]";
		mes "好吧";
		mes "给我一点证据吧.";
		next;
		mes "[国王 亚历斯意 三世]";
		mes "你杀了 芭芭 亚拉!!";
		mes "如果是真的";
		mes "给我带来亚拉的杵棒.";
		mes "我保证没人再来阻挠你";
		next;
		if (countitem(7762) > 39) {
			if(select("展示亚拉的杵棒.:什么也不做.") == 1) {
				mes "[" + strcharinfo(0) + "]";
				mes "你来了.";
				next;
				mes "-上缴亚拉的杵棒.-";
				delitem 7762,40;
				next;
				mes "[国王 亚历斯意 三世]";
				mes "果然.";
				mes "那么那段时间你都在猎杀亚拉了";
				next;
				mes "[国王 亚历斯意 三世]";
				mes "但是最好不要做什么可疑的事";
				mes "不然我的人会做出什么事我可不知道";
				next;
				mes "[国王 亚历斯意 三世]";
				mes "如果你做了, 我会立即逮捕你!";
				mes "注意点吧.";
				next;
				mes "[国王 亚历斯意 三世]";
				mes "而且,当你能够";
				mes "成功的驱逐严冬的魔法时,";
				mes "请立即告诉我.";
				set mos_nowinter,14;
				close;
			}
			mes "[国王 亚历斯意 三世]";
			mes "我叫你带来";
			mes "40个亚拉的杵棒";
			set mos_nowinter,13;
			close;
		}else{
			mes "[国王 亚历斯意 三世]";
			mes "我叫你带来";
			mes "40个亚拉的杵棒";
			set mos_nowinter,13;
			close;
		}
	}
	else if (mos_nowinter == 13) {
		mes "[国王 亚历斯意 三世]";
		mes "你找来证据";
		mes "来清除你的嫌疑了吗?";
		next;
		if(select("是的.:还没.") == 1) {
			if (countitem(7762) > 39) {
				delitem 7762,40;
				mes "[国王 亚历斯意 三世]";
				mes "好,";
				mes "我不会再怀疑你了.";
				mes "你自由了.";
				next;
				mes "[国王 亚历斯意 三世]";
				mes "我不喜欢和亚拉交涉.";
				mes "但是如果你杀了他们后";
				mes "我的人会高兴,";
				mes "那么我也高兴.";
				next;
				mes "[国王 亚历斯意 三世]";
				mes "果然.";
				mes "那么那段时间你都在猎杀亚拉了";
				next;
				mes "[国王 亚历斯意 三世]";
				mes "但是最好不要做什么可疑的事";
				mes "不然我的人会做出什么事我可不知道";
				next;
				mes "[国王 亚历斯意 三世]";
				mes "如果你做了, 我会立即逮捕你!";
				mes "注意点吧.";
				set mos_nowinter,14;
				close;
			}else{
				mes "[国王 亚历斯意 三世]";
				mes "你的亚拉的杵棒不够40个啊";
				mes "是你忘了数字还是在骗我?";
				next;
				mes "[国王 亚历斯意 三世]";
				mes "我会把这当成玩笑!";
				mes "你现在给我拿些真正的证据出来";
				close;
			}
		}
		mes "[国王 亚历斯意 三世]";
		mes "我叫你带来";
		mes "40个亚拉的杵棒";
		next;
		mes "[国王 亚历斯意 三世]";
		mes "你来逗我玩的吗?";
		close;
	}
	else if (mos_nowinter == 14) {
		mes "[国王 亚历斯意 三世]";
		mes "为了我和我的人民";
		mes "我不想见  芭芭 亚拉";
		next;
		mes "[国王 亚历斯意 三世]";
		mes "所以我想请你帮我做件事 ";
		next;
		mes "[国王 亚历斯意 三世]";
		mes "请帮助 芭芭 亚拉";
		mes "留住夏天.";
		close;
	}
	else if (mos_nowinter == 20) {
		mes "[国王 亚历斯意 三世]";
		mes "你来这...";
		next;
		mes "[国王 亚历斯意 三世]";
		mes "我从使臣那里听到天气了";
		next;
		mes "[国王 亚历斯意 三世]";
		mes "实际上";
		mes "在广场中央施法";
		mes "让我有点不爽";
		next;
		mes "[国王 亚历斯意 三世]";
		mes "但是我承认那不错.";
		next;
		mes "[国王 亚历斯意 三世]";
		mes "所有人都讨厌寒冷的冬天.";
		mes "现在冬天再也不回来了, ";
		mes "我很高兴.";
		next;
		mes "[国王 亚历斯意 三世]";
		mes "对了.";
		mes "我以人民的名义给你一些东西";
		next;
		mes "[国王 亚历斯意 三世]";
		mes "收好吧.";
		mes "这是使我人民高兴的补偿";
		set mos_nowinter,21;
		getitem 603,1;
		next;
		mes "[国王 亚历斯意 三世]";
		mes "你在这想待多久都行, 尽情享受吧.";
		close;
	}
	else{
		if (mos_whale_edq < 16) {
			mes "[国王 亚历斯意 三世]";
			mes "欢迎来到莫斯科!";
			mes "我是莫斯科的老大, 国王 Aleksay III.";
			next;
			mes "[国王 亚历斯意 三世]";
			mes "回到你家乡的时候, 告诉他们莫斯科多美丽吧, 告诉他们这有个伟大的国王!";
			close;
		}
		else if (mos_whale_edq == 16) {
			mes "[国王 亚历斯意 三世]";
			mes "外国旅行者...?";
			mes " 你有什么要告诉我的吗?";
			next;
			mes "[国王 亚历斯意 三世]";
			mes "如果不是很重要,";
			mes "先找使臣谈谈.";
			close;
		}
		else if (mos_whale_edq == 17) {
			mes "[国王 亚历斯意 三世]";
			mes "哦你就是那个告诉我探险故事的探险者啊...";
			next;
			mes "[国王 亚历斯意 三世]";
			mes "就是你发现了移动的岛屿, 快和我说说细节.";
			next;
			mes "[国王 亚历斯意 三世]";
			mes "我们听听...";
			mes "快点说.";
			mes "我很像知道移动岛屿的真相...";
			next;
			select("讲故事.");
				mes "...";
				next;
				mes "... ...";
				next;
				mes "... ... ...";
				next;
				mes "... ... ... ...";
				next;
				mes "[国王 亚历斯意 三世]";
				mes "故事是很有趣, 但是好像不太真实, 首相, 你觉得呢?";
				next;
				mes "[总理大臣 德密特立]";
				mes "不像是谎言,";
				mes "但是..鲸鱼背上..";
				mes "很难让人相信啊...";
				next;
				mes "[总理大臣 德密特立]";
				mes "上面还有人住着...";
				mes "有小溪...";
				mes "有树木...!!!";
				mes "Hmm...";
				next;
				mes "[国王 亚历斯意 三世]";
				mes "我同意, 我听过很多故事, 但是从没听过这么荒谬的!";
				next;
				mes "[国王 亚历斯意 三世]";
				mes "更别说这是发生在我的国家附近了, 荒谬!";
				next;
				mes "[总理大臣 德密特立]";
				mes "但是国王... 我记得,";
				mes "我好像听说过";
				mes "传说移动的岛屿上有个老头演奏乐器";
				next;
				mes "[国王 亚历斯意 三世]";
				mes "真的吗, 和我说说细节.";
				next;
				mes "[总理大臣 德密特立]";
				mes "是的, 我听说岛上有个老头住在那的";
				next;
				mes "[国王 亚历斯意 三世]";
				mes "嗯, 通常情况下我会给你一大笔奖励, 但是这有很多疑点.";
				next;
				mes "[国王 亚历斯意 三世]";
				mes "给我带回点证据";
				 
				mes "我就会给你一大笔奖赏.";
				next;
				mes "[国王 亚历斯意 三世]";
				mes "但是如果你不能证明,";
				mes "我会惩罚你的!把老头的乐器带回来.";
				next;
				mes "[总理大臣 德密特立]";
				mes "国王... 这是个外国人...";
				mes "无意冒犯.";
				mes "但是是不是太严厉了点?.";
				next;
				mes "[国王 亚历斯意 三世]";
				mes "如果其他旅行者都像他一样骗我, 我不是很没面子?";
				next;
				mes "[总理大臣 德密特立]";
				mes "......";
				next;
				mes "[国王 亚历斯意 三世]";
				mes "你听到了?";
				mes "你有很大的责任去给我带回证据.";
				mes "现在就去.";
				set mos_whale_edq,18;
				close;
		}
		else if (mos_whale_edq > 17 && mos_whale_edq < 35) {
			mes "[国王 亚历斯意 三世]";
			mes "我有点累, 要休息下, 你闪开.";
			next;
			mes "[国王 亚历斯意 三世]";
			mes "多想想怎么去鲸鱼岛吧...";
			close;
		}
		else if (mos_whale_edq == 35) {
			mes "[国王 亚历斯意 三世]";
			mes "你回来了...";
			mes "从鲸鱼岛带回什么了吗";
			next;
			mes "[国王 亚历斯意 三世]";
			mes "拿到乐器了吗?";
			mes "A Gooselri? 只有岛上才有的?";
			mes "给我看看.";
			next;
		if (countitem(GUSLI) > 0) {
				mes "[国王 亚历斯意 三世]";
				mes "Oh... 这就是那乐器吗... a Gooselri?";
				next;
				mes "[总理大臣 德密特立]";
				mes "是的, 国王, 我相信是的";
				mes "叫做Gusli.";
				next;
				mes "[国王 亚历斯意 三世]";
				mes "首相, 如果这就是那乐器";
				mes "那么?";
				next;
				mes "[总理大臣 德密特立]";
				mes "我不确定";
				mes "不过我们大陆上从没见过这种乐器";
				next;
				mes "[国王 亚历斯意 三世]";
				mes "我也是第一次见到这种乐器";
				mes "真神秘啊...";
				mes "嘿, 你!";
				mes "你会演奏吗?";
				next;
				if(select("我会.:我不会.") == 1) {
					mes "[国王 亚历斯意 三世]";
					mes "你会演奏!";
					mes "太好了现在演奏给我听!";
					next;
					soundeffect "mos_gusli2.wav",0;
					emotion ET_ANGER, getnpcid(0, "国王 亚历斯意 三世#npc");
					emotion ET_ANGER, getnpcid(0, "总理大臣 德密特立#m");
					mes "[国王 亚历斯意 三世]";
					mes "嗯?这什么, 你在耍我?";
					mes "你真无理...你...!";
					next;
					mes "[总理大臣 德密特立]";
					mes "国王... 冷静.";
					mes "如果你对个下人生气";
					mes "有损你的威严";
					next;
					mes "[国王 亚历斯意 三世]";
					mes "嗯, 也是.";
					mes "你给他点适当的奖赏, 然后叫他滚";
					next;
					mes "[总理大臣 德密特立]";
					mes "我怎么能奖励给...?";
					next;
					emotion ET_HNG;
					mes "[国王 亚历斯意 三世]";
					mes "我命令你叫这人立刻";
					mes "从我面前消失!";
					next;
					mes "[总理大臣 德密特立]";
					mes "旅人";
					mes "你应该谢谢国王的赏赐.";
					next;
					mes "[总理大臣 德密特立]";
					mes "这是你的奖赏, 快滚.";
					getitem 12702,1;
					getexp 500000,0;
					set mos_whale_edq,39;
					close;
				}
				mes "[国王 亚历斯意 三世]";
				mes "Um... 不错.";
				mes "我相信了...";
				next;
				mes "[国王 亚历斯意 三世]";
				mes "谢谢你的努力.";
				mes "Hey,首相,";
				mes "给他赏赐.";
				next;
				mes "[总理大臣 德密特立]";
				mes "奖励什么?";
				next;
				mes "[国王 亚历斯意 三世]";
				mes "交给你了 你看着办;";
				mes "我要休息下";
				 
				next;
				mes "[总理大臣 德密特立]";
				mes "他的故事没想像的精彩";
				 
				next;
				mes "[总理大臣 德密特立]";
				mes "这是你的赏赐, 拿上吧.";
				getitem 12702,1;
				getexp 700000,0;
				set mos_whale_edq,40;
				close;
			}else{
				mes "[国王 亚历斯意 三世]";
				mes "你在干什么";
				mes "没有装备乐器怎么演奏???";
				next;
				mes "[国王 亚历斯意 三世]";
				mes "别糊弄我!";
				close;
			}
		}
		else if (mos_whale_edq == 38) {
			mes "[国王 亚历斯意 三世]";
			mes "你来了";
			mes "你在鲸鱼岛有找到能让我高兴的东西吗";
			next;
		if (countitem(GUSLI) > 0) {
				mes "[国王 亚历斯意 三世]";
				mes "这就是乐器 Gooselri?";
				next;
				mes "[总理大臣 德密特立]";
				mes "是的 国王, 我确定就是 Gusli.";
				next;
				mes "[国王 亚历斯意 三世]";
				mes "首相, 这就是传说中的乐器吗?";
				next;
				mes "[总理大臣 德密特立]";
				mes "我不能肯定, 但是这个大陆上没有这种乐器.";
				next;
				mes "[国王 亚历斯意 三世]";
				mes "嗯我也是第一次见到";
				mes "真神秘";
			 
				mes "嘿!你会演奏吗?";
				next;
				mes "["+strcharinfo(0)+"]";
				mes "是的, 我在鲸鱼岛上学习了怎么演奏.";
				next;
				mes "[国王 亚历斯意 三世]";
				mes "哇, 你能演奏!";
				mes "我现在就要听.";
				next;
				soundeffect "mos_gusli1.wav",0;
				mes "-音乐响起, 所有人都沉醉其中.-";
				next;
				emotion ET_CRY, getnpcid(0, "国王 亚历斯意 三世#npc");
				emotion ET_CRY, getnpcid(0, "总理大臣 德密特立#m");
				mes "[国王 亚历斯意 三世]";
				mes "Oh! 我都快哭了.";
				mes "好悲伤的音乐.";
				next;
				mes "[总理大臣 德密特立]";
				mes "是的, 国王.";
				mes "我从未听过这么悲伤的音乐.";
				mes "Kh-huk. Sniff.";
				next;
				mes "[国王 亚历斯意 三世]";
				mes "你给他一大笔奖励!";
				next;
				mes "[总理大臣 德密特立]";
				mes "Hukhuk... Sniff. 该奖励什么呢?";
				next;
				mes "[国王 亚历斯意 三世]";
				mes "交给你了, 给他适当的奖励.";
				next;
				mes "[总理大臣 德密特立]";
				mes "对你表示谢意.";
				mes "以这里人民的名义给你赏赐.";
				getitem 617,1;
				getexp 1200000,0;
				set mos_whale_edq,41;
				close;
			}else{
				mes "[国王 亚历斯意 三世]";
				mes "乐器在哪呢?";
				next;
				mes "[国王 亚历斯意 三世]";
				mes "你不装备乐器 怎么演奏呢???";
				next;
				mes "["+strcharinfo(0)+"]";
				mes "对不起, 刚才没准备好.";
				close;
			}
		}
		else if (mos_whale_edq == 39) {
			mes "[国王 亚历斯意 三世]";
			mes "没事请出去.";
			close;
		}		
		else if (mos_whale_edq == 40) {
			mes "[国王 亚历斯意 三世]";
			mes "你个外国佬.";
			mes "如果没什么事别打扰我休息.";
			close;
		}
		else if (mos_whale_edq == 41) {
			mes "[国王 亚历斯意 三世]";
			mes "又是你... ~";
			mes "很高兴再次见到你.";
			mes "希望你能偶尔给我演奏音乐. ~";
			close;
		}
		else{
			mes "[国王 亚历斯意 三世]";
			mes "欢迎来到莫斯科,";
			mes "我是国王 Alexsay 三世.";
			next;
			mes "[国王 亚历斯意 三世]";
			mes "回到你的家乡宣扬我们伟大的莫斯科吧!";
			close;
		}
	}
}

//----------------------------------------------------------------------------
// 总理大臣 德密特立 - Moscovia Palace
//----------------------------------------------------------------------------
mosk_in,127,89,3	script	总理大臣 德密特立#m	967,{
	if (mos_nowinter > 11 && mos_nowinter < 14) {
		mes "[总理大臣 德密特立]";
		mes "如果你敢密谋反对国王";
		mes "你的麻烦就大了";
		mes "所以请你当心点,";
		mes "如果你想清除你的嫌疑";
		mes "就做点什么吧";
		close;
	}
	else if (mos_nowinter == 14) {
		mes "[总理大臣 德密特立]";
		mes "你已经清除掉了你的嫌疑,";
		mes "但是我们不能完全信任你.";
		next;
		mes "[总理大臣 德密特立]";
		mes "但是.";
		mes "你如果成功留住夏天, 我就可以信任你";
		close;
	}
	else if (mos_nowinter == 20) {
		mes "[总理大臣 德密特立]";
		mes "我知道你是好意的.";
		mes "但是我们不能完全信任你,";
		mes "我们会注意你的行踪的.";
		next;
		mes "[总理大臣 德密特立]";
		mes "我知道你在广场中央";
		mes "施法术了...";
		mes "所以我安排了学者";
		mes "去调查天气.";
		next;
		mes "[总理大臣 德密特立]";
		mes "观察的结果";
		mes "气温变化的少了";
		mes "最高气温基本稳定了";
		next;
		mes "[总理大臣 德密特立]";
		mes "我不知道这意味着什么, ";
		mes "但是我决定接受这个事实.";
	 
		next;
		mes "[总理大臣 德密特立]";
		mes "而且我们的国王已经知道了.";
		mes "你去通知他吧.";
		close;
	}
	else{
		if (mos_whale_edq < 16) {
			mes "[总理大臣 德密特立]";
			mes "外乡人, 这是莫斯科, 礼貌对人不是坏习惯.";
			close;
		}
		else if (mos_whale_edq == 16) {
			mes "[总理大臣 德密特立]";
			mes "旅人, 你到国王的房间干什么?";
			next;
			if(select("只是转转.:见国王.") == 1) {
				mes "[总理大臣 德密特立]";
				mes "小心点, 别打扰到国王了.";
				next;
				mes "[总理大臣 德密特立]";
				mes "谋私刻欢迎每个旅人!";
				next;
				mes "[总理大臣 德密特立]";
				mes "我们国王喜欢听故事.";
				close;
			}
			mes "[总理大臣 德密特立]";
			mes "告诉我你见国王干什么.";
			next;
			if(select("我来问好.:我来讲故事.") == 1) {
				mes "[总理大臣 德密特立]";
				mes "我会告诉他你的目的的.";
				close;
			}
			mes "[总理大臣 德密特立]";
			mes "我在想你发生了什么故事, 国王很想听你的故事.";
			next;
			mes "[总理大臣 德密特立]";
			mes "如果国王听了故事高兴了, 会给你奖赏的.";
			set mos_whale_edq,17;
			close;
		}
		else if (mos_whale_edq == 17) {
			mes "[总理大臣 德密特立]";
			mes "我和他说过了,";
			mes "你直接去找国王吧.";
			close;
		}
		else if (mos_whale_edq > 17 && mos_whale_edq < 35) {
			mes "[总理大臣 德密特立]";
			mes "国王在休息.";
			mes "你抓紧时间去鲸鱼岛吧.";
			close;
		}
		else if (mos_whale_edq == 35) {
			mes "[总理大臣 德密特立]";
			mes "你回来了!.";
			mes "我带你去见国王.";
			close;
		}
		else if (mos_whale_edq == 38) {
			mes "[总理大臣 德密特立]";
			mes "你回来了!.";
			mes "我带你去见国王.";
			close;
		}
		else if (mos_whale_edq == 39) {
			mes "[总理大臣 德密特立]";
			mes "我不想再听你的表演了, 闪开. ";
			close;
		}
		else if (mos_whale_edq == 40) {
			mes "[总理大臣 德密特立]";
			mes "怎么啦?国王在休息.";
			mes "没什么事的话, 出去.";
			close;
		}
		else if (mos_whale_edq == 41) {
			mes "[总理大臣 德密特立]";
			mes "你的乐器表演真感人.";
			mes "你来了就再演奏一次吧!.";
			close;
		}else{
			mes "[总理大臣 德密特立]";
			mes "外国佬这里是皇宫";
			mes "国王住在里面.";
			mes "注意你的举止.";
			close;
		}
	}
}

//----------------------------------------------------------------------------
// Island Trigger - Docks
//----------------------------------------------------------------------------
moscovia,136,46,4	script	Find#ship	CLEAR_NPC,4,4,{
	end;
	
OnTouch:
	if (mos_whale_edq > 34) {
		mes "-站在码头看海,";
		mes "突然使你想起了鲸鱼岛-";
	 
		next;
		mes "["+strcharinfo(0)+"]";
		mes "去鲸鱼岛?";
		next;
		if(select("去鲸鱼岛.:不去.") == 1) {
		if (getequipid(EQI_ACC_L) == GUSLI || getequipid(EQI_ACC_R) == GUSLI) {
				soundeffect "mos_gusli2.wav",0;
				mes "-你的手缓缓摸上乐器";
				mes "让你回忆起了老头演奏的乐曲...-";
				next;
				mes "[村民]";
				mes "看...有时从海上升起!!!";
				next;
				mes "[村民]";
				mes "什么..那是什么...??";
				next;
				mes "[伊霸诺布]";
				mes "Ohohoh!... 是鲸鱼岛";
				mes "哈哈哈.";
				next;
				warp "mosk_fild01",95,93;
			}else{
				mes "["+strcharinfo(0)+"]";
				mes "思绪飞过";
				mes "忘装备乐器了.";
				next;
				mes "["+strcharinfo(0)+"]";
				mes "那老人说当我想去鲸鱼岛的时候";
				mes "在码头演奏乐器就好了.";
				close;
			}
		}
		mes "["+strcharinfo(0)+"]";
		mes "下次再去吧.";
		mes "还有其他事要做呢.";
		close;
	}else{
		end;
	}
}

//----------------------------------------------------------------------------
// Triggers
//----------------------------------------------------------------------------

mosk_ship,1,1,4	script	Baehideun#ship	-1,{
OnInit:
	set $@mos1_edq,0;
	end;
}

mosk_ship,81,110,0	script	#findship	844,5,5,{
OnInit:
	disablenpc "#findship";
	stopnpctimer;
	end;

OnEnable:
	enablenpc "#findship";
	initnpctimer;
	end;

OnDisable:
	disablenpc "#findship";
	set $@mos1_edq,0;
	end;

OnTouch:
	if (mos_whale_edq == 12) {
		mes "seeewaaaaaaaaaaa";
		next;
		mes "[伊霸诺布]";
		mes "Hey "+strcharinfo(0)+"! 快看!";
		mes "危险!快躲起来!";
		next;
		mes "["+strcharinfo(0)+"]";
		mes "那是...";
		next;
		mes "["+strcharinfo(0)+"]";
		mes "什么东西升起来了...";
		next;
		mes "[伊霸诺布]";
		mes "当心! "+strcharinfo(0)+"!";
		mes "啊..那是.....";
		set mos_whale_edq,13;
		close2;
		warp "mosk_fild01",95,93;
		end;
	}else{
		end;
	}
	end;

OnTimer300000:
	donpcevent "#findship::OnDisable";
	end;
}

mosk_ship,2,2,4	script	Baehideun1#ship	-1,{
OnInit:
	disablenpc "Baehideun1#ship";
	stopnpctimer;
	end;
	
OnEnable:
	enablenpc "Baehideun1#ship";
	monster "mosk_ship",89,112,"海怪",1425,1,"Baehideun1#ship::OnMyMobDead";
	monster "mosk_ship",85,110,"海怪",1425,1,"Baehideun1#ship::OnMyMobDead";
	initnpctimer;
	end;

OnDisable:
	set $@mos1_edq,0;
	stopnpctimer;
	disablenpc "Baehideun1#ship";
	end;

OnMyMobDead:
	if (mobcount("mosk_ship","Baehideun1#ship::OnMyMobDead") < 1) {
		set $@mos1_edq,0;
		mes "[伊霸诺布]";
		mes "所有的怪物都赶走了,";
		mes "我们可以继续航行了";
		donpcevent "Baehideun1#ship::OnDisable";
		close;
	}
	end;

OnTimer300000:
	killmonster "mosk_ship","Baehideun1#ship::OnMyMobDead";
	set $@mos1_edq,0;
	donpcevent "Baehideun1#ship::OnDisable";
	end;
}

mosk_ship,3,3,4	script	Baehideun2#ship	-1,{
OnInit:
	disablenpc "Baehideun2#ship";
	stopnpctimer;
	end;

OnEnable:
	enablenpc "Baehideun2#ship";
	monster "mosk_ship",89,112,"海怪",1425,1,"Baehideun2#ship::OnMyMobDead";
	monster "mosk_ship",80,110,"海怪",1426,1,"Baehideun2#ship::OnMyMobDead";
	monster "mosk_ship",83,114,"海怪",1426,1,"Baehideun2#ship::OnMyMobDead";
	monster "mosk_ship",85,110,"海怪",1425,1,"Baehideun2#ship::OnMyMobDead";
	initnpctimer;
	end;

OnDisable:
	set $@mos1_edq,0;
	stopnpctimer;
	disablenpc "Baehideun2#ship";
	end;

OnMyMobDead:
	if (mobcount("mosk_ship","Baehideun2#ship::OnMyMobDead") < 1) {
		set $@mos1_edq,0;
		mes "[伊霸诺布]";
		mes "所有的怪物都赶走了,";
		mes "我们可以继续航行了";
		donpcevent "Baehideun2#ship::OnDisable";
		close;
	}
	end;

OnTimer300000:
	killmonster "mosk_ship","Baehideun2#ship::OnMyMobDead";
	set $@mos1_edq,0;
	donpcevent "Baehideun2#ship::OnDisable";
	end;
}

mosk_ship,5,5,4	script	Baehideun3#ship	-1,{
OnInit:
	disablenpc "Baehideun3#ship";
	stopnpctimer;
	end;

OnEnable:
	enablenpc "Baehideun3#ship";
	monster "mosk_ship",85,111,"海怪",1451,1,"Baehideun3#ship::OnMyMobDead";
	monster "mosk_ship",89,112,"海怪",1543,1,"Baehideun3#ship::OnMyMobDead";
	monster "mosk_ship",90,106,"海怪",1543,1,"Baehideun3#ship::OnMyMobDead";
	initnpctimer;
	end;

OnDisable:
	set $@mos1_edq,0;
	stopnpctimer;
	disablenpc "Baehideun3#ship";
	end;

OnMyMobDead:
	if (mobcount("mosk_ship","Baehideun3#ship::OnMyMobDead") < 1) {
		set $@mos1_edq,0;
		mes "[伊霸诺布]";
		mes "所有的怪物都赶走了,";
		mes "我们可以继续航行了";
		set mos_whale_edq,11;
		donpcevent "Baehideun3#ship::OnDisable";
		close;
	}
	end;

OnTimer300000:
	killmonster "mosk_ship","Baehideun3#ship::OnMyMobDead";
	set $@mos1_edq,0;
	donpcevent "Baehideun3#ship::OnDisable";
	end;
}

mosk_ship,15,15,4	script	Baehideun4#ship	-1,{
OnInit:
	disablenpc "Baehideun4#ship";
	stopnpctimer;
	end;

OnEnable:
	enablenpc "Baehideun4#ship";
	monster "mosk_ship",85,111,"海怪",1451,1,"Baehideun4#ship::OnMyMobDead";
	monster "mosk_ship",89,112,"海怪",1543,1,"Baehideun4#ship::OnMyMobDead";
	monster "mosk_ship",90,106,"海怪",1543,1,"Baehideun4#ship::OnMyMobDead";
	initnpctimer;
	end;

OnDisable:
	set $@mos1_edq,0;
	stopnpctimer;
	disablenpc "Baehideun4#ship";
	end;

OnMyMobDead:
	if (mobcount("mosk_ship","Baehideun4#ship::OnMyMobDead") < 1) {
		set $@mos1_edq,0;
		mes "[伊霸诺布]";
		mes "所有的怪物都赶走了,";
		mes "我们可以继续航行了";
		set mos_whale_edq,26;
		donpcevent "Baehideun4#ship::OnDisable";
		close;
	}
	end;

OnTimer300000:
	killmonster "mosk_ship","Baehideun4#ship::OnMyMobDead";
	set $@mos1_edq,0;
	donpcevent "Baehideun4#ship::OnDisable";
	end;
}

//============================================================================
// Help Mikhail
//============================================================================

//----------------------------------------------------------------------------
// 凯莉娜 - Starting Point
//----------------------------------------------------------------------------
mosk_in,144,279,5	script	凯莉娜#mos	959,{
	if (mos_swan == 0) {
		mes "[凯莉娜]";
		mes "他跑哪去了?";
		mes "我要给他点教训.";
		mes "他就像爸爸一样胆小.";
		next;
		mes "[安娜]";
		mes "MikHail, 是个胆小鬼, 是个爱哭鬼.";
		mes "MikHail, 是个胆小鬼, 是个爱哭鬼.";
		next;
		mes "[凯莉娜]";
		mes "因为你不照看弟弟. 所以你把房子打扫了, 安娜?";
		next;
		emotion ET_CRY, getnpcid(0, "安娜#mos");
		mes "[安娜]";
		mes "Oh, 我的天................";
		next;
		if(select("和她谈话.:无视她") == 1) {
			mes "["+strcharinfo(0)+"]";
			mes "你好?";
			next;
			mes "[凯莉娜]";
			mes "Oh, God!";
			mes "我刚没看到你, 对不起!";
			mes "你要买热蛋糕吗?";
			mes "对不起我们还没开业..";
			next;
			mes "["+strcharinfo(0)+"]";
			mes "没关系.";
			mes "怎么了?有什么需要我帮忙的吗?";
			next;
			mes "[凯莉娜]";
			mes "Oh, well...";
			mes "我儿子 米海亿 在我出去的时候打破了 Matrushka .";
			mes "他害怕我惩罚他就跑出去了.";
			next;
			mes "[凯莉娜]";
			mes "真是太胆小了!";
			mes "我怀疑他将来能不能称为大将军";
			next;
			mes "[凯莉娜]";
			mes "以往这个时间他已经回家了.";
			mes "我担心发生了什么事.";
			next;
			mes "["+strcharinfo(0)+"]";
			mes "你看起来很焦急, 我帮你把儿子找回来吧.";
			next;
			mes "[凯莉娜]";
			 
			mes "我担心他不能回家了.";
			mes "...我会好好收拾他的.";
			next;
			mes "[凯莉娜]";
			mes "如果拒绝你是不好的";
			mes "你真的愿意帮我找米海亿 回家吗?";
			next;
			if(select("我不是认真的.:好的我会的!") == 1) {
				mes "[凯莉娜]";
				mes "你真刻薄我没时间开玩笑.";
				close;
			}
			mes "[凯莉娜]";
			mes "你真好";
			mes "米海亿 是个胆小的孩子, 我估计他没出村子.";
			mes "请帮我找回他~";
			set mos_swan,1;
			close;
		}
		mes "[凯莉娜]";
		mes "我担心他出事了...";
		close;
	}
	else if (mos_swan == 1) {
		mes "[凯莉娜]";
		mes "米海亿, 我儿子一定还在村子里.";
		mes "他和他父亲一样害羞.";
		close;
	}
	else if (mos_swan > 1 && mos_swan < 25) {
		mes "["+strcharinfo(0)+"]";
		mes "米海亿还没回来?";
		next;
		mes "[凯莉娜]";
		mes "没有, 他到底在哪呢?";
		close;
	}
	else if (mos_swan == 25) {
		mes "[凯莉娜]";
		mes "他回来把 俄罗斯套娃 粘起来然后又走了...";
		next;
		mes "[凯莉娜]";
		mes "我对他太严了.";
		mes "他对我却很好.";
		next;
		mes "["+strcharinfo(0)+"]";
		mes "你会是个好妈妈的哈哈.";
		next;
		mes "[凯莉娜]";
		mes "我会的..";
		mes "安娜, 我女儿犯的错, 推到弟弟身上, 我也会惩罚她的.";
		next;
		mes "[凯莉娜]";
		mes "多谢你去危险的地方把我儿子找了回来.";
		next;
		mes "["+strcharinfo(0)+"]";
		mes "经常这样呵呵.";
		next;
		mes "[凯莉娜]";
		mes "我无以为报, 只能教你做热蛋糕了!";
		next;
		mes "[凯莉娜]";
		mes "我现在有点事不过 拉丽纱 会教你的..她是我们的女仆";
		mes "她是很棒的厨师.";
		next;
		mes "[凯莉娜]";
		mes "莫斯科的热蛋糕真美味!";
		mes "我打赌你吃了一次就会爱上它的.";
		next;
		mes "[凯莉娜]";
		mes "我得去工作了!";
		mes "你下次来我会给你做热蛋糕的";
		set mos_swan,100;
		getexp 1000000,0;
		close;
	}else{
		mes "[凯莉娜]";
		mes "我一直在努力准备一道新菜.";
		mes "世界最香辣椒蛋糕你觉得怎么样'?";
		mes "我觉得应该会很不错!";
		close;
	}
}


//----------------------------------------------------------------------------
// 安娜 - Sister
//----------------------------------------------------------------------------
mosk_in,148,274,1	script	安娜#mos	958,{
	if (mos_swan == 0) {
		mes "[凯莉娜]";
		mes "他跑哪去了?";
		mes "我要给他点教训.";
		mes "他就像爸爸一样胆小.";
		next;
		mes "[安娜]";
		mes "米海亿, 是个胆小鬼, 是个爱哭鬼.";
		mes "米海亿, 是个胆小鬼, 是个爱哭鬼.";
		next;
		mes "[凯莉娜]";
		mes "因为你不照看弟弟. 所以你把房子打扫了, 安娜?";
		next;
		emotion ET_CRY, getnpcid(0, "安娜#mos");
		mes "[安娜]";
		mes "Oh, 我的天................";
		next;
		if(select("和她谈话.:无视她") == 1) {
			mes "["+strcharinfo(0)+"]";
			mes "你好?";
			next;
			mes "[凯莉娜]";
			mes "Oh, God!";
			mes "我刚没看到你, 对不起!";
			mes "你要买热蛋糕吗?";
			mes "对不起我们还没开业..";
			next;
			mes "["+strcharinfo(0)+"]";
			mes "没关系.";
			mes "怎么了?有什么需要我帮忙的吗?";
			next;
			mes "[凯莉娜]";
			mes "Oh, well...";
			mes "我儿子 米海亿 在我出去的时候打破了 俄罗斯套娃 .";
			mes "他害怕我惩罚他就跑出去了.";
			next;
			mes "[凯莉娜]";
			mes "真是太胆小了!";
			mes "我怀疑他将来能不能称为大将军";
			next;
			mes "[凯莉娜]";
			mes "以往这个时间他已经回家了.";
			mes "我担心发生了什么事.";
			next;
			mes "["+strcharinfo(0)+"]";
			mes "你看起来很焦急, 我帮你把儿子找回来吧.";
			next;
			mes "[凯莉娜]";
			 
			mes "我担心他不能回家了.";
			mes "...我会好好收拾他的.";
			next;
			mes "[凯莉娜]";
			mes "如果拒绝你是不好的";
			mes "你真的愿意帮我找米海亿 回家吗?";
			next;
			if(select("我不是认真的.:好的我会的!") == 1) {
				mes "[凯莉娜]";
				mes "你真刻薄!我没时间开玩笑.";
				close;
			}
			mes "[凯莉娜]";
			mes "你真好";
			mes "米海亿 是个胆小的孩子, 我估计他没出村子.";
			mes "请帮我找回他~";
			set mos_swan,1;
			close;
		}
		mes "[凯莉娜]";
		mes "我担心他出事了...";
		close;
	}
	else if (mos_swan == 1) {
		mes "[安娜]";
		mes "米海亿, 是个胆小鬼, 是个爱哭鬼.";
		mes "米海亿, 是个胆小鬼, 是个爱哭鬼.";
		close;
	}
	else if (mos_swan == 2) {
		mes "[安娜]";
		mes "你在这干什么?";
		next;
		while(1) {
			switch(select(" 米海亿可能躲在哪:他们之间的关系:问问情况:问问她的事:结束对话")) {
			case 1:
				mes "["+strcharinfo(0)+"]";
				mes "米海亿在哪?";
				mes "你知道吗?";
				next;
				emotion 39;
				mes "[安娜]";
				mes "如果我知道, 我早就找到他了, 你个猪.";
				next;
				emotion 4,1;
				mes "["+strcharinfo(0)+"]";
				mes "哈哈是的.";
				next;
				break;
			case 2:
				mes "["+strcharinfo(0)+"]";
				mes "你和弟弟关系怎么样?";
				next;
				mes "[安娜]";
				mes "米海亿经常躲我背后叫我读书!";
				mes "他还喜欢哭.";
				mes "烦死了.";
				mes "他只和我玩, 所以没朋友.";
				next;
				mes "["+strcharinfo(0)+"]";
				mes "你看起来很勇敢.";
				mes "我能理解你妈为什么担心他了.";
				next;
				break;
			case 3:
				mes "["+strcharinfo(0)+"]";
				mes "当 米海亿打坏 俄罗斯套娃的时候你在干嘛?";
				next;
				mes "[安娜]";
				mes "我在那儿.";
				next;
				mes "["+strcharinfo(0)+"]";
				mes "哦是吗?";
				next;
				mes "[安娜]";
				mes "我父母出去的时候叫我照顾好 米海亿.";
				mes "我不想的, 可是我是姐姐, 我就读书给他听.";
				next;
				mes "[安娜]";
				mes "他感染我读书, 然后又说他饿了!";
				next;
				mes "[安娜]";
				mes "我很烦就当作没听到, 他可能很生气, 就打坏了 俄罗斯套娃.";
				next;
				mes "[安娜]";
				mes "他闯祸了就开始哭!";
				mes "真是胆小鬼...";
				mes "(giggling)";
				next;
				mes "[安娜]";
				mes "我说我们应该在妈妈回来前把碎片粘好, 米海亿 就去拿 ^3131FF浆糊^000000 然后就没回来了.";
				next;
				mes "["+strcharinfo(0)+"]";
				mes "哪里可以得到?";
				mes "你为什么不和他一起去?";
				next;
				mes "[安娜]";
				mes "小孩子怎么知道?";
				mes "他打坏的就应该自己去找!";
				mes "妈妈也说要成为大将军就要什么都自己干.";
				next;
				mes "["+strcharinfo(0)+"]";
				mes "你知道他可能在哪吗?";
				next;
				mes "[安娜]";
				mes "不知道.";
				next;
				mes "["+strcharinfo(0)+"]";
				mes "他有什么比较亲近的人吗?";
				next;
				emotion 32;
				mes "[安娜]";
				mes "(giggle) 他是傻子没朋友的.";
				mes "但是村子的 ^3131FFInn 'Sticky Herb Tree'^000000 女士把米海亿 当宝贝看.";
				next;
				mes "[安娜]";
				mes "其他的就不知道了.";
				next;
				mes "- 安娜 什么也不说了. -";
				next;
				mes "["+strcharinfo(0)+"]";
				mes "这是唯一的线索, 去找 ^3131FFInn 'Sticky Herb Tree'^000000?";
				if (mos_swan == 2) {
					set mos_swan,3;
				}
				next;
				break;
			case 4:
				mes "["+strcharinfo(0)+"]";
				mes "问她什么呢?";
				next;
				input .@AnnaInfo$;
				mes "["+strcharinfo(0)+"]";
				mes "安娜,";
				mes ""+.@AnnaInfo$+"?";
				mes "知道这是什么吗?";
				next;
				if (.@AnnaInfo$ == "Gravity") {
					mes "[安娜]";
					mes "我知道, 好像是仙境传说2?我在说什么呢....?";
					next;
				}
				else if (.@AnnaInfo$ == "凯莉娜") {
					mes "[安娜]";
					mes "妈妈做的蛋糕真好吃!";
					mes "村里每个人都喜欢妈妈的蛋糕, 呵呵.";
					next;
				}
				else if (.@AnnaInfo$ == "米海亿") {
					mes "[安娜]";
					mes "米海亿是个胆小鬼!";
					next;
				}
				else {
					mes "[安娜]";
					mes "无可奉告.";
					next;
				}
				break;
			case 5:
				mes "[安娜]";;
				mes "Hmm ~ ~ ~ ~ ";
				next;
				mes "- 安娜 什么也不说.";
				mes "她不想和我说话 -";
				close;
			}
		}
	}
	else if (mos_swan == 3) {
		mes "["+strcharinfo(0)+"]";
		mes "有线索了, 去找 ^3131FFInn 'Sticky Herb Tree'^000000.";
		close;
	}
	else if (mos_swan > 3 && mos_swan < 12) {
		mes "[安娜]";
		mes "米海亿 是傻子是爱哭鬼!";
		close;
	}
	else if (mos_swan == 25) {
		mes "[安娜]";
		mes "Mik..Ha..il";
		mes "他和我聊妈妈...";
		next;
		mes "[凯莉娜]";
		mes "安娜!";
		next;
		mes "[安娜]";
		mes "....对不起.";
		close;
	}
	else if (mos_swan == 100) {
		mes "[安娜]";
		mes "Mik..Ha..il";
		mes "他和我聊妈妈...";
		next;
		mes "[凯莉娜]";
		mes "安娜!";
		next;
		emotion ET_CRY;
		mes "[安娜]";
		mes "....对不起.";
		close;
	}
	else {
		mes "[安娜]";
		mes "....烦死了.";
		close;
	}
}

//----------------------------------------------------------------------------
// Bed
//----------------------------------------------------------------------------
mosk_in,136,279,3	script	床#mos1	HIDDEN_NPC,{
	if (mos_swan == 11) {
		mes "- 床单和枕头看起来真舒服, 好像躺上去睡一觉. -";
		next;
		if(select("检查其他的东西:仔细看看 ") == 1) {
			mes "- 晚点再看床 -";
			close;
		}
		mes "- 来到床前仔细观察. -";
		next;
		mes " .............. ";
		mes " .............. ";
		mes " .............. ";
		mes " .............. ";
		next;
		mes " .............. ";
		mes " .............. ";
		mes " .............. ";
		mes " .............. ";
		mes " .............. ";
		next;
		mes "- 什么也没找到 -";
		close;
	}else{
		mes "- 床单和枕头看起来真舒服, 好像躺上去睡一觉. -";
		close;
	}
}

mosk_in,161,279,3	duplicate(床#mos1)	床#mos2	HIDDEN_NPC

//----------------------------------------------------------------------------
// Fire pot + 米海亿
//----------------------------------------------------------------------------
mosk_in,205,268,3	script	火罐#mos	HIDDEN_NPC,{
	if (!mos_swan) {
		mes "- 这是个火罐, 取暖或者烤什么用的 -";
		close;
	}
	else if (mos_swan == 1) {
		mes "- 这个火罐是凯莉娜 烤蛋糕用的.";
		mes "似乎才被用过不久.";
		mes "应该问问他家人可能在哪里 -";
		set mos_swan,2;
		close;
	}
	else if (mos_swan > 1 && mos_swan < 11) {
		mes "- 这个火罐是凯莉娜 烤蛋糕用的.";
		mes "似乎才被用过不久.";
		close;
	}
	else if (mos_swan == 11) {
		mes "- 这个火罐是凯莉娜 烤蛋糕用的.";
		mes "似乎才被用过不久.";
		next;
		if(select("检查其他东西:仔细看看") == 1) {
			mes "- 决定看看其他东西 -";
			close;
		}
		mes "- 走进火罐仔细观察. -";
		next;
		mes " .............. ";
		mes " .............. ";
		mes " .............. ";
		mes " .............. ";
		next;
		mes " .............. ";
		mes " .............. ";
		mes " .............. ";
		mes " .............. ";
		mes " .............. ";
		next;
		mes "- 火罐周围发现了一些面包屑! -";
		next;
		switch(select("米海亿 就在火罐里.:米海亿 在火罐周围.:面包屑和 米海亿没关系.")) {
		case 1:
			mes "["+strcharinfo(0)+"]";
			mes "终于找到你了.";
			next;
			mes "- 把胳膊伸到火罐里. -";
			next;
			mes "- 有什么东西发出声响. -";
			next;
			mes "- 你低声喊 米海亿 . -";
			next;
			mes "["+strcharinfo(0)+"]";
			mes "米-海-亿-.";
			next;
			mes "- .......................... -";
			next;
			mes "["+strcharinfo(0)+"]";
			mes "米海亿.";
			mes "我知道你在这 快出来.";
			next;
			mes "- .......................... -";
			next;
			mes "["+strcharinfo(0)+"]";
			mes "你妈和姐姐很担心你.";
			next;
			mes "[???]";
			mes ".......hey.";
			next;
			mes "["+strcharinfo(0)+"]";
			mes "?????";
			next;
			mes "[米海亿]";
			mes ".......我不能............";
			mes "我会.... 被惩罚的........";
			next;
			mes "["+strcharinfo(0)+"]";
			mes "你不会的, 米海亿.";
			mes "你妈妈很担心你.";
			mes "你姐姐一样, too.";
			next;
			mes "["+strcharinfo(0)+"]";
			mes "你是意外打坏的俄罗斯套娃 是吗?";
			mes "我会和你妈妈说的, 出来吧.";
			next;
			mes "[米海亿]";
			mes "Oh.. ma.. 俄罗斯套娃..";
			mes "..不是我打破的!";
			next;
			mes "["+strcharinfo(0)+"]";
			mes "嗯?";
			next;
			mes "[米海亿]";
			mes "安娜 推我才打坏的......";
			mes "但是她和妈妈说是我一个人打坏的....";
			next;
			mes "["+strcharinfo(0)+"]";
			mes "你们2个人一起打坏的安娜全推到你身上了?";
			next;
			mes "[米海亿]";
			mes "是的.....";
			next;
			mes "["+strcharinfo(0)+"]";
			mes "你出来告诉你妈妈真相吧.";
			next;
			mes "[米海亿]";
			mes "我不能!!";
			next;
			mes "- 一只小手从火罐中伸出来抓住你了你的脚踝 -";
			next;
			mes "[米海亿]";
			mes "我担心妈妈会惩罚我...";
			mes "因为奶奶的俄罗斯套娃坏了 ......";
			next;
			mes "["+strcharinfo(0)+"]";
			mes "别哭了.";
			mes "我帮你找来浆糊, 你粘好了再还给妈妈不就好了吗.";
			next;
			mes "[米海亿]";
			mes "你能...找到浆糊吗?";
			next;
			mes "["+strcharinfo(0)+"]";
			mes "你不相信我吗?";
			mes "你等等, 我马上就找过来.";
			next;
			mes "- 我要知道怎么制作浆糊.";
			mes "我会问问 ^3131FF碧托勒^000000 的. -";
			set mos_swan,12;
			close;
			break;
		case 2:
			mes "- 我猜他在火罐周围, 怎么才能找到他呢? -";
			close;
			break;
		case 3:
			mes "- 面包屑应该和他没什么关系. -";
			close;
		}
	}
	else if (mos_swan == 12) {
		mes "- 好的先问问碧托勒 怎么才能获得浆糊. -";
		close;
	}
	else if (mos_swan == 24) {
		mes "["+strcharinfo(0)+"]";
		mes "Hey, 米海亿. 我找到浆糊了!.";
		next;
		mes "[米海亿]";
		mes "......真的吗?";
		next;
		donpcevent "米海亿#mos::OnEnable";
		mes "- 你把浆糊交给了 米海亿. -";
		next;
		mes "[米海亿]";
		mes "Wow! 太好了!";
		next;
		mes "- 他开始用浆糊粘贴碎片. -";
		next;
		mes "[米海亿]";
		mes "完成了!!!!!!!";
		mes "太感谢了!!!";
		next;
		mes "["+strcharinfo(0)+"]";
		mes "哈哈.";
		mes "你能答应我一件事吗?";
		next;
		mes "[米海亿]";
		mes "什么?";
		next;
		mes "["+strcharinfo(0)+"]";
		mes "把它带给我妈妈, 然后承诺将来会成为伟大的将军.";
		next;
		mes "[米海亿]";
		mes ".............";
		next;
		mes "[米海亿]";
		mes "好的我一定会的!";
		next;
		mes "["+strcharinfo(0)+"]";
		mes "真是好孩子.";
		next;
		mes "[米海亿]";
		mes "现在我要去找妈妈了.";
		donpcevent "米海亿#mos::OnInit";
		set mos_swan,25;
		delitem 7764,1;
		close;
	}
	else{
		mes "- 这是个火罐, 取暖或者烤什么用的  -";
		close;
	}
}

mosk_in,202,269,5	script	米海亿#mos	4_M_RUSCHILD,{
	end;
OnInit:
	hideonnpc "米海亿#mos";
	end;
	
OnEnable:
	hideoffnpc "米海亿#mos";
	end;
}

//----------------------------------------------------------------------------
// Sticky Herb Tree Inn NPCs
//----------------------------------------------------------------------------
mosk_in,135,191,5	script	旅馆主人#mos	4_F_RUSWOMAN3,{
	mes "[旅馆主人]";
	mes "欢迎来到 Inn 'Sticky Herb Tree'.";
	mes "这是莫斯科最安静的地方了.";
	next;
	if (mos_swan == 3) {
		switch(select("储存:过夜 - 5000z:问她 米海亿的事.")) {
		case 1:
			mes "[旅馆主人]";
			mes "储存点已经记录了.";
			mes "下次再见.";
			savepoint "mosk_in",142,189;
			close;
			break;
		case 2:
			if (Zeny > 4999) {
				mes "[旅馆主人]";
				mes "我会带您去最好的房间.";
				mes "好好休息吧.";
				close2;
					set Zeny, Zeny - 5000;
				percentheal 100,100;
				warp "mosk_in",215,181;
				end;
			}else{
				mes "[旅馆主人]";
				mes "服务费 5000z.";
				mes "你确定你身上的金钱足够.";
				close;
			}
			break;
		case 3:
			mes "[旅馆主人]";
			emotion 3;
			if (Sex) {
				mes "看你身上的肌肉!";
				mes "但你看起来很累啊?";
				next;
				mes "[旅馆主人]";
				mes "我们有村子里最好的房间, 在这过夜怎么样?";
				mes "帅哥我会给你低价的.";
			}else{
				mes "你的皮肤真好";
				mes "但你看起来很累啊?";
				next;
				mes "[旅馆主人]";
				mes "我们有村子里最好的房间, 在这过夜怎么样?";
				mes "美女我会给你低价的.";
			}
			next;
			mes "["+strcharinfo(0)+"]";
			mes "对不起我不是来住店的.";
			mes "我来这找个小男孩...";
			next;
			emotion ET_HUK;
			mes "[旅馆主人]";
			mes "什么!?!?";
			next;
			mes "[旅馆主人]";
			mes "在我这打听消息是要钱的.";
			 
			mes "如果你是我的顾客, 我会告诉你需要的, 可惜你不是!";
			next;
			mes "[旅馆主人]";
			mes "如果你在这过夜我就告诉你想知道的, 成交?";
			next;
			if(select("拒绝.:过夜获得信息. - 5000z") == 1) {
				emotion 7;
				mes "[旅馆主人]";
				mes "那你自己想办法吧.";
				close;
			}
			if (Zeny < 5000) {
				mes "[旅馆主人]";
				mes "钱都不带住什么店.";
				 
				close;
			}else{
				mes "[旅馆主人]";
				mes "你这人真棒~";
				mes "我带你去休息!!";
				next;
				set mos_swan,4;
				close2;
				set Zeny, Zeny - 5000;
				percentheal 100,100;
				warp "mosk_in",215,181;
				end;
			}
		}
	}
	else if (mos_swan == 4 || mos_swan == 5) {
		mes "[旅馆主人]";
		mes "你起来了?";
		mes "你这么年轻, 体力已经全恢复了吧.";
		mes "喔呵呵.";
		next;
		while(1) {
			switch(select("问她旅馆的事:问她 米海亿.:结束对话")) {
			case 1:
				mes "[旅馆主人]";
				mes "村外的一颗大苹果树是这店名字的由来.";
				mes "我希望我们的店能全村闻名.";
				next;
				break;
			case 2:
				mes "[旅馆主人]";
				mes "米海亿?";
				mes "Ah! 你是说那个小男孩, 伊霸诺布'的儿子?";
				mes "几小时才见过他.";
				next;
				mes "[旅馆主人]";
				mes "他脸色苍白问我借强力胶水, 应该是打破了什么东西吧.";
				next;
				mes "[旅馆主人]";
				mes "这么可爱的孩子, 要是我的儿子就好了.";
				mes "Hohoho";
				next;
				mes "["+strcharinfo(0)+"]";
				mes "然后呢?";
				mes "他得到了吗?";
				next;
				mes "[旅馆主人]";
				mes "不知道, 也许我丈夫可以...";
				mes "他修东西很在行的 hoho";
				next;
				mes "[旅馆主人]";
				mes "但是他离开莫斯科很久了, 我现在也不知道怎么做胶水...";
				next;
				mes "["+strcharinfo(0)+"]";
				mes "......然后呢?";
				next;
				mes "[旅馆主人]";
				mes "我叫他去那边的酒馆了.";
				mes "叫他别喝那些大人给他的酒!";
				mes "因为他是个很可爱的小孩啊!";
				next;
				mes "["+strcharinfo(0)+"]";
				mes "他去那了吗?";
				next;
				mes "[旅馆主人]";
				mes "去了.";
				mes "因为他是好孩子, 所以他一定会去的.";
			 
				next;
				mes "["+strcharinfo(0)+"]";
				mes "多谢你的回答!";
				next;
				mes "[旅馆主人]";
				 
				mes "等天黑了一定要再来哦. Hoho";
				set mos_swan,7;
				close;
				break;
			case 3:
				mes "[旅馆主人]";
				mes "当你要休息时, 你去哪?";
				next;
				mes "[旅馆主人]";
				mes "你该回到这 '黏黏香草树'. 好吗?";
				mes "我下次会给你更好的服务的.";
				close;
			}
		}
	}
	else{
		if(select("Save:Stay the night - 5000z") == 1) {
			mes "[旅馆主人]";
			mes "储存点存好了.";
			mes "下次再见.";
			savepoint "mosk_in",142,189;
			close;
		}
		if (Zeny> 4999) {
			mes "[旅馆主人]";
			mes "Please be comfortable.";
			close2;
		set Zeny, Zeny - 5000;
			percentheal 100,100;
			warp "mosk_in",215,181;
			end;
		}else{
			mes "[旅馆主人]";
			mes "服务费 5000z.";
			mes "确保你带足了金钱.";
			close;
		}
	}
}

mosk_in,141,212,3	script	调酒师#mos	4_M_RUSBALD,{
	if (checkweight(1201,1) == 0 ) {
		mes "- 停下 !! -";
		mes "- 你带的东西太多了 -";
		mes "- 存一点再来吧 -";
		close;
	}
	if ((MaxWeight-Weight) < 2000) {
		mes "- 停下 !! -";
		mes "- 你带的东西太多了 -";
		mes "- 存一点再来吧 -";
		close;
	}
	if (mos_swan == 7) {
		mes "[调酒师]";
		mes "又来了个流浪汉";
		mes "欢迎来到酒吧.";
		mes "我是 ^3131FF'酒吧'^000000的调酒师, 你可以叫我 '萨哈'.";
		next;
		if(select("问他 米海亿.:来一杯先.") == 1) {
			mes "["+strcharinfo(0)+"]";
			mes "萨哈, 有没有个小男孩叫做 '米海亿' 的来过这?";
			next;
			mes "[调酒师]";
			mes "你说那个可爱的小男孩吗, 他来过.";
			mes "他似乎要什么强力胶水 .";
			next;
			mes "["+strcharinfo(0)+"]";
			mes "然后你说的什么 ?";
			next;
			mes "[调酒师]";
			mes "我不知道那是什么东西.";
			mes "但我知道一个人.所以叫 米海亿去找他.";
			next;
			mes "["+strcharinfo(0)+"]";
			mes "那人是谁?";
			next;
			mes "[调酒师]";
			mes "那里的碧托勒.";
			mes "他没有什么不知道的事情, 所以我们叫他 ^3131FF'刺猬 碧托勒'^000000.";
			 
			next;
			mes "["+strcharinfo(0)+"]";
			mes "萨哈, 谢谢了!";
			next;
			mes "[调酒师]";
			mes "你真客气.";
			set mos_swan,8;
			close;
		}
		mes "[调酒师]";
		mes "虽然你看起来想个老探险者, 但是你还是很年轻.";
		mes "我推荐你这几款酒, 你想喝哪种?";
		next;
		switch(select("牛奶 - 1000z:苹果汁 - 1000z:太贵了!")) {
		case 1:
			if (Zeny > 999) {
				set Zeny, Zeny - 1000;
				set mos_swan,9;
				getitem 519,1;
				mes "[调酒师]";
				mes "这是你要的饮料";
				mes "你喜欢莫斯科吗?";
				next;
				mes "["+strcharinfo(0)+"]";
				mes "嗯, 非常漂亮.";
				mes "萨哈, 你能回答个问题吗?";
				next;
				mes "[调酒师]";
				mes "关于什么?";
				next;
				mes "["+strcharinfo(0)+"]";
				mes " 米海亿来过这吗?";
				next;
				mes "[调酒师]";
				mes "是的.";
				mes "他来要什么强力胶水.";
				next;
				mes "["+strcharinfo(0)+"]";
				mes "然后呢?";
				next;
				mes "[调酒师]";
				mes "我不太清楚.";
				mes "但是我知道一个人 就叫他去找他.";
				next;
				mes "["+strcharinfo(0)+"]";
				mes "谁?";
				next;
				mes "[调酒师]";
				mes "那里的碧托勒.";
				mes "他没有什么不知道的事情, 所以我们叫他 ^3131FF'刺猬 碧托勒'^000000.";
				next;
				mes "["+strcharinfo(0)+"]";
				mes "萨哈, 谢谢了!";
				next;
				mes "[调酒师]";
				mes "你真客气.";
				close;
			}else{
				mes "[调酒师]";
				mes "旅行是要钱的.";
				mes "如果没钱就喝矿泉水凑合吧.";
				close;
			}
			break;
		case 2:
			if (Zeny > 999) {
			set Zeny, Zeny - 1000;
				set mos_swan,9;
				getitem 531,1;
				mes "[调酒师]";
				mes "这是你要的饮料";
				mes "你喜欢莫斯科吗?";
				next;
				mes "["+strcharinfo(0)+"]";
				mes "嗯, 非常漂亮.";
				mes "萨哈, 你能回答个问题吗?";
				next;
				mes "[调酒师]";
				mes "关于什么?";
				next;
				mes "["+strcharinfo(0)+"]";
				mes " 米海亿来过这吗?";
				next;
				mes "[调酒师]";
				mes "是的.";
				mes "他来要什么强力胶水.";
				next;
				mes "["+strcharinfo(0)+"]";
				mes "然后呢?";
				next;
				mes "[调酒师]";
				mes "我不太清楚.";
				mes "但是我知道一个人 就叫他去找他.";
				next;
				mes "["+strcharinfo(0)+"]";
				mes "谁?";
				next;
				mes "[调酒师]";
				mes "那里的碧托勒.";
				mes "他没有什么不知道的事情, 所以我们叫他 ^3131FF'刺猬 碧托勒'^000000.";
				next;
				mes "["+strcharinfo(0)+"]";
				mes "谢谢了!";
				next;
				mes "[调酒师]";
				mes "你真客气.";
				close;
			}else{
				mes "[调酒师]";
				mes "旅行是要钱的.";
				mes "如果没钱就喝矿泉水凑合吧.";
				close;
			}
			break;
		case 3:
			mes "[调酒师]";
			mes "对你来说什么都太贵了.";
			close;
		}
	}
	else if (mos_swan == 8) {
		mes "[调酒师]";
		mes "当我在酒吧上班的时候, 我可以听到全世界的故事.";
		mes "他们都是自己生命里的英雄.";
		next;
		mes "[调酒师]";
		mes "这些故事让我觉得时间过的真快.";
		mes "这就是为什么我喜欢这份工作.";
		next;
		mes "[调酒师]";
		mes "你有什么故事和我说吗, 或者有什么要问的吗.";
		mes "我推荐你这些喝的.";
		next;
		switch(select("牛奶 - 1000z:苹果汁 - 1000z:太贵了!")) {
		case 1:
			if (Zeny > 999) {
					set Zeny, Zeny - 1000;
				set mos_swan,9;
				getitem 519,1;
				mes "[调酒师]";
				mes "这是你要的.";
				mes "好好饮用吧.";
				close;
			}else{
				mes "[调酒师]";
				mes "旅行是要钱的.";
				mes "如果没钱就喝矿泉水凑合吧.";
				close;
			}
			break;
		case 2:
			if (Zeny > 999) {
					set Zeny, Zeny - 1000;
				set mos_swan,9;
				getitem 531,1;
				mes "[调酒师]";
				mes "这是你要的.";
				mes "好好饮用吧.";
				close;
			}else{
				mes "[调酒师]";
				mes "旅行是要钱的.";
				mes "如果没钱就喝矿泉水凑合吧.";
				close;
			}
			break;
		case 3:
			mes "[调酒师]";
			mes "这里可是旅游区!";
			close;
		}
	}
	else if (mos_swan == 9) {
		mes "[调酒师]";
		mes "你和 碧托勒谈了吗?";
		close;
	}
	else {
		mes "[调酒师]";
		mes "欢迎到我的酒吧.";
		mes "我是亚历山大, 你也可以叫我 '萨哈'.";
		mes "今天天气真不错, 好想出去.";
		close;
	}
}

mosk_in,147,202,3	script	碧托勒#mos	4_M_RUSMAN2,{
	if (checkweight(1201,1) == 0 ) {
		mes "- 停下 !! -";
		mes "- 你带的东西太多了 -";
		mes "- 存一点再来吧 -";
		close;
	}
	if ((MaxWeight-Weight) < 2000) {
		mes "- 停下 !! -";
		mes "- 你带的东西太多了 -";
		mes "- 存一点再来吧 -";
		close;
	}
	if (mos_swan == 8) {
		mes "["+strcharinfo(0)+"]";
		mes "不好意思.";
		mes "能耽误你几分钟吗?";
		next;
		mes "[碧托勒]";
		mes "你是谁?";
		mes "谁让你来的?";
		mes "我忙着喝酒呢.";
		close;
	}
	else if (mos_swan == 9) {
		mes "["+strcharinfo(0)+"]";
		mes "不好意思.";
		mes "能耽误你几分钟吗?";
		next;
		mes "[碧托勒]";
		mes "你是谁?";
		mes "谁让你来的?";
		mes "我忙着喝酒呢.";
		next;
		mes "[碧托勒]";
		mes "什么?你也在喝酒?.";
		mes "好吧一个人喝酒很孤独的, 不过我已经习惯了.";
		next;
		mes "[碧托勒]";
		mes "好吧说说你想干什么吧.";
		next;
		mes "["+strcharinfo(0)+"]";
		mes "你有看到一个找胶水的小男孩吗?";
		next;
		mes "[碧托勒]";
		mes "..................";
		next;
		mes "[碧托勒]";
		mes "你在说 米海亿?";
		mes "他是个悲伤的小孩, 我都被他感染了.";
		next;
		mes "[碧托勒]";
		mes "对了, 你怎么知道他来找我了?他和你说什么了?";
		next;
		mes "["+strcharinfo(0)+"]";
		mes "他打坏了妈妈的 俄罗斯套娃..之后去找胶水 , 一直没有回家";
		next;
		mes "[碧托勒]";
		mes "............什么?";
		mes "Hmm.. Oh dear.....";
		mes "我怀疑他去那了.";
		next;
		mes "["+strcharinfo(0)+"]";
		mes "那?";
		next;
		mes "[碧托勒]";
		mes "是的. 芭芭 亚拉 'The Terrible'还有其他的怪兽居住的地方.";
		next;
		mes "[碧托勒]";
		mes "几小时前他哭着来这.";
		mes "他要找强力胶水去粘什么东西.";
		next;
		mes "[碧托勒]";
		mes "所以我叫他帮我找点东西.";
		next;
		mes "[碧托勒]";
		mes "要找到制作胶水的材料, 需要到一个隔离的沼泽去, 要坐很久的船.";
		next;
		mes "[碧托勒]";
		mes "那条路非常危险, 周围都是想吃人的怪兽.";
		next;
		mes "[碧托勒]";
		mes "尤其亚拉会攻击他见到的任何人, 尤其是你这样的年轻人!";
		mes "heeheehee!!";
		next;
		mes "[碧托勒]";
		mes "...你的脸发白了! 哈哈哈!!";
		next;
		mes "[碧托勒]";
		mes "但是...";
		mes "我虽然有点夸大, 但是确实有很多怪兽的.";
		mes "不过我不相信那小孩会去的, 那不可能!";
		next;
		mes "[碧托勒]";
		mes "我告诉他, 你是到不了的, 我叫他回家了.";
		mes "我又给了他些面包使他平静.";
		next;
		mes "[碧托勒]";
		mes "他打坏妈妈的 俄罗斯套娃已经很害怕了, 你觉得他还会去吗?";
		next;
		mes "[碧托勒]";
		mes "他可能只是躲在哪里, 哈哈!";
		set mos_swan,10;
		close;
	}
	else if (mos_swan == 10 || mos_swan == 11) {
		mes "[碧托勒]";
		mes "莫斯科边上有一个很大的岛屿, 坐船去要花太久的时间, 所以没人愿意去.";
		next;
		mes "[碧托勒]";
		mes "你如果到了森林深处, 会看到一个沼泽旁边长满了毒草.";
		next;
		mes "[碧托勒]";
		mes "去那的路途充满危险, 你觉得一个小孩会去那吗?";
		close;
	}
	else if (mos_swan == 12) {
		mes "[碧托勒]";
		mes "你来了, 你是想说他真去了吗?";
		next;
		mes "["+strcharinfo(0)+"]";
		mes "别担心, 我找到他了.";
		next;
		mes "[碧托勒]";
		mes "那么你还找我干什么?";
		next;
		mes "["+strcharinfo(0)+"]";
		mes "我答应他帮他做胶水, 需要什么材料?";
		next;
		mes "[碧托勒]";
		mes "有这么重要吗?你为什么非要做呢?";
		mes "好吧, 我才不管...";
		next;
		mes "[碧托勒]";
		mes "莫斯科边上有一个很大的岛屿, 坐船去要花太久的时间, 所以没人愿意去.";
		next;
		mes "[碧托勒]";
		mes "你如果到了森林深处, 会看到一个沼泽旁边长满了毒草.";
		next;
		mes "[碧托勒]";
		mes "你给我带来黏黏的草*10, 药钵*1.";
		set mos_swan,13;
		close;
	}
	else if (mos_swan > 12 && mos_swan < 23) {
		mes "[碧托勒]";
		mes "如果想做强力胶水";
		mes "你给我带来黏黏的草*10, 药钵*1.";
		mes "黏草长在沼泽周围, 但是对你来说应该不是问题吧?";
		close;
	}
	else if (mos_swan == 23) {
		mes "[碧托勒]";
		mes "这次找我干什么??";
		mes "哦对了, 强力胶水...";
		mes "你真是烦人!";
		next;
		if (countitem(7763) > 9 && countitem(7134) > 0) {
			mes "[碧托勒]";
			mes "东西给我, 我给你做, 烦死了!";
			next;
			mes "- He's making adhesive with a crunching sound -";
			mes "- He's making adhesive with a crunching sound -";
			mes "- He's making adhesive with a crunching sound -";
			next;
			mes "- And he may be rubbing something -";
			mes "- And he may be rubbing something -";
			mes "- And he may be rubbing something -";
			mes "- And he may be rubbing something -";
			next;
			mes "[碧托勒]";
			mes "好了!";
			mes "再别来烦我了!";
			mes "快走吧!";
			delitem 7763,10;
			delitem 7134,1;
			set mos_swan,24;
			getitem 7764,1;
			close;
		}else{
			mes "[碧托勒]";
			mes "我快被烦死了, 快给我材料!";
			mes "这是什么?我要的是黏黏的草*10, 药钵*1!!";
			next;
			mes "[碧托勒]";
			mes "虽然我在酒吧, 我也有自己要做的事... !";
			next;
			mes "[碧托勒]";
			mes ".............!!!!";
			next;
			mes "[碧托勒]";
			mes "..................";
			mes "你在看什么, 把东西给我带来!";
			close;
		}
	}
	else{
		mes "[碧托勒]";
		mes "你在说什么?我只想喝个痛快!";
		close;
	}
}

mosk_in,215,181,0	script	#swan_inn	-1,1,1,{
	end;
	
OnTouch:
	if (mos_swan == 4) {
		mes "..................";
		mes "..................";
		next;
		mes "..................";
		mes "..................";
		mes "..................";
		next;
		mes "..................";
		mes "..................";
		mes "..................";
		mes "..................";
		next;
		mes "["+strcharinfo(0)+"]";
		mes "睡的真香..我睡了多久?";
		next;
		mes "["+strcharinfo(0)+"]";
		mes "虽然被强制住在这, 不过睡的真舒服.";
		 
		next;
		mes "["+strcharinfo(0)+"]";
		mes "Ok, 我去找老板问问.";
		set mos_swan,5;
		close;
	}else{
		end;
	}
}

//----------------------------------------------------------------------------
// Swamp
//----------------------------------------------------------------------------
mosk_dun03,153,90,3	script	Bubbling Swamp#mos1	CLEAR_NPC,{
	if (checkweight(1201,1) == 0) {
		mes "- 你的背包今天有点重啊 -";
		close;
	}
	if ((MaxWeight-Weight) < 2000) {
		mes "- 你的背包今天有点重啊 -";
		close;
	}
	if (mos_swan == 10) {
		mes "- 你看着沼泽都觉得有点黏了 -";
		next;
		mes "- 气泡翻腾着, 气氛有点诡异 -";
		next;
		mes "["+strcharinfo(0)+"]";
		mes "没发现 米海亿. 我觉得应该回他的房间再找找看.";
		set mos_swan,11;
		close;
	}
	else if (mos_swan == 11 && mos_swan == 12) {
		mes "- 你看到一小片泥泞的沼泽 -";
		next;
		mes "- 气泡翻腾着, 气氛有点诡异 -";
		close;
	}
	else if (mos_swan > 12 && mos_swan < 23) {
		mes "- 你看着沼泽都觉得有点黏了 -";
		next;
		mes "- 气泡翻腾着, 气氛有点诡异 -";
		next;
		mes "- 你开始寻找黏草. -";
		next;
		set .@leaf_mos,rand(1,10);
		if (.@leaf_mos < 6) {
			mes "- 你的手指被黏草扎了一下. -";
			if (mos_swan == 22) {
				getitem 7763,1;
				set mos_swan,23;
				close;
			}else{
				getitem 7763,1;
				set mos_swan,mos_swan+1;
				close;
			}
		}else{
			mes "- 你的手指被绿草扎了一下. -";
			getitem 511,1;
			close;
		}
	}
	else {
		mes "- 你看到一小片泥泞的沼泽 -";
		next;
		mes "- 气泡翻腾着, 气氛有点诡异 -";
		close;
	}
}

//----------------------------------------------------------------------------
// 拉丽纱 - Hotcake Quests
//----------------------------------------------------------------------------
mosk_in,211,259,5	script	拉丽纱#mos_01	4_F_RUSWOMAN2,{
	if (checkweight(1201,1) == 0) {
		mes "- 停!! -";
		mes "- 你带的东西太多了 -";
		mes "- 先去存一点 -";
		mes "- 再来吧 -";
		close;
	}
	if ((MaxWeight-Weight) < 2000) {
		mes "- 停!! -";
		mes "- 你带的东西太多了 -";
		mes "- 先去存一点 -";
		mes "- 再来吧 -";
		close;
	}
	if (mos_swan == 100) {
		mes "[拉丽纱]";
		mes "啊你就是老板娘说的那个探险者啊 .";
		mes "找到他儿子了吗?";
		mes "我真高兴.";
		next;
		mes "[拉丽纱]";
		mes "拿好了, 这是专门为你做的.";
		mes "很美味的哦.";
		set mos_swan,101;
		getitem 592,5;
		getitem 593,5;
		next;
		mes "[拉丽纱]";
		mes "如果想吃煎饼了找我就行.";
		mes "我给你做最美味的.";
		close;
	}
	else if (mos_swan > 100) {
		mes "[拉丽纱]";
		mes "煎饼好吃吗?";
		mes "还想再吃吗?";
		next;
		if(select("Yes:No") == 1) {
			if (countitem(7031) > 0 && countitem(519) > 1 && countitem(504) > 1 && countitem(548) > 0 && countitem(1019) > 0 && countitem(518) > 0) {
				mes "[拉丽纱]";
				mes "让我看看配料带齐了吗.";
				mes "破旧平底锅*1 Cow奶*2 白色药水*2 起士*1 玛那树枝*1 蜂蜜*1";
				mes "完美!";
				next;
				mes "[拉丽纱]";
				mes "我开始揉面了.";
				mes "加点糖再加点烘培粉.";
				mes "搅拌下融合的更好.";
				next;
				mes "[拉丽纱]";
				mes "我该怎么处理这些面粉呢?";
				next;
				switch(select("扔了.:筛一下.:用拳头压一下.")) {
				case 1:
					mes "[拉丽纱]";
					mes "你现在在干什么?";
					mes "我准备从头开始了.";
					mes "看, 搅拌一下.";
					next;
					break;
				case 2:
					mes "[拉丽纱]";
					mes "你来吧, 慢慢的搅拌下, 糖和烘培粉会混合的很好的.";
					next;
					break;
				case 3:
					mes "[拉丽纱]";
					mes "如果没有勺子搅拌, 用拳头也是可以的?";
					next;
				}
				mes "[拉丽纱]";
				mes "这样, 就混合的很好了.";
				mes "然后我再加点鸡蛋, Cow奶, 白色药水.";
				mes "接下来?";
				next;
				if(select("快速搅拌.:照她说的做.") == 1) {
					mes "[拉丽纱]";
					mes "你不用这样, 搅拌的再快也是没用的.";
					next;
				}else{
					mes "[拉丽纱]";
					mes "你很在行嘛!";
					next;
				}
				mes "[拉丽纱]";
				mes "如果你适当的搅拌, 他很快就会发起来的.";
				mes "好了, 开始烤了, 倒在平底锅里, 然后摊平.";
				next;
				mes "[拉丽纱]";
				mes "低温加热, 他就会膨胀还有气泡.";
				mes "如果你看到气泡就可以关掉了.";
				next;
				if(select("高温加热.:我现在可以关掉吗?") == 1) {
					mes "[拉丽纱]";
					mes "不能这样.";
					mes "会烤糊的.";
					mes "等一会吧.";
					next;
				}else{
					mes "[拉丽纱]";
					mes "嗯, 我们看看.";
					mes "你烤的不错嘛.";
					next;
				}
				mes "[拉丽纱]";
				mes "好了关掉吧, 看起来很美味的样子";
				mes "上面放什么呢, 我放点奶酪, 剩下的看你了...";
				next;
				switch(select("鱼子酱:蘑菇:蜂蜜:草莓酱:酸奶")) {
				case 1:
					mes "[拉丽纱]";
					mes "Ok. 你想要鱼子酱吗我正好还有一些.";
					mes "好了都完成了!";
					delitem 7031,1;
					delitem 519,2;
					delitem 504,2;
					delitem 548,1;
					delitem 1019,1;
					delitem 518,1;
					getitem 591,1;
					close;
					break;
				case 2:
					mes "[拉丽纱]";
					mes "Ok. 你想要蘑菇吗我正好还有一些.";
					mes "好了都完成了!";
					delitem 7031,1;
					delitem 519,2;
					delitem 504,2;
					delitem 548,1;
					delitem 1019,1;
					delitem 518,1;
					getitem 595,1;
					close;
					break;
				case 3:
					mes "[拉丽纱]";
					mes "Ok. 你想要蜂蜜吗我正好还有一些.";
					mes "好了都完成了!";
					delitem 7031,1;
					delitem 519,2;
					delitem 504,2;
					delitem 548,1;
					delitem 1019,1;
					delitem 518,1;
					getitem 593,1;
					close;
					break;
				case 4:
					mes "[拉丽纱]";
					mes "Ok. 你想要草莓酱吗我正好还有一些.";
					mes "好了都完成了!";
					delitem 7031,1;
					delitem 519,2;
					delitem 504,2;
					delitem 548,1;
					delitem 1019,1;
					delitem 518,1;
					getitem 592,1;
					close;
					break;
				case 5:
					mes "[拉丽纱]";
					mes "Ok. 你想要酸奶吗我正好还有一些.";
					mes "好了都完成了!";
					delitem 7031,1;
					delitem 519,2;
					delitem 504,2;
					delitem 548,1;
					delitem 1019,1;
					delitem 518,1;
					getitem 594,1;
					close;
				}
			}else{
				mes "[拉丽纱]";
				mes "那很好, 我还有树种配料但是...";
				mes "还是不够, 你得找齐所有东西.";
				next;
				mes "[拉丽纱]";
				mes "我要破旧平底锅*1 Cow奶*2 白色药水*2 起士*1 玛那树枝*1 蜂蜜*1 .";
				mes "材料带齐就可以做了.";
				close;
			}
		}
		mes "[拉丽纱]";
		mes "那我们下次再做.";
		mes "我随时都可以.";
		close;
	}
	else{
		mes "[拉丽纱]";
		mes " 老板娘是个女强人.老板则比较神秘";
		mes "我已经很久没见过他了.";
		close;
	}
}

//============================================================================
// Acorn Exchange
//============================================================================

//----------------------------------------------------------------------------
// 橡实 商人 - Sells Acorns
//----------------------------------------------------------------------------
moscovia,208,182,7	script	橡实 商人#mos	4_M_RUSMAN1,{
	mes "[橡实 商人]";
	mes "我们有新鲜的橡实, 人人都会喜欢的!";
	mes "每个卖 100zeny!";
	next;
	if(select("买一点.:这个有什么用?") == 2) {
		mes "[橡实 商人]";
		mes "Well uh...";
		mes "你可以磨碎";
		mes "做成吃的或者喂松鼠.";
		next;
		mes "[橡实 商人]";
		mes "有的人用来装饰屋子";
		mes "但是我不太懂...";
		mes "他们一定是天才.";
		mes "哈哈.";
		close;
	}
	mes "[橡实 商人]";
	mes "我保证他们都很新鲜!";
	mes "你想买多少个?";
	next;
	while(.@input <= 0 || .@input > 500) {
		input .@input;
		if (.@input <= 0) {
			mes "[橡实 商人]";
			mes "你想取消交易吗?";
			close;
		}
		if (.@input > 500) {
			mes "[橡实 商人]";
			mes "你不能买超过500个.";
			close;
		}
		
	}
	if (!checkweight(1026, .@input)) {
		mes "[橡实 商人]";
		mes "你身上东西太多了";
		mes "带不下这么多的";
		mes "先去卡普拉存点东西再来吧";
		close;
	}
	set .@price, .@input * 100;
	if (Zeny < .@price) {
		mes "[橡实 商人]";
		mes "你脸怎么变白了??";
		mes "你钱带够了吗?";
		close;
	}else{
		mes "[橡实 商人]";
		mes "谢谢...";
		mes "你觉得怎样呢?很新鲜吧...";
	set Zeny, Zeny - .@price;
		getitem 1026,.@input;
		close;
	}
}

//----------------------------------------------------------------------------
// Big Squirrel - Trade Acorns for Gems
//----------------------------------------------------------------------------
mosk_fild01,113,108,3	script	Big Squirrel#mos	111,{
	if (checkweight(1201,1) == 0 ) {
		mes "- 停 !! -";
		mes "- 你身上东西太多了 -";
		mes "- 去卡普拉存完以后再来吧 -";
		close;
	}
	if ((MaxWeight-Weight) < 2000) {
		mes "- 停 !! -";
		mes "- 你身上东西太多了 -";
		mes "- 去卡普拉存完以后再来吧 -";
		close;
	}
	mes "- 这是一只特别大的松鼠. -";
	next;
	mes "- 当他看向你时, 不停的抽噎着, 嘴巴一张一合. -";
	next;
	if (countitem(1026) > 19) {
		switch(select("给它橡实.:无视它.:问它松鼠的事.")) {
		case 1:
			mes "- 你给了松鼠一个橡实. -";
			next;
			mes "- 它耳朵竖起来立刻开始肯起来. -";
			next;
			mes "- 它发出嘎吱嘎吱的声音 -";
			mes "- 它发出嘎吱嘎吱的声音 -";
			mes "- 它发出嘎吱嘎吱的声音 -";
			next;
			mes "- 吃完以后, 它开始原地乱转, 突然倒地吐出了什么东西 -";
			delitem 1026,20;
			set .@cyworld,rand(1,1000);
			set .@stworld,rand(1,150);
			if (.@cyworld > 0 && .@cyworld < 100) {
				getitem 733,1;
			}
			else if (.@cyworld == 100) {
				if (.@stworld > 0 && .@stworld < 10)
					getitem 718,1;
				else if (.@stworld > 9 && .@stworld < 20)
					getitem 719,1;
				else if (.@stworld > 19 && .@stworld < 30)
					getitem 720,1;
				else if (.@stworld > 29 && .@stworld < 40)
					getitem 721,1;
				else if (.@stworld > 39 && .@stworld < 50)
					getitem 722,1;
				else if (.@stworld > 49 && .@stworld < 60)
					getitem 723,1;
				else if (.@stworld > 59 && .@stworld < 70)
					getitem 725,1;
				else if (.@stworld > 69 && .@stworld < 80)
					getitem 728,1;
				else if (.@stworld > 79 && .@stworld < 90)
					getitem 729,1;
				else if (.@stworld > 89 && .@stworld < 100)
					getitem 730,1;
				else
					getitem 7289,1;
			}
			else if (.@cyworld > 100 && .@cyworld < 200) {
				getitem 733,1;
			}
			else if (.@cyworld == 200) {
				if (.@stworld > 0 && .@stworld < 10)
					getitem 718,1;
				else if (.@stworld > 9 && .@stworld < 20)
					getitem 719,1;
				else if (.@stworld > 19 && .@stworld < 30)
					getitem 720,1;
				else if (.@stworld > 29 && .@stworld < 40)
					getitem 721,1;
				else if (.@stworld > 39 && .@stworld < 50)
					getitem 722,1;
				else if (.@stworld > 49 && .@stworld < 60)
					getitem 723,1;
				else if (.@stworld > 59 && .@stworld < 70)
					getitem 725,1;
				else if (.@stworld > 69 && .@stworld < 80)
					getitem 728,1;
				else if (.@stworld > 79 && .@stworld < 90)
					getitem 729,1;
				else if (.@stworld > 89 && .@stworld < 100)
					getitem 731,1;
				else
					set .@stonez1,rand(1,10);
					if (.@stonez1 < 6)
						getitem 7290,1;
					else if (.@stonez1 > 5 && .@stonez1 < 8)
						getitem 7297,1;
					else
						getitem 7292,1;
			}
			else if (.@cyworld > 200 && .@cyworld < 300) {
				getitem 733,1;
			}
			else if (.@cyworld == 300) {
				if (.@stworld > 0 && .@stworld < 10)
					getitem 718,1;
				else if (.@stworld > 9 && .@stworld < 20)
					getitem 719,1;
				else if (.@stworld > 19 && .@stworld < 30)
					getitem 720,1;
				else if (.@stworld > 29 && .@stworld < 40)
					getitem 721,1;
				else if (.@stworld > 39 && .@stworld < 50)
					getitem 722,1;
				else if (.@stworld > 49 && .@stworld < 60)
					getitem 723,1;
				else if (.@stworld > 59 && .@stworld < 70)
					getitem 725,1;
				else if (.@stworld > 69 && .@stworld < 80)
					getitem 728,1;
				else if (.@stworld > 79 && .@stworld < 90)
					getitem 729,1;
				else if (.@stworld > 89 && .@stworld < 100)
					getitem 732,1;
				else
					set .@stonez2,rand(1,10);
					if (.@stonez2 < 6)
						getitem 7291,1;
					else
						getitem 7294,1;
			}
			else if (.@cyworld > 300 && .@cyworld < 400) {
				getitem 733,1;
			}
			else if (.@cyworld == 400) {
				if (.@stworld > 0 && .@stworld < 10)
					getitem 718,1;
				else if (.@stworld > 9 && .@stworld < 20)
					getitem 719,1;
				else if (.@stworld > 19 && .@stworld < 30)
					getitem 720,1;
				else if (.@stworld > 29 && .@stworld < 40)
					getitem 721,1;
				else if (.@stworld > 39 && .@stworld < 50)
					getitem 722,1;
				else if (.@stworld > 49 && .@stworld < 60)
					getitem 723,1;
				else if (.@stworld > 59 && .@stworld < 70)
					getitem 725,1;
				else if (.@stworld > 69 && .@stworld < 80)
					getitem 728,1;
				else if (.@stworld > 79 && .@stworld < 90)
					getitem 729,1;
				else if (.@stworld > 89 && .@stworld < 100)
					getitem 730,1;
				else
					getitem 7295,1;
			}
			else if (.@cyworld > 400 && .@cyworld < 500) {
				getitem 733,1;
			}
			else if (.@cyworld == 500) {
				if (.@stworld > 0 && .@stworld < 10)
					getitem 718,1;
				else if (.@stworld > 9 && .@stworld < 20)
					getitem 719,1;
				else if (.@stworld > 19 && .@stworld < 30)
					getitem 720,1;
				else if (.@stworld > 29 && .@stworld < 40)
					getitem 721,1;
				else if (.@stworld > 39 && .@stworld < 50)
					getitem 722,1;
				else if (.@stworld > 49 && .@stworld < 60)
					getitem 723,1;
				else if (.@stworld > 59 && .@stworld < 70)
					getitem 725,1;
				else if (.@stworld > 69 && .@stworld < 80)
					getitem 728,1;
				else if (.@stworld > 79 && .@stworld < 90)
					getitem 729,1;
				else if (.@stworld > 89 && .@stworld < 100)
					getitem 731,1;
				else
					getitem 7293,1;
			}
			else if (.@cyworld > 500 && .@cyworld < 600) {
				getitem 724,1;
			}
			else if (.@cyworld == 600) {
				if (.@stworld > 0 && .@stworld < 10)
					getitem 718,1;
				else if (.@stworld > 9 && .@stworld < 20)
					getitem 719,1;
				else if (.@stworld > 19 && .@stworld < 30)
					getitem 720,1;
				else if (.@stworld > 29 && .@stworld < 40)
					getitem 721,1;
				else if (.@stworld > 39 && .@stworld < 50)
					getitem 722,1;
				else if (.@stworld > 49 && .@stworld < 60)
					getitem 723,1;
				else if (.@stworld > 59 && .@stworld < 70)
					getitem 725,1;
				else if (.@stworld > 69 && .@stworld < 80)
					getitem 728,1;
				else if (.@stworld > 79 && .@stworld < 90)
					getitem 729,1;
				else if (.@stworld > 89 && .@stworld < 100)
					getitem 732,1;
				else
					getitem 7292,1;
			}
			else if (.@cyworld > 600 && .@cyworld < 700) {
				getitem 724,1;
			}
			else if (.@cyworld == 700) {
				if (.@stworld > 0 && .@stworld < 10)
					getitem 718,1;
				else if (.@stworld > 9 && .@stworld < 20)
					getitem 719,1;
				else if (.@stworld > 19 && .@stworld < 30)
					getitem 720,1;
				else if (.@stworld > 29 && .@stworld < 40)
					getitem 721,1;
				else if (.@stworld > 39 && .@stworld < 50)
					getitem 722,1;
				else if (.@stworld > 49 && .@stworld < 60)
					getitem 723,1;
				else if (.@stworld > 59 && .@stworld < 70)
					getitem 725,1;
				else if (.@stworld > 69 && .@stworld < 80)
					getitem 728,1;
				else if (.@stworld > 79 && .@stworld < 90)
					getitem 729,1;
				else if (.@stworld > 89 && .@stworld < 100)
					getitem 730,1;
				else
					getitem 7290,1;
			}
			else if (.@cyworld > 700 && .@cyworld < 800) {
				getitem 724,1;
			}
			else if (.@cyworld == 800) {
				if (.@stworld > 0 && .@stworld < 10)
					getitem 718,1;
				else if (.@stworld > 9 && .@stworld < 20)
					getitem 719,1;
				else if (.@stworld > 19 && .@stworld < 30)
					getitem 720,1;
				else if (.@stworld > 29 && .@stworld < 40)
					getitem 721,1;
				else if (.@stworld > 39 && .@stworld < 50)
					getitem 722,1;
				else if (.@stworld > 49 && .@stworld < 60)
					getitem 723,1;
				else if (.@stworld > 59 && .@stworld < 70)
					getitem 725,1;
				else if (.@stworld > 69 && .@stworld < 80)
					getitem 728,1;
				else if (.@stworld > 79 && .@stworld < 90)
					getitem 729,1;
				else if (.@stworld > 89 && .@stworld < 100)
					getitem 731,1;
				else
					getitem 7296,1;
			}
			else if (.@cyworld > 800 && .@cyworld < 900) {
				getitem 724,1;
			}
			else if (.@cyworld == 900) {
				if (.@stworld > 0 && .@stworld < 10)
					getitem 718,1;
				else if (.@stworld > 9 && .@stworld < 20)
					getitem 719,1;
				else if (.@stworld > 19 && .@stworld < 30)
					getitem 720,1;
				else if (.@stworld > 29 && .@stworld < 40)
					getitem 721,1;
				else if (.@stworld > 39 && .@stworld < 50)
					getitem 722,1;
				else if (.@stworld > 49 && .@stworld < 60)
					getitem 723,1;
				else if (.@stworld > 59 && .@stworld < 70)
					getitem 725,1;
				else if (.@stworld > 69 && .@stworld < 80)
					getitem 728,1;
				else if (.@stworld > 79 && .@stworld < 90)
					getitem 729,1;
				else if (.@stworld > 89 && .@stworld < 100)
					getitem 732,1;
				else
					getitem 7297,1;
			}
			else if (.@cyworld == 1000) {
				getitem 727,1;
			}
			else {
				getitem 724,1;
			}
			close;
			break;
		case 2:
			mes "["+strcharinfo(0)+"]";
			mes "真可爱.";
			close;
			break;
		case 3:
			mes "[老人]";
			mes "这只松鼠是不是特别大?";
			mes "我有天找到了它就收留它了...";
			next;
			mes "[老人]";
			mes "我觉得这是天堂送我的礼物, 让我不再孤单.";
			next;
			mes "[老人]";
			mes "但是我不知道它这么能吃, 如果给他少于20个橡实, 它是不会理我的.";
			mes "所以他才会这么大哈哈.";
			close;
		}
	}else{
		mes "- 松鼠看了看你手中的橡实, 然后又不理你了 -";
		close;
	}
}

mosk_fild01,113,108,5	script	#mos_sq	1104,2,2,{
	end;
	
OnTouch:
	if (checkweight(1201,1) == 0 ) {
		mes "- 停 !! -";
		mes "- 你身上东西太多了 -";
		mes "- 去卡普拉存完以后再来吧 -";
 
		close;
	}
	if ((MaxWeight-Weight) < 2000) {
		mes "- 停 !! -";
		mes "- 你身上东西太多了 -";
		mes "- 去卡普拉存完以后再来吧 -";
 
		close;
	}
	mes "- 这是一只特别大的松鼠. -";
	next;
	mes "- 当他看向你时, 不停的抽噎着, 嘴巴一张一合. -";
	next;
	if (countitem(1026) > 19) {
		switch(select("给它橡实.:无视它.:问它松鼠的事.")) {
		case 1:
			mes "- 你给了松鼠一个橡实. -";
			next;
			mes "- 它耳朵竖起来立刻开始肯起来. -";
			next;
			mes "- 它发出嘎吱嘎吱的声音 -";
			mes "- 它发出嘎吱嘎吱的声音 -";
			mes "- 它发出嘎吱嘎吱的声音 -";
			next;
			mes "- 吃完以后, 它开始原地乱转, 突然倒地吐出了什么东西 -";
			delitem 1026,20;
			set .@cyworld,rand(1,1000);
			set .@stworld,rand(1,150);
			if (.@cyworld > 0 && .@cyworld < 100) {
				getitem 733,1;
			}
			else if (.@cyworld == 100) {
				if (.@stworld > 0 && .@stworld < 10)
					getitem 718,1;
				else if (.@stworld > 9 && .@stworld < 20)
					getitem 719,1;
				else if (.@stworld > 19 && .@stworld < 30)
					getitem 720,1;
				else if (.@stworld > 29 && .@stworld < 40)
					getitem 721,1;
				else if (.@stworld > 39 && .@stworld < 50)
					getitem 722,1;
				else if (.@stworld > 49 && .@stworld < 60)
					getitem 723,1;
				else if (.@stworld > 59 && .@stworld < 70)
					getitem 725,1;
				else if (.@stworld > 69 && .@stworld < 80)
					getitem 728,1;
				else if (.@stworld > 79 && .@stworld < 90)
					getitem 729,1;
				else if (.@stworld > 89 && .@stworld < 100)
					getitem 730,1;
				else
					getitem 7289,1;
			}
			else if (.@cyworld > 100 && .@cyworld < 200) {
				getitem 733,1;
			}
			else if (.@cyworld == 200) {
				if (.@stworld > 0 && .@stworld < 10)
					getitem 718,1;
				else if (.@stworld > 9 && .@stworld < 20)
					getitem 719,1;
				else if (.@stworld > 19 && .@stworld < 30)
					getitem 720,1;
				else if (.@stworld > 29 && .@stworld < 40)
					getitem 721,1;
				else if (.@stworld > 39 && .@stworld < 50)
					getitem 722,1;
				else if (.@stworld > 49 && .@stworld < 60)
					getitem 723,1;
				else if (.@stworld > 59 && .@stworld < 70)
					getitem 725,1;
				else if (.@stworld > 69 && .@stworld < 80)
					getitem 728,1;
				else if (.@stworld > 79 && .@stworld < 90)
					getitem 729,1;
				else if (.@stworld > 89 && .@stworld < 100)
					getitem 731,1;
				else
					set .@stonez1,rand(1,10);
					if (.@stonez1 < 6)
						getitem 7290,1;
					else if (.@stonez1 > 5 && .@stonez1 < 8)
						getitem 7297,1;
					else
						getitem 7292,1;
			}
			else if (.@cyworld > 200 && .@cyworld < 300) {
				getitem 733,1;
			}
			else if (.@cyworld == 300) {
				if (.@stworld > 0 && .@stworld < 10)
					getitem 718,1;
				else if (.@stworld > 9 && .@stworld < 20)
					getitem 719,1;
				else if (.@stworld > 19 && .@stworld < 30)
					getitem 720,1;
				else if (.@stworld > 29 && .@stworld < 40)
					getitem 721,1;
				else if (.@stworld > 39 && .@stworld < 50)
					getitem 722,1;
				else if (.@stworld > 49 && .@stworld < 60)
					getitem 723,1;
				else if (.@stworld > 59 && .@stworld < 70)
					getitem 725,1;
				else if (.@stworld > 69 && .@stworld < 80)
					getitem 728,1;
				else if (.@stworld > 79 && .@stworld < 90)
					getitem 729,1;
				else if (.@stworld > 89 && .@stworld < 100)
					getitem 732,1;
				else
					set .@stonez2,rand(1,10);
					if (.@stonez2 < 6)
						getitem 7291,1;
					else
						getitem 7294,1;
			}
			else if (.@cyworld > 300 && .@cyworld < 400) {
				getitem 733,1;
			}
			else if (.@cyworld == 400) {
				if (.@stworld > 0 && .@stworld < 10)
					getitem 718,1;
				else if (.@stworld > 9 && .@stworld < 20)
					getitem 719,1;
				else if (.@stworld > 19 && .@stworld < 30)
					getitem 720,1;
				else if (.@stworld > 29 && .@stworld < 40)
					getitem 721,1;
				else if (.@stworld > 39 && .@stworld < 50)
					getitem 722,1;
				else if (.@stworld > 49 && .@stworld < 60)
					getitem 723,1;
				else if (.@stworld > 59 && .@stworld < 70)
					getitem 725,1;
				else if (.@stworld > 69 && .@stworld < 80)
					getitem 728,1;
				else if (.@stworld > 79 && .@stworld < 90)
					getitem 729,1;
				else if (.@stworld > 89 && .@stworld < 100)
					getitem 730,1;
				else
					getitem 7295,1;
			}
			else if (.@cyworld > 400 && .@cyworld < 500) {
				getitem 733,1;
			}
			else if (.@cyworld == 500) {
				if (.@stworld > 0 && .@stworld < 10)
					getitem 718,1;
				else if (.@stworld > 9 && .@stworld < 20)
					getitem 719,1;
				else if (.@stworld > 19 && .@stworld < 30)
					getitem 720,1;
				else if (.@stworld > 29 && .@stworld < 40)
					getitem 721,1;
				else if (.@stworld > 39 && .@stworld < 50)
					getitem 722,1;
				else if (.@stworld > 49 && .@stworld < 60)
					getitem 723,1;
				else if (.@stworld > 59 && .@stworld < 70)
					getitem 725,1;
				else if (.@stworld > 69 && .@stworld < 80)
					getitem 728,1;
				else if (.@stworld > 79 && .@stworld < 90)
					getitem 729,1;
				else if (.@stworld > 89 && .@stworld < 100)
					getitem 731,1;
				else
					getitem 7293,1;
			}
			else if (.@cyworld > 500 && .@cyworld < 600) {
				getitem 724,1;
			}
			else if (.@cyworld == 600) {
				if (.@stworld > 0 && .@stworld < 10)
					getitem 718,1;
				else if (.@stworld > 9 && .@stworld < 20)
					getitem 719,1;
				else if (.@stworld > 19 && .@stworld < 30)
					getitem 720,1;
				else if (.@stworld > 29 && .@stworld < 40)
					getitem 721,1;
				else if (.@stworld > 39 && .@stworld < 50)
					getitem 722,1;
				else if (.@stworld > 49 && .@stworld < 60)
					getitem 723,1;
				else if (.@stworld > 59 && .@stworld < 70)
					getitem 725,1;
				else if (.@stworld > 69 && .@stworld < 80)
					getitem 728,1;
				else if (.@stworld > 79 && .@stworld < 90)
					getitem 729,1;
				else if (.@stworld > 89 && .@stworld < 100)
					getitem 732,1;
				else
					getitem 7292,1;
			}
			else if (.@cyworld > 600 && .@cyworld < 700) {
				getitem 724,1;
			}
			else if (.@cyworld == 700) {
				if (.@stworld > 0 && .@stworld < 10)
					getitem 718,1;
				else if (.@stworld > 9 && .@stworld < 20)
					getitem 719,1;
				else if (.@stworld > 19 && .@stworld < 30)
					getitem 720,1;
				else if (.@stworld > 29 && .@stworld < 40)
					getitem 721,1;
				else if (.@stworld > 39 && .@stworld < 50)
					getitem 722,1;
				else if (.@stworld > 49 && .@stworld < 60)
					getitem 723,1;
				else if (.@stworld > 59 && .@stworld < 70)
					getitem 725,1;
				else if (.@stworld > 69 && .@stworld < 80)
					getitem 728,1;
				else if (.@stworld > 79 && .@stworld < 90)
					getitem 729,1;
				else if (.@stworld > 89 && .@stworld < 100)
					getitem 730,1;
				else
					getitem 7290,1;
			}
			else if (.@cyworld > 700 && .@cyworld < 800) {
				getitem 724,1;
			}
			else if (.@cyworld == 800) {
				if (.@stworld > 0 && .@stworld < 10)
					getitem 718,1;
				else if (.@stworld > 9 && .@stworld < 20)
					getitem 719,1;
				else if (.@stworld > 19 && .@stworld < 30)
					getitem 720,1;
				else if (.@stworld > 29 && .@stworld < 40)
					getitem 721,1;
				else if (.@stworld > 39 && .@stworld < 50)
					getitem 722,1;
				else if (.@stworld > 49 && .@stworld < 60)
					getitem 723,1;
				else if (.@stworld > 59 && .@stworld < 70)
					getitem 725,1;
				else if (.@stworld > 69 && .@stworld < 80)
					getitem 728,1;
				else if (.@stworld > 79 && .@stworld < 90)
					getitem 729,1;
				else if (.@stworld > 89 && .@stworld < 100)
					getitem 731,1;
				else
					getitem 7296,1;
			}
			else if (.@cyworld > 800 && .@cyworld < 900) {
				getitem 724,1;
			}
			else if (.@cyworld == 900) {
				if (.@stworld > 0 && .@stworld < 10)
					getitem 718,1;
				else if (.@stworld > 9 && .@stworld < 20)
					getitem 719,1;
				else if (.@stworld > 19 && .@stworld < 30)
					getitem 720,1;
				else if (.@stworld > 29 && .@stworld < 40)
					getitem 721,1;
				else if (.@stworld > 39 && .@stworld < 50)
					getitem 722,1;
				else if (.@stworld > 49 && .@stworld < 60)
					getitem 723,1;
				else if (.@stworld > 59 && .@stworld < 70)
					getitem 725,1;
				else if (.@stworld > 69 && .@stworld < 80)
					getitem 728,1;
				else if (.@stworld > 79 && .@stworld < 90)
					getitem 729,1;
				else if (.@stworld > 89 && .@stworld < 100)
					getitem 732,1;
				else
					getitem 7297,1;
			}
			else if (.@cyworld == 1000) {
				getitem 727,1;
			}
			else {
				getitem 724,1;
			}
			close;
			break;
		case 2:
			mes "["+strcharinfo(0)+"]";
			mes "真可爱.";
			close;
			break;
		case 3:
			mes "[老人]";
			mes "这只松鼠是不是特别大?";
			mes "我有天找到了它就收留它了...";
			next;
			mes "[老人]";
			mes "我觉得这是天堂送我的礼物, 让我不再孤单.";
			next;
			mes "[老人]";
			mes "但是我不知道它这么能吃, 如果给他少于20个橡实, 它是不会理我的.";
			mes "所以他才会这么大哈哈.";
			close;
		}
	}else{
		mes "- 松鼠看了看你手中的橡实, 然后又不理你了 -";
		close;
	}
}



//============================================================================
// 讨厌冬天的芭芭亚卡任务
//============================================================================

//----------------------------------------------------------------------------
// 可怕的 芭芭亚拉 - Starting Point
//----------------------------------------------------------------------------
mosk_in,215,46,5	script	#芭芭亚拉	-1,7,7,{
	end;
	
OnTouch:
	if (!mos_nowinter) {
		if (countitem(7762) > 39 && BaseLevel > 59) {
			set mos_nowinter,2;
			mes "[可怕的 芭芭亚拉]";
			mes "你他妈的是谁?";
			mes "你想死吗!";
			next;
			mes "[可怕的 芭芭亚拉]";
			mes "那是...";
			next;
			mes "[可怕的 芭芭亚拉]";
			mes "你有这么多!";
			mes "亚拉的杵棒...";
			next;
			mes "[可怕的 芭芭亚拉]";
			mes "你, 你是谁?";
			close;
		}
		else if (countitem(7762) > 39 && BaseLevel < 60) {
			mes "[可怕的 芭芭亚拉]";
			mes "Hohoho~";
			mes "你不能欺负我的同伴!";
			mes "我不管你哪里得到的杵棒";
			mes "赶紧都还给我";
			set mos_nowinter,1;
			set .@getback,rand(1,20);
			delitem 7762,.@getback;
			close2;
			warp "mosk_dun02",53,217;
			end;
		}
		else{
			mes "[可怕的 芭芭亚拉]";
			mes "你他妈的是谁?";
			mes "你想死吗!";
			set mos_nowinter,1;
			close2;
			warp "mosk_dun02",53,217;
			end;
		}
	}
	else if (mos_nowinter == 1) {
		if (countitem(7762) > 39 && BaseLevel > 59) {
			set mos_nowinter,2;
			mes "[可怕的 芭芭亚拉]";
			mes "你他妈的是谁?";
			mes "你想死吗!";
			next;
			mes "[可怕的 芭芭亚拉]";
			mes "那是...";
			next;
			mes "[可怕的 芭芭亚拉]";
			mes "你有这么多!";
			mes "亚拉的杵棒...";
			next;
			mes "[可怕的 芭芭亚拉]";
			mes "你, 你是谁?";
			close;
		}
		else if (countitem(7762) > 39 && BaseLevel < 60) {
			mes "[可怕的 芭芭亚拉]";
			mes "小P孩,";
			mes "你欠揍了吗.";
			next;
			if (Sex) {
				mes "[可怕的 芭芭亚拉]";
				mes "来来";
				mes "让我施法.";
				mes "把你变成奴隶吧, 哈哈!";
			}else{
				mes "[可怕的 芭芭亚拉]";
				mes "我最近都没什么胃口.";
				mes "不过";
				mes "看样子你的味道不错嘛.";
				mes "呵呵呵.";
			}
			close2;
			warp "mosk_dun02",53,217;
			end;
		}
		else {
			mes "[可怕的 芭芭亚拉]";
			mes "我得再收拾你下.";
			mes "来";
			mes "玩个游戏";
			mes "Heeeeeeeeeeee";
			close2;
			warp "mosk_dun02",53,217;
			end;
		}
	}
}

mosk_in,215,46,5	script	可怕的 芭芭亚拉	4_F_BABAYAGA,{
	if (!mos_nowinter || mos_nowinter == 1) {
		mes "[可怕的 芭芭亚拉]";
		mes "Hohoho";
		mes "我得再收拾你下.";
		mes "来";
		mes "玩个游戏";
		mes "Heeeeeeeeeeee";
		close2;
		warp "mosk_dun02",53,217;
		end;
	}
	else if (mos_nowinter == 2) {
		mes "[可怕的 芭芭亚拉]";
		mes "不要靠近我, 让我一个人待着.";
		mes "我很饥饿的.";
		next;
		mes "-她在自言自语着什么.-";
		next;
		mes "[可怕的 芭芭亚拉]";
		mes "如果你放过我, 我会报答你的";
		mes "怎么样?";
		next;
		if(select("什么报答?:不需要.") == 1) {
			mes "[可怕的 芭芭亚拉]";
			mes "如果你放过我";
			mes "我给你亚拉的杵棒";
			mes "你不是正在收集他们吗?";
			next;
			select("我不需要了.");
		}
		mes "[可怕的 芭芭亚拉]";
		mes "Kaaaaaaaaaak!";
		mes "求你了, 放过我吧,";
		mes "叫我做什么都可以.";
		next;
		mes "[可怕的 芭芭亚拉]";
		mes "你想要伤药或者食物吗";
		 
		mes "虽然有点脏,";
		mes "可都是好东西.";
		next;
		select("好吧...");
		mes "[可怕的 芭芭亚拉]";
		mes "要么这样?";
		mes "我对这个村子施法";
		mes "以后就再也没有冬天了.";
		next;
		mes "[可怕的 芭芭亚拉]";
		mes "我相信村民都会喜欢的";
		mes "我也肯定";
		mes "国王会因此奖赏你的.";
		next;
		mes "[可怕的 芭芭亚拉]";
		mes "?磕闶裁?..";
		mes "很感兴趣吗... 嗯?";
		mes "你觉得怎么样?";
		next;
		if(select("不错, 但是我觉得你在骗我?.:没兴趣.") == 1) {
			mes "[可怕的 芭芭亚拉]";
			mes "请相信我.";
			mes "我没骗你";
			mes "只是这个法术很复杂";
			mes "我没法一个人完成.";
			next;
			mes "[可怕的 芭芭亚拉]";
			mes "问题是...";
			next;
			mes "[可怕的 芭芭亚拉]";
			mes "我状态不太好";
			mes "无法取得某些材料.";
			next;
			mes "[可怕的 芭芭亚拉]";
			mes "So,";
			mes "如果你帮我,";
			mes "我就可以施法";
			mes "让冬天再也不会降临?";
			next;
			if(select("好吧.:你耍哥呢?.") == 1) {
				mes "[可怕的 芭芭亚拉]";
				mes "算是接受了吗?";
				mes "谢谢.";
				next;
				mes "[可怕的 芭芭亚拉]";
				mes "你真好.";
				mes "让我们一起";
				mes "来完成它吧.";
				next;
				mes "[可怕的 芭芭亚拉]";
				mes "我想想... Ah...";
				next;
				mes "[可怕的 芭芭亚拉]";
				mes "我太久没施法了.";
				mes "有点记不清了";
				mes "你待会再来吧.";
				mes "让我想想?";
				set mos_nowinter,5;
				close;
			}else{
				mes "[可怕的 芭芭亚拉]";
				mes "Heeeek,";
				mes "你得先帮我点小....忙.";
				next;
				mes "[可怕的 芭芭亚拉]";
				mes "别杀我...";
				next;
				mes "'Hmmm, 我该怎么办...'";
				set mos_nowinter,4;
				close;
			}
		}else{
			mes "[可怕的 芭芭亚拉]";
			mes "Akkk... 你想干什么...";
			next;
			mes "Hmm... 你要做什么.....";
			set mos_nowinter,3;
			close;
		}
	}
	else if (mos_nowinter == 3) {
		mes "[可怕的 芭芭亚拉]";
		mes "Akkkk!";
		mes "你回来了..";
		next;
		mes "[可怕的 芭芭亚拉]";
		mes "如果你告诉国王";
		mes "冬天再也不会来了";
		mes "他会奖赏你的.";
		next;
		mes "[可怕的 芭芭亚拉]";
		mes "这要比杀了我";
		mes "要好很多吧?";
		next;
		if(select("好吧, 把事情告诉我.:让我考虑下...") == 1) {
			mes "[可怕的 芭芭亚拉]";
			mes "请相信我.";
			mes "我没骗你";
			mes "只是这个法术很复杂";
			mes "我没法一个人完成.";
			next;
			mes "[可怕的 芭芭亚拉]";
			mes "问题是...";
			next;
			mes "[可怕的 芭芭亚拉]";
			mes "我状态不太好";
			mes "无法取得某些材料.";
			next;
			mes "[可怕的 芭芭亚拉]";
			mes "So,";
			mes "如果你帮我,";
			mes "我就可以施法";
			mes "让冬天再也不会降临?";
			next;
			if(select("好吧.:我不想帮你.") == 1) {
				mes "[可怕的 芭芭亚拉]";
				mes "算是接受了吗?";
				mes "谢谢.";
				next;
				mes "[可怕的 芭芭亚拉]";
				mes "你真好.";
				mes "让我们一起";
				mes "来完成它吧.";
				next;
				mes "[可怕的 芭芭亚拉]";
				mes "我想想... Ah...";
				next;
				mes "[可怕的 芭芭亚拉]";
				mes "我太久没施法了.";
				mes "有点记不清了";
				mes "你待会再来吧.";
				mes "让我想想?";
				set mos_nowinter,5;
				close;
			}else{
				mes "[可怕的 芭芭亚拉]";
				mes "Heeeek,";
				mes "你得先帮我点小....忙.";
				next;
				mes "[可怕的 芭芭亚拉]";
				mes "别杀我...";
				next;
				mes "'Hmmm, 我该怎么办...'";
				set mos_nowinter,4;
				close;
			}
		}
		mes "[可怕的 芭芭亚拉]";
		mes "你想多了...";
		mes "你到底想怎么样...";
		close;
	}
	else if (mos_nowinter == 4) {
		mes "[可怕的 芭芭亚拉]";
		mes "你得先帮我点小....忙.";
		next;
		mes "[可怕的 芭芭亚拉]";
		mes "改变主意了吗?";
		next;
		if(select("好吧, 试试吧.:我再想想...") == 1) {
			mes "[可怕的 芭芭亚拉]";
			mes "算是接受了吗?";
				mes "谢谢.";
				next;
				mes "[可怕的 芭芭亚拉]";
				mes "你真好.";
				mes "让我们一起";
				mes "来完成它吧.";
				next;
				mes "[可怕的 芭芭亚拉]";
				mes "我想想... Ah...";
				next;
				mes "[可怕的 芭芭亚拉]";
				mes "我太久没施法了.";
				mes "有点记不清了";
				mes "你待会再来吧.";
				mes "让我想想?";
			set mos_nowinter,5;
			close;
		}
		mes "[可怕的 芭芭亚拉]";
		mes "你想多了...";
		mes "你到底想怎么样...";
		close;
	}
	else if (mos_nowinter == 5) {
		mes "[可怕的 芭芭亚拉]";
		mes "让我想想..季节符咒放哪了...";
		next;
		mes "翻找..";
		next;
		mes "[可怕的 芭芭亚拉]";
		mes "啊.找到了!";
		mes "Hoook~ Hoook~";
		next;
		mes "-一本老旧布满灰尘的书!-";
		next;
		mes "[可怕的 芭芭亚拉]";
		mes "好吧, 睁开眼睛.";
		mes "它保存的很好";
		mes "你可以一次就记住的.";
		next;
		mes "[可怕的 芭芭亚拉]";
		mes "需要下面的材料,";
		mes "黏稠液体10个,蝗虫后腿20个, 菌丝5个, 红色蝙蝠翅膀20个, 魔女的星沙10个,黄晶沙的一角10个 , 脑管1个 , 火灵矿石5个 ,燃烧的心脏10个,1克拉钻石1个...";
		set mos_nowinter,6;
		next;
		if(select("...你确定吗?:有粘液也团体,你想让我骂吗?!") == 1) {
			mes "[可怕的 芭芭亚拉]";
			mes "是的,我确定.你为什么不肯相信玩呢...";
			next;
			mes "[可怕的 芭芭亚拉]";
			mes "咳,咳,";
			mes "我现在咳嗽,不要打扰我,";
			mes "你写下来.";
			set .@plus1,1;
			next;
		}else{
			mes "[可怕的 芭芭亚拉]";
			mes "不,它只是...";
			next;
			mes "[可怕的 芭芭亚拉]";
			mes "糟糕透了.";
			mes "嘿,放松你的手";
			mes "继续写.";
			mes "别忘记了粘稠液体...";
			next;
		}
		mes "[可怕的 芭芭亚拉]";
		mes "我们刚才说到...";
		mes "咳, 咳, 咳!";
		next;
		mes "[可怕的 芭芭亚拉]";
		mes "嗯.接下来是";
		mes "最重要的.";
		next;
		mes "[可怕的 芭芭亚拉]";
		mes "10个魔女的星沙";
		mes "10个黄晶沙的一角...";
		mes "咳, 咳~";
		mes "咳咳咳, 这书好多灰尘!";
		next;
		mes "[可怕的 芭芭亚拉]";
		mes "接下来";
		mes "是一些加热的东西.";
		mes "1个脑管";
		mes "5个火灵矿石,";
		mes "和10个燃烧的心脏.";
		next;
		mes "[可怕的 芭芭亚拉]";
		mes "我还需要一个";
		mes " 1, 2, 或 3 克拉";
		mes "^ff0000钻石^000000.";
		next;
		if (.@plus1 == 1) {
			mes "[可怕的 芭芭亚拉]";
			mes "好了,我再重复一次.";
			mes "材料是...";
			next;
			mes "[可怕的 芭芭亚拉]";
			mes "^ff0000 20个蝗虫后退,";
			mes "5个菌丝,";
			mes "20个红色蝙蝠翅膀,";
			mes "10个魔女的星沙,";
			mes "10个粘稠液体^000000...";
			next;
			mes "[可怕的 芭芭亚拉]";
			mes "^ff0000 10个黄晶沙的一角,";
			mes "1个脑管,";
			mes "5个火灵矿石,";
			mes "10个燃烧的心脏^000000 和,";
			mes "一个 1, 2, 火 3 克拉";
			mes "^ff0000钻石^000000.";
			set mos_nowinter,6;
			next;
		}else{
			mes "[可怕的 芭芭亚拉]";
			mes "好了,我再重复一次.";
			mes "材料是...";
			next;
			mes "[可怕的 芭芭亚拉]";
			mes "^ff0000 20个蝗虫后退,";
			mes "5个菌丝,";
			mes "20个红色蝙蝠翅膀,";
			mes "10个魔女的星沙,";
			mes "10个粘稠液体^000000...";
			next;
			mes "[可怕的 芭芭亚拉]";
			mes "^ff0000 10个黄晶沙的一角,";
			mes "1个脑管,";
			mes "5个火灵矿石,";
			mes "10个燃烧的心脏^000000 和,";
			mes "一个 1, 2, 3 克拉";
			mes "^ff0000钻石^000000.";
			set mos_nowinter,7;
			next;
		}
		mes "[可怕的 芭芭亚拉]";
		mes "我要准备制作它,";
		mes "你快去把材料带来. 咳, 咳!";
		close;
	}
	else if (mos_nowinter == 6) {
		mes "[可怕的 芭芭亚拉]";
		mes "Ehhh... 你回来的真早.";
		next;
		mes "[可怕的 芭芭亚拉]";
		mes "我快准备好了..";
		mes "材料带齐了吗?";
		next;
		if (countitem(940) > 19 && countitem(908) > 4 && countitem(7006) > 19 && countitem(1061) > 9 && countitem(7041) > 9 && countitem(1051) > 0 && countitem(990) > 4 && countitem(938) > 9 && countitem(7097) > 9 && (countitem(730) > 0 || countitem(731) > 0 || countitem(732) > 0)) {
			delitem 940,20;
			delitem 908,5;
			delitem 7006,20;
			delitem 1061,10;
			delitem 7041,10;
			delitem 938,10;
			delitem 1051,1;
			delitem 990,5;
			delitem 7097,10;
			if (countitem(730) > 0) {
				delitem 730,1;
			}else{
				if (countitem(731) > 0) {
					delitem 731,1;
				}else{
					delitem 732,1;
				}
			}
			set mos_nowinter,8;
			mes "[可怕的 芭芭亚拉]";
			mes "好的, 材料齐了.";
			mes "这些数量的话...";
			mes "不, 做秘药的话,";
			mes "这些应该足够了.";
			next;
			mes "[可怕的 芭芭亚拉]";
			mes "我想想";
			mes "材料都齐了...";
			next;
			mes "[可怕的 芭芭亚拉]";
			mes "Ehhhh...";
			mes "Huk!";
			next;
			mes "[可怕的 芭芭亚拉]";
			mes "咳, 咳, 咳!";
			mes "Eh... 我是说...";
			next;
			mes "[可怕的 芭芭亚拉]";
			mes "你听说巨龙";
			mes "要沉睡很久了吗?";
			mes "下面需要的东西";
			mes "是龙穴里的某样物品, kkkk.";
			next;
			mes "[可怕的 芭芭亚拉]";
			mes "你可以在龙穴里";
			mes "找到一个奇怪的瓶子.";
			mes "那是个能收集人话";
			mes "的葫芦瓶.";
			mes "我必须要它.";
			next;
			mes "[可怕的 芭芭亚拉]";
			mes "我不知道你有多厉害,";
			mes "但是我建议你最好";
			mes "不要招惹那些龙, Kaaaaak~";
			next;
			mes "[可怕的 芭芭亚拉]";
			mes "好了你去吧.";
			mes "我要做点东西,";
			mes "...但是, 我的命是最重要的..是的... 咳, 咳!";
			close;
		}else{
			mes "[可怕的 芭芭亚拉]";
			mes "我觉得";
			mes "还要更多啊, 咳, 咳!";
			next;
			mes "[可怕的 芭芭亚拉]";
			mes "没有它们";
			mes "我什么都做不出.";
			mes "我再告诉你一次材料,";
			mes "你必须全都收集上, kaaaaak!";
			next;
			mes "[可怕的 芭芭亚拉]";
			mes "^ff0000黏稠液体10个,蝗虫后腿20个, 菌丝5个, 红色蝙蝠翅膀20个, 魔女的星沙10个,黄晶沙的一角10个 , 脑管1个 , 火灵矿石5个 ,燃烧的心脏10个,1克拉钻石1个^000000...";
			
			next;
			mes "[可怕的 芭芭亚拉]";
			mes "咳, 咳.";
			mes "Hu, 说话太多";
			mes "真是难受, Kaaaak~";
			close;
		}
	}
	else if (mos_nowinter == 7) {
		mes "[可怕的 芭芭亚拉]";
		mes "Ehhh... 你回来的真早.";
		next;
		mes "[可怕的 芭芭亚拉]";
		mes "我快准备好了..";
		mes "材料带齐了吗?";
		next;
		if (countitem(940) > 19 && countitem(908) > 4 && countitem(7006) > 19 && countitem(1061) > 9 && countitem(7041) > 9 && countitem(1051) > 0 && countitem(990) > 4 && countitem(7097) > 9 && (countitem(730) > 0 || countitem(731) > 0 || countitem(732) > 0)) {
			delitem 940,20;
			delitem 908,5;
			delitem 7006,20;
			delitem 1061,10;
			delitem 7041,10;
			delitem 1051,1;
			delitem 990,5;
			delitem 7097,10;
			if (countitem(730) > 0) {
				delitem 730,1;
			}else{
				if (countitem(731) > 0) {
					delitem 731,1;
				}else{
					delitem 732,1;
				}
			}
			set mos_nowinter,8;
			mes "[可怕的 芭芭亚拉]";
			mes "明白了吧,你必须收集到所有东西.";
			mes "一定的数量.. 加上一点事件......";
			mes "不,是用秘密的巫术去制作.";
			mes "才能做出足够的份量, 咳.";
			next;
			mes "[可怕的 芭芭亚拉]";
			mes "让我看看,";
			mes "我们已经收集到需要的所有东西了...";
			next;
			mes "[可怕的 芭芭亚拉]";
			mes "嗯...";
			mes "咳咳!";
			next;
			mes "[可怕的 芭芭亚拉]";
			mes "咳, 咳, 咳!";
			mes "... 我的意思是...";
			next;
			mes "[可怕的 芭芭亚拉]";
			mes "你听说这附近有";
			mes "一条沉睡了很久的龙吗?";
			mes "我需要一些从它那才能获得东西,";
			mes "咳咳咳.";
			next;
			mes "[可怕的 芭芭亚拉]";
			mes "你可以在龙的巢穴中";
			mes "找到一个葫芦瓶.";
			mes "那是一个可以储存";
			mes "人说的话的葫芦瓶.";
			mes "我需要那个东西.";
			next;
			mes "[可怕的 芭芭亚拉]";
			mes "我不知道你有多强大,";
			mes "但我建议你避免和龙发生战斗,";
			mes "咳咳咳~";
			next;
			mes "[可怕的 芭芭亚拉]";
			mes "把那东西给我.";
			mes "我想要一些东西,";
			mes "...但是,我的命还是最重要的.没错,就是这样... 咳, 咳!";
			close;
		}else{
			mes "[可怕的 芭芭亚拉]";
			mes "我想";
			mes "我需要更多, 咳, 咳!";
			next;
			mes "[可怕的 芭芭亚拉]";
			mes "我没有材料";
			mes "就什么都不能做.";
			mes "我想我可以重复告诉你一次材料,";
			mes "咳咳咳!";
			next;
			mes "[可怕的 芭芭亚拉]";
			mes "^ff0000 20个蝗虫后退,";
			mes "5个菌丝,";
			mes "20个红色蝙蝠翅膀,";
			mes "10个魔女的星沙,";
			mes "10个粘稠液体^000000...";
			next;
			mes "[可怕的 芭芭亚拉]";
			mes "^ff0000 10个黄晶沙的一角,";
			mes "1个脑管,";
			mes "5个火灵矿石,";
			mes "10个燃烧的心脏^000000 和,";
			mes "一个 1, 2, 3 克拉";
			mes "^ff0000钻石^000000.";
			next;
			mes "[可怕的 芭芭亚拉]";
			mes "咳, 咳.";
			mes "我说了这么多话";
			mes "都要咳死了,咳咳咳~";
			close;
		}
	}
	else if (mos_nowinter == 8) {
		mes "[可怕的 芭芭亚拉]";
		mes "如果没有强大的实力";
		mes "想从龙穴安全返回";
		mes "是不可能的.";
		next;
		mes "[可怕的 芭芭亚拉]";
		mes "如果你不想死,";
		mes "就忘了葫芦瓶吧";
		mes "  咳!";
		close;
	}
	else if (mos_nowinter == 9) {
		if (countitem(7761) > 0) {
			mes "[可怕的 芭芭亚拉]";
			mes "Akkkk?";
			mes "你居然真的在龙穴";
			mes "找到了葫芦瓶...?";
			next;
			mes "[可怕的 芭芭亚拉]";
			mes "你真是厉害.";
			mes "也不知道你是把龙杀了";
			mes "还是只是偷来的";
			mes "不过我可不关心.";
			next;
			mes "[可怕的 芭芭亚拉]";
			mes "你能从龙穴返回";
			mes "真的是太好了.";
			next;
			mes "[可怕的 芭芭亚拉]";
			mes "之前我告诉你";
			mes "葫芦瓶可以收集人的对话";
			next;
			mes "[可怕的 芭芭亚拉]";
			mes "下一步要做的就是";
			mes "用这个瓶子去收集真话";
		 
			next;
			mes "[可怕的 芭芭亚拉]";
			mes "关键的地方在于";
			mes "你不能强迫别人说什么.";
			mes "比如, 你不能告诉他, 叫他说";
			mes "我不喜欢冬天.'";
			next;
			mes "[可怕的 芭芭亚拉]";
			mes "你得让他们自然的说出来";
			mes "还有一点很重要";
			next;
			mes "[可怕的 芭芭亚拉]";
			mes "你得收集";
			mes "1个小孩, 1个青年, 1个中年人.";
			mes "的声音";
			next;
			mes "[可怕的 芭芭亚拉]";
			mes "这个不是仅仅是巫术";
			mes "他靠人们的愿望来影响天气";
			next;
			mes "[可怕的 芭芭亚拉]";
			mes "去吧, 咳, 咳.";
			set mos_nowinter,10;
			close;
		}else{
			mes "[可怕的 芭芭亚拉]";
			mes "如果没有强大的实力";
			mes "想从龙穴安全返回";
			mes "是不可能的.";
			next;
			mes "[可怕的 芭芭亚拉]";
			mes "如果你不想死,";
			mes "就忘了葫芦瓶吧";
			mes "  咳!";
			close;
		}
	}
	else if (mos_nowinter == 10) {
		mes "[可怕的 芭芭亚拉]";
		mes "要完成巫术,";
		mes "我要你收集3种人的声音";
		mes "小孩 青年 中年人.'";
		next;
		mes "[可怕的 芭芭亚拉]";
		mes "记住你不能强迫他们说出来";
		next;
		 
		mes "[可怕的 芭芭亚拉]";
		mes "好了去吧.";
		mes "咳, 咳, 咳!";
		close;
	}
	else if (mos_nowinter > 10 && mos_nowinter < 14) {
		mes "[可怕的 芭芭亚拉]";
		mes "我的住处因为你暴露了, 咳, 咳.";
		next;
		mes "[可怕的 芭芭亚拉]";
		mes "你到底做了什么?";
		mes "国王的士兵在外面巡逻";
		mes "我都不能出去了";
		close;
	}
	else if (mos_nowinter == 14) {
		mes "[可怕的 芭芭亚拉]";
		mes "我交给你的事情办好了吗";
		next;
		if (countitem(7761) > 0) {
			delitem 7761,1;
			mes "[可怕的 芭芭亚拉]";
			mes "瓶子给我吧";
			next;
		}else{
			mes "[可怕的 芭芭亚拉]";
			mes "葫芦瓶呢?";
			mes "没有它我可什么都做不成.";
			mes "咳, 咳!";
			close;
		}
		mes "[可怕的 芭芭亚拉]";
		mes "这瓶子马上就会用到了";
		mes "现在就差最后一步了,";
		mes "把书给我";
		next;
		mes "[可怕的 芭芭亚拉]";
		mes "我的能力变弱了";
		mes "这个法术只能一个人来完成";
		mes "所以你自己来吧.";
		mes "kaaaaak!";
		next;
		mes "[可怕的 芭芭亚拉]";
		mes "我知道很难,";
		mes "但是这个巫术是反映人们的愿望";
		mes "如果你不努力是没用的";
		next;
		mes "[可怕的 芭芭亚拉]";
		mes "看到那本书了吗??";
		mes "上面的字有点模糊 ";
		mes "不过没事的,";
		mes "我在下面给你加批注了";
		next;
		mes "[可怕的 芭芭亚拉]";
		mes "读仔细点";
		mes "照书上说的做就好.";
		mes "咳!";
		set mos_nowinter,15;
		close;
	}
	else if (mos_nowinter == 15 || mos_nowinter == 16) {
		mes "[可怕的 芭芭亚拉]";
		mes "魔法不是凭空来的";
		next;
		mes "[可怕的 芭芭亚拉]";
		mes "是你的努力造就的";
		mes "有个说法.";
		mes "如果你真的想要,";
		mes "它就会发生!";
		next;
		mes "[可怕的 芭芭亚拉]";
		mes "书上写着";
		mes "把这些材料放到锅里煮一会";
		close;
	}
	else if (mos_nowinter == 17) {
		mes "[可怕的 芭芭亚拉]";
		mes "Ehmmm...";
		mes "你没觉得";
		mes "有什么不对吗?";
		next;
		mes "[可怕的 芭芭亚拉]";
		mes "再试一次.";
		mes "我们的材料还多.";
		set mos_nowinter,16;
		close;
	}
	else if (mos_nowinter == 18) {
		mes "[可怕的 芭芭亚拉]";
		mes "我想想, hmm!";
		next;
		mes "[可怕的 芭芭亚拉]";
		mes "Hmm, 你应该是第一次做吧";
		mes "不过还不错.";
		mes "你真有天赋.";
		next;
		mes "[可怕的 芭芭亚拉]";
		mes "最后一步了.";
		mes "我把秘药放到瓶子里,";
		mes "你去村子中央把他打破";
		next;
		mes "[可怕的 芭芭亚拉]";
		mes "然后村民的愿望就会实现";
		set mos_nowinter,19;
		getitem 7765,1;
		close;
	}
	else if (mos_nowinter == 19) {
		mes "[可怕的 芭芭亚拉]";
		mes "你去村子的中央";
		mes "把这个瓶子打破";
		next;
		mes "[可怕的 芭芭亚拉]";
		mes "然后,";
		mes "就没有我的什么事了";
		mes "你告诉村民";
		mes "国王就会奖赏你的.";
		next;
		mes "[可怕的 芭芭亚拉]";
		mes "但是再也别来找我了, 咳, 咳.";
		close;
	}
	else {
		mes "[可怕的 芭芭亚拉]";
		mes "Hey,";
		mes "我和你说了";
		mes "再别来找我了啊 咳.";
		next;
		mes "[可怕的 芭芭亚拉]";
		mes "别来烦我了.";
		close;
	}
}

//----------------------------------------------------------------------------
// Book
//----------------------------------------------------------------------------
mosk_in,217,45,0	script	#book_russia	HIDDEN_NPC,{
	if (mos_nowinter == 15) {
		mes "-锅的旁边有本书,";
		mes "这有本非常大的书.";
		mes "字迹有点模糊";
		mes "我看不懂.";
		mes "我靠着亚拉的批注";
		mes "阅读他们.-";
		next;
		mes "-开始阅读.-";
		next;
		mes "里面写着如何制作秘药";
		set mos_nowinter,16;
		next;
		mes "1. “放入材料”“蝙蝠翅膀溶液”“放入材料”“菌丝溶液”“放入材料”“蝗虫后腿”";
		mes "2. “倒入水”";
		mes "3. “给它搅拌”20次";
		mes "4. “放入材料”“魔女之星沙”“放入材料”“黄晶沙的一角”";
		mes "5. “给它搅拌”15次";
		mes "6. “放入材料”“火灵矿石”“放入材料”“脑管”“放入材料”“燃烧的心脏”“放入材料”“钻石碎片”的顺序放入.";
		close;
	}
	else if (mos_nowinter == 16) {
		mes "1. “放入材料”“蝙蝠翅膀溶液”“放入材料”“菌丝溶液”“放入材料”“蝗虫后腿”";
		mes "2. “倒入水”";
		mes "3. “给它搅拌”20次";
		mes "4. “放入材料”“魔女之星沙”“放入材料”“黄晶沙的一角”";
		mes "5. “给它搅拌”15次";
		mes "6. “放入材料”“火灵矿石”“放入材料”“脑管”“放入材料”“燃烧的心脏”“放入材料”“钻石碎片”的顺序放入.";
		close;
	}
	else if (mos_nowinter > 14) {
		mes "-这就是那本帮我制作秘药的书";
		mes "但我再也不想读它了,";
		 
		close;
	}
	else {
		mes "-一本非常大的书, 打开着.-";
		close;
	}
}

//----------------------------------------------------------------------------
// Mixing Pot
//----------------------------------------------------------------------------
mosk_in,221,43,0	script	#bowl	HIDDEN_NPC,{
	if (mos_nowinter == 16) {
		mes "-一个很脏的罐子.";
		mes "正在煮着什么";
		mes "亚拉可能用它在做什么";
		mes "那就开始吧.-";
		next;
		while(1) {
			mes "-锅里任然煮着什么.";
			mes "我该做什么呢?-";
			next;
			switch(select("放入材料:倒入水:搅拌:结束了!")) {
			case 1:
				switch(select("蝙蝠翅膀粉末:菌丝溶液:蝗虫后腿:魔女之星沙:黄晶沙一角")) {
				case 1:
					if (.@bat > 0) {
						mes "-我放入了蝙蝠翅膀粉末.";
						mes "味道慢慢发生变化了.-";
						specialeffect EF_POISONHIT;
						set .@nankai,.@nankai+1;
					}else{
						mes "-我放入了蝙蝠翅膀粉末.";
						mes "颜色也变化了.-";
						specialeffect EF_SMOKE;
						set .@bat,.@bat+1;
						set .@maho,.@maho+1;
						set .@nankai,.@nankai+1;
					}
					next;
					break;
				case 2:
					if (.@mush > 0) {
						mes "-我放入了菌丝溶液.";
						mes "味道慢慢发生变化了.-";
						specialeffect EF_POISONHIT;
						set .@nankai,.@nankai+1;
					}else{
						mes "-我放入了菌丝溶液.";
						mes "颜色也变化了.-";
						specialeffect EF_SMOKE;
						set .@mush,.@mush+1;
						set .@maho,.@maho+1;
						set .@nankai,.@nankai+1;
					}
					next;
					break;
				case 3:
					if (.@locker > 0) {
						mes "-我放入了蝗虫后腿.";
						mes "味道慢慢发生变化了.-";
						specialeffect EF_POISONHIT;
						set .@nankai,.@nankai+1;
					}else{
						mes "-我放入了蝗虫后腿.";
						mes "颜色也变化了.-";
						specialeffect EF_SMOKE;
						set .@locker,.@locker+1;
						set .@maho,.@maho+1;
						set .@nankai,.@nankai+1;
					}
					next;
					break;
				case 4:
					specialeffect EF_POISONHIT;
					set .@nankai,.@nankai+1;
					mes "-我放入了魔女之星沙.";
					mes "味道慢慢发生变化了.-";
					next;
					break;
				case 5:
					specialeffect EF_POISONHIT;
					set .@nankai,.@nankai+1;
					mes "-我放入了黄晶沙一角.";
					mes "味道慢慢发生变化了.-";
					next;
					break;
				}
				break;
			case 2:
				specialeffect EF_POISONHIT;
				set .@nankai,.@nankai+1;
				mes "-我加入了水.";
				mes "溶液变稀了.";
				mes "其他没有什么";
				mes "太大的变化.-";
				next;
				break;
			case 3:
				specialeffect EF_POISONHIT;
				set .@nankai,.@nankai+1;
				mes "我们来搅拌吧.";
				mes "不过似乎没什么变化.";					
				next;
				break;
			case 4:
				specialeffect EF_POISONATTACK;
				mes "["+strcharinfo(0)+"]";
				mes "我告诉亚拉已经完成了";
				set mos_nowinter,17;
				close;
			}
		if (.@nankai == 3) {
			}
		}
		specialeffect EF_BUBBLE;
		mes "-溶液发生变化";
		mes "开始冒气泡.";
		mes "似乎渐渐开始收缩,";
		next;
		mes "-不管怎样, 第一步完成了";
		mes "让我们继续.-";
		next;
		while(1) {
			mes "-Well, 我该做什么呢?-";
			next;
			switch(select("放入材料:倒入水:搅拌:结束了!")) {
			case 1:
				switch(select("蝙蝠翅膀粉末:菌丝溶液:蝗虫后腿:魔女之星沙:黄晶沙一角")) {
				case 1:
					specialeffect EF_POISONHIT;
					set .@nankai,.@nankai+1;
					mes "-我放入蝙蝠翅膀粉末.";
					mes "味道发生了变化.-";
					next;
					break;
				case 2:
					specialeffect EF_POISONHIT;
					set .@nankai,.@nankai+1;
					mes "-我放入了菌丝溶液.";
					mes "味道发生了变化.-";
					next;
					break;
				case 3:
					specialeffect EF_POISONHIT;
					set .@nankai,.@nankai+1;
					mes "-我放入了蝗虫后腿.";
					mes "味道发生强烈的变化.-";
					next;
					break;
				case 4:
					if (.@nankai == 5 || .@nankai == 6) {
						if (.@star > 0) {
							specialeffect EF_POISONHIT;
							mes "-我放入了魔女之星沙.";
							mes "颜色慢慢改变.-";
							next;
						}else{
							mes "-我放入了魔女之星沙.";
							mes "味道慢慢发生变化了.-";
							specialeffect EF_SMOKE;
							set .@maho,.@maho+1;
							set .@star,.@star+1;
							next;
						}
					}else{
						specialeffect EF_POISONHIT;
						mes "-我放入了魔女之星沙.";
						mes "颜色慢慢改变.-";
						set .@star,.@star+1;
						next;
					}
					set .@nankai,.@nankai+1;
					break;
				case 5:
					if (.@nankai == 5 || .@nankai == 6) {
						if (.@sand > 0) {
							specialeffect EF_POISONHIT;
							mes "-我放入了黄晶沙一角.";
							mes "颜色慢慢改变.-";
							next;
						}else{
							mes "-我放入了黄晶沙一角.";
							mes "味道慢慢发生变化了.-";
							specialeffect EF_SMOKE;
							set .@sand,.@sand+1;
							set .@maho,.@maho+1;
							next;
						}
					}else{
						specialeffect EF_POISONHIT;
						mes "-我放入了黄晶沙一角.";
						mes "颜色慢慢改变.-";
						set .@sand,@sand+1;
						next;
					}
					set .@nankai,.@nankai+1;
				}
				break;
			case 2:
				if (.@nankai == 3) {
					mes "-我加入了水.";
					mes "煮的声音发生了变化";
					mes "似乎里面有什么东西似的";
					specialeffect EF_DRAGONSMOKE;
					set .@maho,.@maho+1;
					set .@nankai,.@nankai+1;
					next;
				}else{
					specialeffect EF_POISONHIT;
					mes "-我加入了水, 溶液变稀了.-";
					set .@nankai,.@nankai+1;
					next;
				}
				break;
			case 3:
				if (.@nankai == 4) {
					mes "["+strcharinfo(0)+"]";
					mes "我们来搅拌吧.";
					mes "但应该搅拌多少次呢..?";
					next;
					input .@input;
					if (.@input == 20) {
						mes "-一定是20次.-";
						next;
						specialeffect EF_WIND;
						mes "-开始搅拌";
						mes "溶液开始发光";
						mes "并开始散发香味";
						set .@maho,.@maho+1;
						set .@nankai,.@nankai+1;
						next;
					}
					else if (.@input == 0) {
						mes "-我不搅拌.-";
						next;
					}
					else if (.@input > 100) {
						mes "-不可能";
						mes "要搅拌这么多次吧.";
						mes "让我再想想.-";
						next;
					}
					else {
						mes "-对, 一定是 " + .@input + " 次.-";
						next;
						mes "-用力的搅拌.";
						mes "它开始沸腾.-";
						set .@nankai,.@nankai+1;
						next;
					}
				}else{
					mes "-Bubble, bubble-";
					next;
					mes "["+strcharinfo(0)+"]";
					mes "有变化了?";
					set .@nankai,.@nankai+1;
					next;
				}
				break;
			case 4:
				mes "["+strcharinfo(0)+"]";
				mes "我去告诉亚拉已经完成了";
				set mos_nowinter,17;
				specialeffect EF_POISONATTACK;
				close;
			}
		if (.@nankai == 7) {
			}
		}
		mes "-书上应该写的再等一会";
		next;
		mes "............";
		next;
		mes "............";
		next;
		mes "-味道差不多了";
		mes "进行下一步.";
		next;
		while(1) {
			mes "-Well, 我该做什么呢?-";
			next;
			switch(select("放入材料:倒入水:搅拌:结束了!")) {
			case 1:
				if (.@nankai != 11) {
					switch(select("魔女之星沙:黄晶沙一角:脑管:火灵矿石:燃烧的心脏")) {
					case 1:
						specialeffect EF_POISONHIT;
						set .@nankai,.@nankai+1;
						mes "-我放入了魔女之星沙.";
						mes "味道慢慢发生变化了.-";
						next;
						break;
					case 2:
						specialeffect EF_POISONHIT;
						set .@nankai,.@nankai+1;
						mes "我放入了黄晶沙一角.";
						mes "味道慢慢发生变化了.-";
						next;
						break;
					case 3:
						if (.@nankai == 9) {
							mes "-我放入脑管.";
							mes "味道慢慢发生变化了.-";
							specialeffect EF_SMOKE;
							set .@maho,.@maho+1;
							set .@nankai,.@nankai+1;
							next;
						}else{
							specialeffect EF_POISONHIT;
							mes "-我放入脑管.";
							mes "味道变更糟了.-";
							set .@nankai,.@nankai+1;
							next;
						}
						break;
					case 4:
						if (.@nankai == 8) {
							mes "-我放入火灵矿石.-";
							mes "味道慢慢发生变化了.-";
							specialeffect EF_SMOKE;
							set .@maho,.@maho+1;
							set .@nankai,.@nankai+1;
							next;
						}else{
							specialeffect EF_POISONHIT;
							mes "-我放入火灵矿石.";
							mes "味道变更糟了.-";
							set .@nankai,.@nankai+1;
							next;
						}
						break;
					case 5:
						if (.@nankai == 10) {
							mes "-我放入燃烧的心脏.";
							mes "味道慢慢发生变化了.-";
							specialeffect EF_SMOKE;
							set .@maho,.@maho+1;
							set .@nankai,.@nankai+1;
							next;
						}else{
							specialeffect EF_POISONHIT;
							mes "-我放入燃烧的心脏.";
							mes "味道变更糟了.-";
							set .@nankai,.@nankai+1;
							next;
						}
					}
				}else{
					switch(select("魔女之星沙:黄晶沙一角:脑管:火灵矿石:燃烧的心脏:钻石碎片")) {
					case 1:
						set .@nankai,.@nankai+1;
						specialeffect EF_POISONHIT;
						mes "-我放入了魔女之星沙.";
						mes "味道变更糟了.-";
						next;
						break;
					case 2:
						set .@nankai,.@nankai+1;
						specialeffect EF_POISONHIT;
						mes "我放入了黄晶沙一角.";
						mes "味道变更糟了.-";
						next;
						break;
					case 3:
						mes "-我放入脑管.";
						mes "味道变更糟了.-";
						specialeffect EF_POISONHIT;
						set .@nankai,.@nankai+1;
						next;
						break;
					case 4:
						mes "-I put the Red Blood in the pot.";
						mes "味道变更糟了.-";
						specialeffect EF_POISONHIT;
						set .@nankai,.@nankai+1;
						next;
						break;
					case 5:
						mes "-我放入燃烧的心脏.";
						mes "味道好多了.-";
						specialeffect EF_POISONHIT;
						set .@nankai,.@nankai+1;
						next;
						break;
					case 6:
						mes "-我放入钻石碎片.";
						mes "颜色改变了.-";
						specialeffect EF_SMOKE;
						set .@maho,.@maho+1;
						set .@nankai,.@nankai+1;
						next;
						break;
					}
				}
				break;
			case 2:
				set .@nankai,.@nankai+1;
				mes "-我加入了水.";
				mes "味道好多了.-";
				next;
				break;
			case 3:
				if (.@nankai == 7) {
					mes "["+strcharinfo(0)+"]";
					mes "我来搅拌.";
					mes "应该搅拌多少次呢...?";
					next;
					input .@input;
					if (.@input == 15) {
						mes "-一定是15次.-";
						next;
						specialeffect EF_WIND;
						mes "-搅拌";
						 
						set .@maho,.@maho+1;
						set .@nankai,.@nankai+1;
						next;
					}
					else if (.@input == 0) {
						mes "-不搅拌了.-";
						next;
					}
					else if (.@input > 100) {
						mes "-应该不会";
						mes "搅拌这么多次.";
						mes "我再想想.-";
						next;
					}
					else {
						mes "-一定是 " + .@input + " 次.-";
						next;
						mes "-用力的搅拌.";
						mes "开始沸腾.-";
						set .@nankai,.@nankai+1;
						next;
					}
				}else{
					mes "-Bubble, bubble-";
					next;
					mes "["+strcharinfo(0)+"]";
					mes "有变化了吗?";
					set .@nankai,.@nankai+1;
					next;
				}
				break;
			case 4:
				if (.@maho == 12) {
					mes "-似乎结束了.";
					mes "我得告诉亚拉.-";
					set mos_nowinter,18;
					specialeffect EF_GASPUSH;
					close;
				}else{
					mes "-似乎结束了.";
					mes "我得告诉亚拉.-";
					specialeffect EF_POISONATTACK;
					set mos_nowinter,17;
					close;
				}
			}
		}
	}
}

//----------------------------------------------------------------------------
// Center of Town
//----------------------------------------------------------------------------
moscovia,224,190,0	script	#nowinterplz	CLEAR_NPC,{
	if (mos_nowinter == 19) {
		if (countitem(7765) > 0) {
			mes "["+strcharinfo(0)+"]";
			mes "这应该就是村子中心了";
			next;
			mes "["+strcharinfo(0)+"]";
			mes "好, 开始吧!";
			next;
			mes "-我扔掉了装有秘药的瓶子";
			delitem 7765,1;
			specialeffect EF_BARRIER;
			set mos_nowinter,20;
			next;
			mes "-你没觉得这么热过-";
			next;
			mes "["+strcharinfo(0)+"]";
			mes "我肯定季节已经有变化了";
			mes "但是怎么确认呢?";
			next;
			mes "["+strcharinfo(0)+"]";
			mes "我去见国王.";
			mes "他应该想知道这些.";
			close;
		}else{
			mes "["+strcharinfo(0)+"]";
			mes "亚拉给我的魔法瓶哪去了?";
			close;
		}
	}else{
		end;
	}
}

//----------------------------------------------------------------------------
// Villagers
//----------------------------------------------------------------------------
moscovia,252,203,5	script	小孩#mos1	4_F_RUSCHILD,{
	if (mos_nowinter == 10) {
		if (mos_kid == 1) {
			mes "[小孩]";
			mes "芭芭 亚拉, 恐怖的食人魔";
			mes "就住在村子外.";
			next;
			mes "[小孩]";
			mes "妈妈告诉我是真的.";
			 
			close;
		}else{
			set .@kid,rand(1,100);
			select("小姑娘, 你喜欢温暖的天气吗?");
			if (.@kid > 70) {
				mes "[小孩]";
				mes "是的~";
				mes "我很喜欢, 我不喜欢冬天.";
				specialeffect2 EF_SUMMONSLAVE;
				set mos_kid,1;
				if (mos_middle == 1 && mos_elder == 1) {
					set mos_nowinter,11;
				}
				close;
			}else{
				mes "[小孩]";
				mes "是的~";
				mes "但是日落我就得回家了.";
				next;
				mes "[小孩]";
				mes "芭芭 亚拉晚上会出来吃小孩的";
				close;
			}
		}
	}else{
		mes "[小孩]";
		mes "芭芭 亚拉, 恐惧的食人魔";
			mes "就住在村子外.";
			next;
			mes "[小孩]";
			mes "妈妈告诉我是真的.";
		close;
	}
}

moscovia,233,204,3	script	青年男子#mos2	4_M_RUSMAN2,{
	if (mos_nowinter == 10) {
		if (mos_middle == 1) {
			mes "[费尔多]";
			mes "冬天终于结束了.";
			mes "春天来了";
			close;
		}else{
			select("你不喜欢冬天, 是吗?");
			set .@kid,rand(1,100);
			if (.@kid > 70) {
				mes "[费尔多]";
				mes "我不喜欢冬天.";
				mes "而且看到情侣就来气";
				 
				specialeffect2 EF_SUMMONSLAVE;
				set mos_middle,1;
				if (mos_kid == 1 && mos_elder == 1) {
					set mos_nowinter,11;
				}
				close;
			}else{
				mes "[费尔多]";
				mes "我希望也能有个妞...";
				mes "我喜欢暖暖的阳光...";
				next;
				mes "[费尔多]";
				mes "谁啊你?";
				mes "一边去!";
				close;
			}
		}
	}else{
		mes "[费尔多]";
		mes "冬天终于结束了.";
			mes "春天来了";
		close;
	}
}

moscovia,219,229,5	script	中年男子#mos3	4_M_RUSBALD,{
	if (mos_nowinter == 10) {
		if (mos_elder == 1) {
			mes "[维克多]";
			mes "我们的人民非常的崇拜力量!";
			next;
			mes "[维克多]";
			mes "对于我们来说, 再冷也算不了什么!";
			close;
		}else{
			set .@kid,rand(1,100);
			select("谁会喜欢冬天呢?");
			if (.@kid > 70) {
				mes "[维克多]";
				mes "和我说说!";
				mes "冬天一来每个人都不高兴";
				 
				mes "我希望冬天永远别来.";
				specialeffect2 EF_SUMMONSLAVE;
				set mos_elder,1;
				if (mos_kid == 1 && mos_middle == 1) {
					set mos_nowinter,11;
				}
				close;
			}else{
				mes "[维克多]";
				mes "你觉得呢...";
				mes "我对冬天和夏天太熟悉了";
				close;
			}
		}
	}else{
		mes "[维克多]";
		mes "我们的人民非常的崇拜力量!";
		next;
		mes "[维克多]";
		mes "对于我们来说, 再冷也算不了什么!";
		close;
	}
}

moscovia,255,203,3	script	小孩#mos4	4_M_RUSCHILD,{
	if (mos_nowinter == 10) {
		if (mos_kid == 1) {
			mes "[瓦西里]";
			mes "哇, 他是一个";
			mes "探险者!!";
			next;
			mes "[瓦西里]";
			mes "给我讲点故事吧.";
			mes "你有和龙战斗过吗?";
			mes "你的武器和盾牌呢?";
			close;
		}else{
			mes "[瓦西里]";
			mes "哇, 他是一个";
			mes "探险者!!";
			next;
			mes "[瓦西里]";
			mes "你从哪来的?";
			mes "有同伴吗?";
			mes "我听说英雄都很高大,";
			mes "但是你为什么这么矮?";
			mes "你的武器呢?";
			mes "我听说盔甲会发光的,";
			mes "你什么没有呢?";
			mes "你又要去探险了吗?";
			mes "这么冷的天你怎么去呢?";
			next;
			set .@kid,rand(1,100);
			select("天气再暖点我就去了.");
			if (.@kid > 70) {
				mes "[瓦西里]";
				mes "是吗, 我以后也想去探险";
				next;
				specialeffect2 EF_SUMMONSLAVE;
				mes "[瓦西里]";
				mes "如果冬天走了,";
				mes "探险就容易多了.";
				set mos_kid,1;
				if (mos_middle == 1 && mos_elder == 1) {
					set mos_nowinter,11;
				}
				close;
			}else{
				mes "[瓦西里]";
				mes "你这次要去哪?";
				next;
				mes "[瓦西里]";
				mes "你会去斗恶龙吗,";
				close;
			}
		}
	}else{
		mes "[瓦西里]";
		mes "Wow, 他是一个";
			mes "探险者!!";
		next;
		mes "[瓦西里]";
		mes "给我讲讲你的故事.";
		mes "你是怎么打过恶龙的?";
		mes "你的武器和盾牌呢?";
		close;
	}
}

moscovia,204,188,5	script	女人#mos5	4_F_RUSWOMAN1,{
	if (mos_nowinter == 10) {
		if (mos_middle == 1) {
			mes "[卡佳]";
			mes "春天来了~";
			next;
			mes "[卡佳]";
			mes "百花齐开~";
			close;
		}else{
			set .@kid,rand(1,100);
			select("你看起来不错.");
			if (.@kid > 70) {
				mes "[卡佳]";
				mes "是的.";
				mes "天气热了就要开花了.";
				mes "花是这个村子的象征";
				next;
				specialeffect2 EF_SUMMONSLAVE;
				mes "[卡佳]";
				mes "希望冬天再也不回来";
				mes "我就可以天天赏花了.";
				set mos_middle,1;
				if (mos_kid == 1 && mos_elder == 1) {
					set mos_nowinter,11;
				}
				close;
			}else{
				mes "[卡佳]";
				mes "是的.";
				mes "天气热了就要开花了.";
				mes "花是这个村子的象征";
				close;
			}
		}
	}else{
		mes "[卡佳]";
		mes "春天来了~";
		next;
		mes "[卡佳]";
		mes "百花齐开~";
		close;
	}
}

moscovia,167,97,3	script	女人#mos6	4_F_RUSWOMAN3,{
	if (mos_nowinter == 10) {
		if (mos_elder == 1) {
			mes "[罗萨]";
			mes "天热了顽皮的孩子就很兴奋";
			next;
			mes "[罗萨]";
			mes "太阳躲哪去了?";
			close;
		}else{
			set .@kid,rand(1,100);
			select("天气渐渐热了.");
			if (.@kid > 70) {
				mes "[罗萨]";
				mes "是的, 孩子喜欢, 花也喜欢.";
				next;
				specialeffect2 EF_SUMMONSLAVE;
				mes "[罗萨]";
				mes "谁都讨厌冬天.";
				set mos_elder,1;
				if (mos_kid == 1 && mos_middle == 1) {
					set mos_nowinter,11;
				}
				close;
			}else{
				mes "[罗萨]";
				mes "天热了孩子就难管了,";
				next;
				mes "[罗萨]";
				mes "我觉得";
				mes "还是冬天好点.";
				close;
			}
		}
	}else{
		mes "[罗萨]";
		mes "天热了顽皮的孩子就很兴奋";
		next;
		mes "[罗萨]";
		mes "太阳躲哪去了?";
		close;
	}
}

moscovia,202,102,3	script	小男孩#mos7	4_M_RUSCHILD,{
	if (mos_nowinter == 10) {
		if (mos_kid == 1) {
			mes "[菲利克斯]";
			mes "这是一个关于恐怖巨龙的故事";
			next;
			mes "[菲利克斯]";
			mes "他现在正在沉睡";
			mes "一旦它醒来,";
			mes "会摧毁周围的一切东西";
			next;
			mes "[菲利克斯]";
			mes "我奶奶的奶奶的奶奶的奶奶的奶奶....";
			mes "告诉我的";
			close;
		}else{
			set .@kid,rand(1,100);
			select("你喜欢听故事吗?");
			if (.@kid > 70) {
				mes "[菲利克斯]";
				mes "是的.";
				mes "但是冬天没什么人出来,";
				mes "所以没意思.";
				next;
				specialeffect2 EF_SUMMONSLAVE;
				mes "[菲利克斯]";
				mes "如果没有冬天, 会很开心的";
				set mos_kid,1;
				if (mos_middle == 1 && mos_elder == 1) {
					set mos_nowinter,11;
				}
				close;
			}else{
				mes "[菲利克斯]";
				mes "虽然冬天很烦.";
				mes "但是奶奶会给我讲妖精的尾巴的故事.";
				close;
			}
		}
	}else{
		mes "[菲利克斯]";
		mes "这是一个关于恐怖巨龙的故事";
		next;
		mes "[菲利克斯]";
		mes "他现在正在沉睡";
		mes "一旦它醒来,";
		mes "会摧毁周围的一切东西";
		next;
		mes "[菲利克斯]";
		mes "我奶奶的奶奶的奶奶的奶奶的奶奶....";
		mes "告诉我的";
		close;
	}
}

moscovia,220,172,3	script	年轻人#mos8	4_M_RUSMAN2,{
	if (mos_nowinter == 10) {
		if (mos_middle == 1) {
			mes "[勒亚维]";
			mes "我也要去探险未知世界";
			close;
		}else{
			set .@kid,rand(1,100);
			mes "[勒亚维]";
			mes "我也要去探险未知世界";
			next;
			select("什么时候?");
			if (.@kid > 70) {
				mes "[勒亚维]";
				mes "当天气热了";
				mes "我就有探险的冲动";
				next;
				specialeffect2 EF_SUMMONSLAVE;
				mes "[勒亚维]";
				mes "但是冬天一点都不想.";
				mes "如果天气像以前一样,";
				mes "我是很乐意出去的.";
				mes "讨厌冬天...";
				set mos_middle,1;
				if (mos_kid == 1 && mos_elder == 1) {
					set mos_nowinter,11;
				}
				close;
			}else{
				mes "[勒亚维]";
				mes "Well...";
				mes "不知道.";
				mes "有时吧.";
				close;
			}
		}
	}else{
		mes "[勒亚维]";
		mes "我也要去探险未知世界";
		close;
	}
}

moscovia,253,175,3	script	男人#mos9	4_M_RUSBALD,{
	if (mos_nowinter == 10) {
		if (mos_elder == 1) {
			mes "[奥列科]";
			mes "国王有点严格";
			mes "但是他很爱他的子民";
			close;
		}else{
			set .@kid,rand(1,100);
			select("你冬天一般干什么?");
			if (.@kid > 70) {
				mes "[奥列科]";
				mes "太冷了, 我不出门.";
				mes "雪太多了, 出门很不方便";
				next;
				specialeffect2 EF_SUMMONSLAVE;
				mes "[奥列科]";
				mes "冬天打渔也南,";
				mes "总之, 我们很难过.";
				mes "如果没冬天就好了.";
				set mos_elder,1;
				if (mos_kid == 1 && mos_middle == 1) {
					set mos_nowinter,11;
				}
				close;
			}else{
				mes "[奥列科]";
				mes "冬天老下雪";
				mes "又很冷.";
				mes "我们一般不出门";
				next;
				mes "[奥列科]";
				mes "冬天快点结束就好了.";
				close;
			}
		}
	}else{
		mes "[奥列科]";
		mes "国王有点严格";
		mes "但是他很爱他的子民";
		close;
	}
}

moscovia,168,135,3	script	女人#mos10	4_F_RUSWOMAN3,{
	if (mos_nowinter == 10) {
		if (mos_elder == 1) {
			mes "[凯拉]";
			mes "我最近看到很多外地人";
			next;
			mes "[凯拉]";
			mes "这又不是旅游景点";
			mes "到底怎么回事.";
			close;
		}else{
			mes "[凯拉]";
			mes "我最近看到很多外地人";
			next;
			mes "[凯拉]";
			mes "这又不是旅游景点";
			mes "到底怎么回事.";
			next;
			select("这里很暖和.");
			set .@kid,rand(1,100);
			if (.@kid > 70) {
				mes "[凯拉]";
				mes "现在是的.";
				mes "但你不知道冬天有多冷.";
				mes "你甚至都不想出门.";
				next;
				specialeffect2 EF_SUMMONSLAVE;
				mes "[凯拉]";
				mes "和家人在一起很好";
				mes "但是没人喜欢冬天.";
				set mos_elder,1;
				if (mos_kid == 1 && mos_middle == 1) {
					set mos_nowinter,11;
				}
				close;
			}else{
				mes "[凯拉]";
				mes "现在是的.";
				mes "但你不知道冬天有多冷.";
				mes "你甚至都不想出门.";
				close;
			}
		}
	}else{
		mes "[凯拉]";
		mes "我最近看到很多外地人";
		next;
		mes "[凯拉]";
		mes "这又不是旅游景点";
		mes "到底怎么回事.";
		close;
	}
}

moscovia,192,80,3	script	女人#mos11	4_F_RUSWOMAN1,{
	if (mos_nowinter == 10) {
		if (mos_middle == 1) {
			mes "[萨拜娜]";
			mes "向日葵很有用";
			mes "既可以炼油.";
			mes "也可以做药品.";
			close;
		}else{
			mes "[萨拜娜]";
			mes "[萨拜娜]";
			mes "向日葵很有用";
			mes "既可以炼油.";
			mes "也可以做药品.";
			next;
			select("什么时候开始生长?");
			set .@kid,rand(1,100);
			if (.@kid > 70) {
				mes "[萨拜娜]";
				mes "夏天吧";
				mes "到时候你会被.";
				mes "整片的向日葵";
				mes "震撼到的.";
				next;
				mes "[萨拜娜]";
				mes "如果一直是夏天,";
				mes "我就能一直看到它们了...";
				specialeffect2 EF_SUMMONSLAVE;
				set mos_middle,1;
				if (mos_kid == 1 && mos_elder == 1) {
					set mos_nowinter,11;
				}
				close;
			}else{
				mes "[萨拜娜]";
				mes "夏天吧";
				mes "到时候你会被.";
				mes "整片的向日葵";
				mes "震撼到的.";
				close;
			}
		}
	}else{
		mes "[萨拜娜]";
		mes "[萨拜娜]";
		mes "向日葵很有用";
		mes "既可以炼油.";
		mes "也可以做药品.";
		close;
	}
}

moscovia,211,215,5	script	年轻人#mos12	4_M_RUSMAN1,{
	if (mos_nowinter == 10) {
		if (mos_middle == 1) {
			mes "[伊兹洛夫]";
			mes "人们都说要抓住每个机会,";
			next;
			mes "[伊兹洛夫]";
			mes "对女士来说";
			mes "夏天是畅想的最好时间!";
			close;
		}else{
			set .@kid,rand(1,100);
			mes "[伊兹洛夫]";
			mes "人们都说要抓住每个机会,";
			next;
			mes "[伊兹洛夫]";
			mes "对女士来说";
			mes "夏天是畅想的最好时间!";
			next;
			select("还是热点好.");
			if (.@kid > 70) {
				mes "[伊兹洛夫]";
				mes "自然.";
				mes "现在开始, 是我的黄金时间!";
				next;
				specialeffect2 EF_SUMMONSLAVE;
				mes "[伊兹洛夫]";
				mes "如果一直是夏天,";
				mes "我的生命一定会很精彩的.";
				mes "哈哈哈!";
				mes "冬天别来啊 .";
				set mos_middle,1;
				if (mos_kid == 1 && mos_elder == 1) {
					set mos_nowinter,11;
				}
				close;
			}else{
				mes "[伊兹洛夫]";
				mes "是的.";
				mes "冬天走了.";
				mes "从今以后是我的黄金时间!";
				close;
			}
		}
	}else{
		mes "[伊兹洛夫]";
		mes "人们都说要抓住每个机会,";
		next;
		mes "[伊兹洛夫]";
		mes "对女士来说";
		mes "夏天是畅想的最好时间!";
		close;
	}
}

moscovia,149,112,3	script	男人#mos13	4_M_RUSBALD,{
	if (mos_nowinter == 10) {
		if (mos_elder == 1) {
			mes "[列夫]";
			mes "我曾经和你一样,";
			mes "有一颗火热的心,";
			mes "到处探险";
			mes "解决麻烦...";
			close;
		}else{
			mes "[列夫]";
			mes "我曾经和你一样,";
			mes "有一颗火热的心,";
			mes "到处探险";
			mes "解决麻烦...";
			next;
			set .@kid,rand(1,100);
			select("你需要休息一下.");
			if (.@kid > 70) {
				mes "[列夫]";
				mes "是的我喜欢晒太阳,";
				next;
				specialeffect2 EF_SUMMONSLAVE;
				mes "[列夫]";
				mes "要是一直这样就好了";
				mes "我讨厌冬天.";
				set mos_elder,1;
				if (mos_kid == 1 && mos_middle == 1) {
					set mos_nowinter,11;
				}
				close;
			}else{
				mes "[列夫]";
				mes "我喜欢晒太阳,";
				next;
				mes "[列夫]";
				mes "但是我还活着呢!";
				mes "我不想听到你说那样的话!";
				close;
			}
		}
	}else{
		mes "[列夫]";
		mes "我曾经和你一样,";
		mes "有一颗火热的心,";
		mes "到处探险";
		mes "解决麻烦...";
		close;
	}
}

moscovia,196,71,3	script	年轻人#mos14	4_M_RUSMAN2,{
	if (mos_nowinter == 10) {
		if (mos_middle == 1) {
			mes "[弗瑞德克]";
			mes "这里的男人都在海浪中成长起来";
			next;
			mes "[弗瑞德克]";
			mes "你喜欢航海吗";
			close;
		}else{
			mes "[弗瑞德克]";
			mes "这里的男人都在海浪中成长起来";
			next;
			select("如果冬天来了...");
			set .@kid,rand(1,100);
			if (.@kid > 70) {
				mes "[弗瑞德克]";
				mes "冬天来了";
				mes "海水就结冰了";
				mes "没法远航的.";
				next;
				specialeffect2 EF_SUMMONSLAVE;
				mes "[弗瑞德克]";
				mes "我希望冬天永远别来.";
				set mos_middle,1;
				if (mos_kid == 1 && mos_elder == 1) {
					set mos_nowinter,11;
				}
				close;
			}else{
				mes "[弗瑞德克]";
				mes "虽然现在不能出海";
				mes "可我的热情从不消减";
				close;
			}
		}
	}else{
		mes "[弗瑞德克]";
		mes "这里的男人都在海浪中成长起来";
		next;
		mes "[弗瑞德克]";
		mes "你喜欢航海吗";
		close;
	}
}

moscovia,234,168,5	script	男人#mos15	4_M_RUSBALD,{
	if (mos_nowinter == 10) {
		if (mos_elder == 1) {
			mes "[葛夫瑞]";
			mes "你觉得皇宫很壮观吗?";
			mes "那是我伟大的祖父建造的.";
			close;
		}else{
			mes "[葛夫瑞]";
			mes "你觉得皇宫很壮观吗?";
			mes "那是我伟大的祖父建造的.";
			next;
			mes "[葛夫瑞]";
			mes "它很结实";
			mes "里面很暖和.";
			mes "我为他自豪.";
			next;
			select("冬天很冷吗?");
			set .@kid,rand(1,100);
			if (.@kid > 70) {
				mes "[葛夫瑞]";
				mes "非常冷.";
				mes "如果你不准备的话,";
				mes "会很难过.";
				next;
				specialeffect2 EF_SUMMONSLAVE;
				mes "[葛夫瑞]";
				mes "如果没有冬天就好了";
				set mos_elder,1;
				if (mos_kid == 1 && mos_middle == 1) {
					set mos_nowinter,11;
				}
				close;
			}else{
				mes "[葛夫瑞]";
				mes "非常冷.";
				mes "如果你不准备的话,";
				mes "会很难过.";
				close;
			}
		}
	}else{
		mes "[葛夫瑞]";
			mes "你觉得皇宫很壮观吗?";
			mes "那是我伟大的祖父建造的.";
		close;
	}
}

moscovia,228,80,3	script	小男孩#mos16	4_M_RUSCHILD,{
	if (mos_nowinter == 10) {
		if (mos_kid == 1) {
			mes "[留里克]";
			mes "要看清你真不容易.";
			mes "你低下身来我才能看到你的眼睛.";
			next;
			mes "[留里克]";
			mes "现在好多了.";
			mes "孩子是未来的希望.";
			mes "如果我为了看你摔坏了";
			mes "脖子, 我就没有希望了";
			close;
		}else{
			set .@kid,rand(1,100);
			select("你喜欢夏天吗?");
			if (.@kid > 70) {
				mes "[留里克]";
				mes "Ah, 边上靠点.";
				mes "再一点... Yes.";
				mes "好停在这.";
				next;
				mes "[留里克]";
				mes "我当然喜欢夏天.";
				mes "除非阳光太刺眼,";
				mes "反正比冬天好多了.";
				next;
				specialeffect2 EF_SUMMONSLAVE;
				mes "[留里克]";
				mes "为什么这么问?";
				mes "你觉得冬天还会再来吗";
				set mos_kid,1;
				if (mos_middle == 1 && mos_elder == 1) {
					set mos_nowinter,11;
				}
				close;
			}else{
				mes "[留里克]";
				mes "当然喜欢夏天了.";
				mes "为什么这么问?";
				close;
			}
		}
	}else{
		mes "[留里克]";
		mes "要看清你真不容易.";
			mes "你低下身来我才能看到你的眼睛.";
			next;
			mes "[留里克]";
			mes "现在好多了.";
			mes "孩子是未来的希望.";
			mes "如果我为了看你摔坏了";
			mes "脖子, 我就没有希望了";
		close;
	}
}

//----------------------------------------------------------------------------
// Magic Bottle
//----------------------------------------------------------------------------
mosk_dun03,225,233,0	script	Pile of skeletons#mosk	HIDDEN_NPC,{
	if (mos_nowinter == 8) {
		mes "-你周围有很多骷髅头";
		mes "但是我只能待在这- ";
		next;
		mes "-靠近点, 仔细看-";
		close;
	}else{
		mes "-骷髅头聚集到了一起.-";
		close;
	}
}

mosk_dun03,225,233,0	script	#Magic_Bottle	-1,5,5,{
	end;
	
OnTouch:
	if (mos_nowinter == 8) {
		mes "-他说这个魔法瓶可以收集人的对话";
		mes "应该就在附近吧-";
		next;
		mes "["+strcharinfo(0)+"]";
		mes "这是唯一可能存在魔法瓶的地方了";
		mes "但是周围只有骨头,";
		next;
		mes "["+strcharinfo(0)+"]";
		mes "我为什么要来?";
		mes "如果巨龙回来我就惨了";
		next;
		while(1) {
			if(select("再找找.:下次再来吧.") == 1) {
				set .@findout,rand(1,20);
				if (BaseJob == Job_Thief) {
					mes "["+strcharinfo(0)+"]";
					mes "找到了.";
					mes "挺容易的吗.";
					set mos_nowinter,9;
					getitem 7761,1;
					close;
				}else{
					if (.@findout > 14) {
						mes "["+strcharinfo(0)+"]";
						mes "找到了!";
						mes "我最好快点离开.";
						set mos_nowinter,9;
						getitem 7761,1;
						close;
					}else{
						mes "............";
						next;
						mes "["+strcharinfo(0)+"]";
						mes "妈的到底在哪?!";
						mes "一定藏在哪了!";
						next;
					}
				}
			}
			mes "["+strcharinfo(0)+"]";
			mes "晚点再来吧.";
			close;
		}
	}
}

//----------------------------------------------------------------------------
// Csar Alexsay III
//----------------------------------------------------------------------------
mosk_in,131,92,3	script	#Csar	-1,7,7,{
	if (mos_nowinter == 12) {
		mes "[Csar Alexsay III]";
		mes "You!!!";
		mes "So many people saw you";
		mes "meet with Baba Yaga!";
		next;
		mes "[Csar Alexsay III]";
		mes "The guilt which must be felt, when";
		mes "meeting secretly with a witch...";
		next;
		mes "[Csar Alexsay III]";
		mes "For that, we indict capital";
		mes "punishment without any just trial!";
		next;
		mes "[Csar Alexsay III]";
		mes "But you are a stranger to these";
		mes "lands... So I will hold you in special trial.";
		next;
		mes "[Csar Alexsay III]";
		mes "If you have anything to say...";
		mes "spare me no detail.";
		next;
		select("Explain the circumstances.");
		mes "-Talk about what happened with Baba";
		mes "Yaga, and move forward with the plan.-";
		next;
		mes "[Csar Alexsay III]";
		mes "Hm-hm, that's an embarrassing story...";
		mes "But if you are telling the";
		mes "truth, my people will be pleased.";
		next;
		mes "[Csar Alexsay III]";
		mes "Okay, Bring to me";
		mes "any evidence, to believe";
		mes "what you are saying.";
		next;
		mes "[Csar Alexsay III]";
		mes "You killed the Baba Yaga!!";
		mes "If this is true, bring";
		mes "me Yaga's Pestles.";
		mes "If you do, I will make";
		mes "sure no one ever doubts you.";
		next;
		if (countitem(7762) > 39) {
			if(select("Show the Yaga's Pestles.:Do nothing.") == 1) {
				mes "[" + strcharinfo(0) + "]";
				mes "Yes, Here you are.";
				next;
				mes "-Offered the Yaga's Pestles.-";
				delitem 7762,40;
				next;
				mes "[Csar Alexsay III]";
				mes "Hm.. You do have them.";
				mes "For the time being, I will admit";
				mes "that you are coming and going to";
				mes "hunt Baba Yaga.";
				next;
				mes "[Csar Alexsay III]";
				mes "But do not engage in doubtable";
				mes "behavior that would instigate my";
				mes "people to act in a strange way!";
				next;
				mes "[Csar Alexsay III]";
				mes "If you do that, I will arrest you immediately!";
				mes "So take care of yourself.";
				next;
				mes "[Csar Alexsay III]";
				mes "And, when you succeed in";
				mes "banishing winter with magic,";
				mes "announce that to me immediately.";
				set mos_nowinter,14;
				close;
			}
			mes "[Csar Alexsay III]";
			mes "I said to bring me";
			mes "40 Yaga's Pestles";
			mes "from the Baba Yaga.";
			set mos_nowinter,13;
			close;
		}else{
			mes "[Csar Alexsay III]";
			mes "I said to bring me";
			mes "40 Yaga's Pestles";
			mes "from the Baba Yaga.";
			set mos_nowinter,13;
			close;
		}
	}
}

//============================================================================
// SHafka Hat
//============================================================================
moscovia,211,93,3	script	伊莉娜#edq	4_F_RUSCHILD,{
	if (checkweight(1201,1) == 0 ) {
		mes "等等!!";
		mes "你身上东西太多了.";
		mes "减轻点负重再来吧.";
		close;
	}
	mes "[伊莉娜]";
	mes "你好旅者!";
	mes "莫斯科玩的开心吗";
	next;
	mes "[伊莉娜]";
	mes "莫斯科特殊纪念品...?";
	next;
	mes "[伊莉娜]";
	mes "我给你做个护耳帽子吧.";
	 
	mes "你想要个吗?";
	next;
	if(select("帽子的说明.:做一个吧.") == 1) {
		mes "[伊莉娜]";
		mes "用几个动物的毛制作的帽子, 两边可以盖住耳朵防冻.说是某个冰冷地方的传统帽子....";
		mes "冰洞耐性10%";
		mes "上中位置";
		mes "全职业佩戴";
		mes "快去做吧";
		close;
	}
	mes "[伊莉娜]";
	mes "你要做吗?";
	mes "Heheh. 好的!";
	next;
	mes "[伊莉娜]";
	mes "给我带来以下材料";
	mes "我立刻给你做!";
	mes " ^0000F狐狸尾巴 20个, 毛线 10个, 柔软的绸缎 10个, 海獭的皮革 20个, 缠线筒 1个^000000.";
	next;
	if (countitem(1022) > 19 && countitem(7038) > 9 && countitem(7166) > 9 && countitem(7065) > 19 && countitem(7217) > 0) {
		mes "[伊莉娜]";
		mes "好了.";
		mes "材料给我 我给你制作.";
		next;
		delitem 1022,20; //Fox_Tail
		delitem 7038,10; //Yarn
		delitem 7166,10; //Soft_Silk_Cloth
		delitem 7065,20; //Sea_Otter_Leather
		delitem 7217,1; //Spool
		getitem 5243,1; //Chullos
		mes "[伊莉娜]";
		mes "做好了 觉得怎么样?";
		mes "喜欢吗?";
		close;
	}else{
		mes "[伊莉娜]";
		mes "材料似乎不够";
		next;
		mes "给我带来以下材料";
		mes "我立刻给你做!";
		mes " ^0000F狐狸尾巴 20个, 毛线 10个, 柔软的绸缎 10个, 海獭的皮革 20个, 缠线筒 1个^000000.";
		close;
	}
}

//============================================================================
// Koshei the Immortal
//============================================================================

//----------------------------------------------------------------------------
// Sage - Starting Point
//----------------------------------------------------------------------------
mosk_fild02,198,252,3	script	贤者#rus01	4_M_SAGE_C,{
	if (!rhea_rus_main) {
		mes "[贤者]";
		mes "陌生人,";
		mes "你是远方来的吧?";
		mes "欢迎你.";
		next;
		mes "[贤者]";
		mes "我听说过你们那的很多事迹, 但还没有和那的人聊过, 因为每个人都忙的样子.";
		next;
		if(select("对不起我很忙.....:好聊聊吧.") == 1) {
			mes "[贤者]";
			mes "啊...";
			mes "我还想听听你们那的故事呢...";
			next;
			mes "[贤者]";
			mes "对不起, 旅途愉快.";
			close;
		}
		mes "[贤者]";
		mes "我听说你们那有很奇怪的生物, 可以给我介绍一下吗?";
		next;
		select("给他看看波利卡片");
		mes "["+ strcharinfo(0) +"]";
		mes "这是我们那里一种怪物的卡片.";
		next;
		if (countitem(4001) < 1) {
			mes "[贤者]";
			mes "...?!";
			mes "你在说嘛?";
			next;
			mes "["+ strcharinfo(0) +"]";
			mes "我说 这卡片.............";
			mes "..................Ehhh?";
			next;
			mes "["+ strcharinfo(0) +"]";
			mes "哪呢?!";
			mes "等等, 我去找一张来!";
			close;
		}
		mes "[贤者]";
		mes "哇真不敢相信是真的.";
		mes "谢谢你给我看这些.";
		next;
		mes "[贤者]";
		mes "你喜欢这吗?";
		next;
		mes "[贤者]";
		mes "现在是夏天, 挺好的, 但是我希望冬天永远别来.";
		next;
		mes "[贤者]";
		mes "等到夏天, 树林就很茂盛, 空气也很温暖, 我最喜欢夏天了.";
		next;
		mes "[贤者]";
		mes "你得多加小心, 很多探险者都在前面的树林失踪了.";
		next;
		mes "["+ strcharinfo(0) +"]";
		mes "他们有人走出来过吗?";
		next;
		mes "[贤者]";
		mes "只有一个人回来过, 说三岔路口有一块石头, 谁摸了他都会被诅咒, 所以我一直不敢过去";
		next;
		mes "[贤者]";
		mes "不过不用担心我, 我对这的路很熟悉哈哈.";
		set rhea_rus_main,1;
		close;
	}else{
		mes "[贤者]";
		mes "现在是夏天, 挺好的, 但是我希望冬天永远别来.";
		next;
		mes "[贤者]";
		mes "等到夏天, 树林就很茂盛, 空气也很温暖, 我最喜欢夏天了.";
		next;
		mes "[贤者]";
		mes "你得多加小心, 很多探险者都在前面的树林失踪了.";
		next;
		mes "["+ strcharinfo(0) +"]";
		mes "他们有人走出来过吗?";
		next;
		mes "[贤者]";
		mes "只有一个人回来过, 说三岔路口有一块石头, 谁摸了他都会被诅咒, 所以我一直不敢过去";
		next;
		mes "[贤者]";
		mes "不过不用担心我, 我对这的路很熟悉哈哈.";
		close;
	}
}

//----------------------------------------------------------------------------
// Mysterious Stone
//----------------------------------------------------------------------------
mosk_dun01,169,162,0	script	神秘的石头#rus02	HIDDEN_NPC,{
	if (!rhea_rus_main) {
		mes "- 石头就在这 -";
		close;
	}
	else if (rhea_rus_main > 0 && rhea_rus_main < 3) {
		mes "- 石头上刻着字 -";
		next;
		mes "- 右边 -> 流失 -";
		mes "- 左边 -> 诅咒 -";
		mes "- 中间 -> ? -";
		next;
		mes "["+ strcharinfo(0) +"]";
		mes "... 我该朝哪走呢?";
		next;
		switch(select("右边:左边:中间")) {
		case 1:
			mes "["+ strcharinfo(0) +"]";
			mes "...右边吧...";
			next;
			mes "- 你决定走右边 -";
			next;
			mes "- !!!!!! -";
			percentheal -50,-50;
			specialeffect2 EF_DARKBREATH;
			specialeffect2 EF_HIT2;
			emotion 23,1;
			next;
			mes "- 你的血莫名其妙的减少了 -";
			close2;
			warp "mosk_dun01",190,47;
			end;
			break;
		case 2:
			if (checkriding() == 0) {
				mes "["+ strcharinfo(0) +"]";
				mes "...左边...?";
				next;
				mes "- 决定走左边 -";
				next;
				mes "- !!!!!! -";
				emotion 23,1;
				next;
				mes "- 莫名其妙的被诅咒了 -";
				sc_start SC_CURSE,60000,0;
				close2;
				warp "mosk_dun01",190,47;
				end;
			}else{
				mes "["+ strcharinfo(0) +"]";
				mes "...左边...?";
				next;
				mes "- 决定走左边 -";
				next;
				mes "- !!!!!! -";
				emotion 23,1;
				next;
				sc_start SC_CURSE,60000,0;
				setriding 0;
				close2;
				warp "mosk_dun01",190,47;
				end;
			}
			break;
		case 3:
			mes "["+ strcharinfo(0) +"]";
			mes "...中间...?";
			next;
			mes "- 你往前走 -";
			next;
			mes "- !!!!!! -";
			emotion 23,1;
			donpcevent "灰狼#rus03::OnEnable";
			set rhea_rus_main,2;
			close;
		}
	}
	else if (rhea_rus_main == 3) {
		mes "- 石头上刻着字 -";
		next;
		mes "- 右边 -> 流失 -";
		mes "- 左边 -> 诅咒 -";
		mes "- 中间 -> ? -";
		next;
		mes "- 你仔细看了看 -";
		mes "- 决定等等先 -";
		set rhea_rus_main,4;
		donpcevent "灰狼#rus03::OnEnable";
		close;
	}
	else if (rhea_rus_main == 4) {
		mes "- 石头上刻着字 -";
		next;
		mes "- 右边 -> 流失 -";
		mes "- 左边 -> 诅咒 -";
		mes "- 中间 -> ? -";
		next;
		mes "- 你仔细看了看 -";
		mes "- 决定等等先 -";
		donpcevent "灰狼#rus03::OnEnable";
		close;
	}
}

//----------------------------------------------------------------------------
// 灰狼
//----------------------------------------------------------------------------
mosk_dun01,167,160,3	script	灰狼#rus03	4_RUS_DWOLF,{
	if (rhea_rus_main < 2) {
		mes "[灰狼]";
		mes "... 你不属于这里...";
		mes "快点回去.";
		close2;
		warp "mosk_dun01",190,47;
		end;
	}
	else if (rhea_rus_main == 2) {
		mes "[灰狼]";
		mes "探险者.";
		mes "你为什么无视石头上的警告?";
		next;
		mes "["+ strcharinfo(0) +"]";
		mes "你就是别人失踪的原因吗?";
		next;
		mes "[灰狼]";
		mes "...失踪.";
		mes "它不想任何人靠近这片森林.";
		next;
		mes "["+ strcharinfo(0) +"]";
		mes "谁?!";
		next;
		mes "[灰狼]";
		mes "他叫 青冠龙 ...";
		mes "他已经挣脱囚禁了, 在他发现你之前, 你最好赶紧走.";
		next;
		mes "[灰狼]";
		mes "我再次警告你!";
		mes "不想死就快走.";
		set rhea_rus_main,3;
		emotion 23,1;
		specialeffect2 EF_HIT2;
		percentheal -50,0;
		next;
		mes "- 大灰狼攻击你了 -";
		donpcevent "灰狼#rus03::OnDisable";
		close2;
		warp "mosk_dun01",190,47;
		end;
	}
	else if (rhea_rus_main == 4) {
		mes "[灰狼]";
		mes "...你干嘛回来?";
		next;
		mes "["+ strcharinfo(0) +"]";
		mes "我才不怕呢!";
		mes "我没你想像的那么弱!";
		next;
		mes "["+ strcharinfo(0) +"]";
		mes "你的攻击太弱了, 如果失踪的人和你有什么关系, 我饶不了你的.";
		mes "来吧!!!";
		next;
		mes "- 你拿起武器对准了大灰狼 -";
		next;
		mes "[灰狼]";
		mes "等等, 你不能打我.";
		next;
		mes "["+ strcharinfo(0) +"]";
		mes "让我们看看谁更厉害?!";
		mes "做好准备, 我不会占你便宜的!!!";
		next;
		mes "[灰狼]";
		mes "......你...... 哈哈.....";
		mes "哈哈哈哈哈!!";
		next;
		mes "[灰狼]";
		mes "你很勇敢.";
		mes "... 我想你就是我一直在等的人.";
		next;
		mes "[灰狼]";
		mes "请接受我的歉意.";
		next;
		mes "[灰狼]";
		mes "我需要勇敢的探险者帮我的忙, 你愿意吗?";
		next;
		if(select("我怎么能信你?:好的") == 1) {
			mes "[灰狼]";
			mes "再问你次, 你愿意吗?";
			next;
		}
		mes "["+ strcharinfo(0) +"]";
		mes "...好吧, 看来我拒绝不了.";
		mes "你想要我干什么?";
		next;
		mes "[灰狼]";
		mes "这不是说话的地方, 来我背上..";
		next;
		mes "- 我跳到他的背上 -";
		set rhea_rus_main,5;
		donpcevent "灰狼#rus03::OnDisable";
		close2;
		warp "mosk_dun01",46,253;
		end;
	}

OnInit:
	disablenpc "灰狼#rus03";
	end;

OnEnable:
	enablenpc "灰狼#rus03";
	initnpctimer;
	end;

OnDisable:
	disablenpc "灰狼#rus03";
	stopnpctimer
	end;

OnTimer120000:
	stopnpctimer;
	donpcevent "灰狼#rus03::OnDisable";
	end;
}

//----------------------------------------------------------------------------
// Wall (玛丽亚 莫莉芙娜, 灰狼, Koshei)
//----------------------------------------------------------------------------
mosk_dun01,45,259,0	script	Wall#rus04	HIDDEN_NPC,{
	if (rhea_rus_main < 5) {
		mes "["+ strcharinfo(0) +"]";
		mes "...?!";
		emotion ET_QUESTION,1;
		close;
	}
	else if (rhea_rus_main == 5) {
		set .@speak01,rand(1,3);
		if (.@speak01 == 3) {
			mes "["+ strcharinfo(0) +"]";
			mes "...?!";
			emotion ET_QUESTION,1;
			donpcevent "灰狼#rus05::OnEnable";
			next;
		}else{
			mes "["+ strcharinfo(0) +"]";
			mes "...?!";
			emotion ET_QUESTION,1;
			close;
		}
		mes "[女孩的声音]";
		mes "谁在这?!";
		mes "大灰狼这还有谁?";
		next;
		mes "[灰狼]";
		mes "这是远方来的探险者, 他不害怕青冠龙他来帮我们的.";
		next;
		mes "[女孩的声音]";
		mes "帮我们你觉得他能打败青冠龙吗?";
		next;
		mes "["+ strcharinfo(0) +"]";
		mes "等等, 青冠龙是谁, 又是谁在说话?";
		next;
		mes "[女孩的声音]";
		mes "青冠龙, 是一个永生的怪物.我很久以前和他战斗过, 因为他不死, 只能将他封印在黑暗里.";
		next;
		mes "[女孩的声音]";
		mes "最后我也被封印在了墙里.";
		mes "最后他逃了出来, 所以我很担心.";
		next;
		mes "[女孩的声音]";
		mes "我叫玛丽亚 莫莉芙娜. 你帮我终结了青冠龙好吗, 我想莫斯科保持平静?";
		next;
		select("好的");
		mes "["+ strcharinfo(0) +"]";
		mes "我怎么帮你呢?";
		next;
		mes "[灰狼]";
		mes "你先得想办法把她救出来.";
		mes "我听说黄金钥匙可以打开所有东西, 村子里就有个做钥匙的.";
		next;
		mes "[灰狼]";
		mes "我的外表这样, 不能去村子, 所以你要去找做钥匙的, 问问他关于黄金钥匙的事.";
		next;
		mes "[女孩的声音]";
		mes "千万别忘了我啊.";
		donpcevent "灰狼#rus05::OnDisable";
		set rhea_rus_main,6;
		close;
	}
	else if (rhea_rus_main > 5 && rhea_rus_main < 8) {
		mes "[女孩的声音]";
		mes "帮我离开这.";
		mes "希望你能找到黄金钥匙, 它可以打开任何东西.";
		next;
		mes "[女孩的声音]";
		mes "莫斯科的一个做钥匙的可能知道什么.";
		close;
	}
	else if (rhea_rus_main == 8) {
		if (rhea_rus_quiz < 3) {
			if(getequipid(EQI_SHOES) != 2429) {
				if(getequipid(EQI_SHOES) != 2430) {
					mes "["+ strcharinfo(0) +"]";
					mes "...Hmm, 我是不是忘了装备什么...?";
					close;
				}
			}
			mes "[女孩的声音]";
			mes "找到钥匙了吗?";
			next;
			mes "["+ strcharinfo(0) +"]";
			mes "...我还需要金线, 听说 马洛兹卡那里有.....";
			next;
			mes "[女孩的声音]";
			mes "马洛兹卡... 他是冬天的主人, 他住在地底不会让任何人见到他的.";
			next;
			mes "[女孩的声音]";
			mes "他还有许多守卫, 但是我知道他在哪.";
			next;
			mes "[女孩的声音]";
			mes "你觉得呢?我可以把你传送到洞穴内.";
			next;
			if(select("先别...:打开传送吧!") == 1) {
				mes "[女孩的声音]";
				mes "... 等你好了就告诉我.";
				close;
			}
			mes "[女孩的声音]";
			mes "...小心点那里有很多怪兽.";
			donpcevent "1#rus27::OnEnable";
			close;
		}else{
			mes "[女孩的声音]";
			mes "得到钥匙了吗?";
			next;
			mes "["+ strcharinfo(0) +"]";
			mes "还没, 再等等.";
			next;
			mes "[女孩的声音]";
			mes "如果找齐了东西, 就去莫斯科找做钥匙的人.";
			close;
		}
	}
	else if (rhea_rus_main > 8 && rhea_rus_main < 47) {
		mes "[女孩的声音]";
		mes "得到钥匙了吗?";
		next;
		if (rhea_rus_ring > 8 && rhea_rus_hair > 8 && rhea_rus_quiz > 29) {
			mes "["+ strcharinfo(0) +"]";
			mes "材料都找齐了, 但是还没得到钥匙...";
			next;
			mes "[女孩的声音]";
			mes "去找那个做钥匙的.";
			close;
		}else{
			mes "["+ strcharinfo(0) +"]";
			mes "再等等.";
			next;
			mes "[女孩的声音]";
			mes "如果找齐了东西, 就去莫斯科找做钥匙的人";
			close;
		}
	}
	else if (rhea_rus_main == 47) {
		if (countitem(7876) > 0) {
			if ($@rus_req02 == 1) {
				mes "[女孩的声音]";
				mes "我能感受的到青冠龙的气息, 现在不是用钥匙的时候...";
				close;
			}else{
				set $@rus_req02,1;
				mes "[女孩的声音]";
				mes "得到钥匙了吗?";
				next;
				mes "["+ strcharinfo(0) +"]";
				mes "是的, 怎么使用?";
				next;
				mes "[女孩的声音]";
				mes "听仔细了!";
				mes "拿着钥匙, 然后说出 '^0000ff自由之风徐徐吹来, 没有你到不了的地方^000000'.";
				next;
				input .@input$;
				if (.@input$ == "自由之风徐徐吹来, 没有你到不了的地方") {
					mes "["+ strcharinfo(0) +"]";
					mes "^0000ff "+ .@input$ +" !! ^000000";
					next;
					mes "- 钥匙开始发光-";
					mes "- 微风吹来 -";
					 
					specialeffect2 EF_BEGINSPELL;
					specialeffect EF_FREEZED;
					next;
				}else{
					mes "["+ strcharinfo(0) +"]";
					mes " "+ .@input$ +" !! ";
					next;
					mes "[女孩的声音]";
					mes ".........................................................................................";
					next;
					mes "[女孩的声音]";
					mes "咒语说错了...";
					set $@rus_req02,0;
					close;
				}
				mes "- 微风消失了 -";
				mes "- 一个小女孩出现了 -";
				donpcevent "玛丽亚 莫莉芙娜#rus46::OnEnable";
				specialeffect EF_FREEZED,AREA,"玛丽亚 莫莉芙娜#rus46";
				next;
				mes "[玛丽亚 莫莉芙娜]";
				mes "谢谢你!";
				mes "我终于出来了, 现在我可以.....................aaaaak!!!....";
				next;
				specialeffect EF_HIT2,AREA,"玛丽亚 莫莉芙娜#rus46";
				specialeffect EF_DARKBREATH,AREA,"玛丽亚 莫莉芙娜#rus46";
				specialeffect EF_DEVIL,AREA,"玛丽亚 莫莉芙娜#rus46";
				mes "- 玛丽亚 被攻击  -";
				mes "- 然后倒下了!! -";
				next;
				mes "["+ strcharinfo(0) +"]";
				mes "玛丽亚?! 怎么了?!";
				sc_start SC_CURSE,60000,0;
			emotion ET_HUK,1;
				next;
				mes "[复活的青冠龙]";
				mes "人类我得谢谢你.玛丽亚 一直被封印在墙里, 所以我做不了什么!";
				next;
				mes "[复活的青冠龙]";
				mes "我会给她一个痛快的!!";
				next;
				mes "[复活的青冠龙]";
				mes "人类, 你是来阻止我的?";
				next;
				mes "[复活的青冠龙]";
				mes "没人可以阻止我, 死吧!!!";
				next;
				mes "[灰狼]";
				mes "当心!!";
				next;
				donpcevent "灰狼#rus05::OnEnable";
				mes "[复活的青冠龙]";
				mes "大灰狼...";
				mes "你觉得你可以打过我?!";
				next;
				specialeffect EF_FIREHIT,AREA,"灰狼#rus05";
				mes "- 青冠龙的嘴里 -";
				mes "- 喷出了惊人的火焰, -";
				mes "- 大灰狼快速告诉我 -";
				next;
				mes "[灰狼]";
				mes "如果你拖住青冠龙, 我还是可以救活她的!.";
				next;
				donpcevent "灰狼#rus05::OnDisable";
				donpcevent "玛丽亚 莫莉芙娜#rus46::OnDisable";
				mes "[复活的青冠龙]";
				mes "你往哪跑?!!!";
				delitem 7876,1;
				set rhea_rus_main,48;
				monster "mosk_dun01",45,256,"复活的青冠龙",1890,1,"Wall#rus04::OnMyMobDead";
				donpcevent "Koshei#rus47::OnEnable";
				close;
			}
		}else{
			mes "[女孩的声音]";
			mes "得到钥匙了吗?";
			next;
			mes "["+ strcharinfo(0) +"]";
			mes "就在这...";
			mes "...............Errr?";
			close;
		}
	}
	else if (rhea_rus_main == 48) {
		if ($@rus_req02 == 1) {
			mes "[灰狼's voice]";
			mes "我能感觉到青冠龙.";
			next;
			mes "[灰狼's voice]";
			mes "如果你拖住青冠龙, 我还是可以救活她的!.";
			close;
		}else{
			mes "["+ strcharinfo(0) +"]";
			mes "...玛丽亚...";
			mes "我什么都做不了...";
			next;
			mes "[灰狼]";
			mes "还不算晚!";
			emotion 0,1;
			donpcevent "灰狼#rus05::OnEnable";
			next;
			mes "[灰狼]";
			mes "她还活着.";
			mes "但还在昏迷.";
			next;
			mes "[灰狼]";
			mes "要救活她, 我需要死水和活水, 你去找亚拉.";
			next;
			mes "[灰狼]";
			mes "我不能坚持太久, 快去找 芭芭 亚拉.";
			set rhea_rus_main,49;
			close2;
			donpcevent "灰狼#rus05::OnDisable";
			end;
		}
	}
	else if (rhea_rus_main > 48 && rhea_rus_main < 51) {
		mes "[灰狼's voice]";
		mes "任然在昏迷.";
		next;
		mes "[灰狼's voice]";
		mes "要救活她, 我需要死水和活水, 你去找亚拉.";
		next;
		mes "[灰狼's voice]";
		mes "我不能坚持太久, 快去找 芭芭 亚拉.";
		close;
	}
	else if (rhea_rus_main == 51) {
		if ($@rus_req02 == 1) {
			mes "[灰狼's voice]";
			mes "我能感觉到青冠龙.";
			next;
			mes "[灰狼's voice]";
			mes "如果你拖住青冠龙, 我还是可以救活她的!.";
			close;
		}else{
			mes "[灰狼's voice]";
			mes "找到死水和活水了吗?";
			next;
			mes "["+ strcharinfo(0) +"]";
			mes "找到了,  玛丽亚怎么样?!";
			donpcevent "灰狼#rus05::OnEnable";
			donpcevent "玛丽亚 莫莉芙娜#rus46::OnEnable";
			next;
			mes "[灰狼]";
			mes "我担心她的灵魂消失了, 伤口太严重了, 不过我们可以用那水来救活她.";
			next;
			mes "["+ strcharinfo(0) +"]";
			mes "首先...";
			next;
			if(select("死水:活水") == 1) {
				mes "["+ strcharinfo(0) +"]";
				mes "希望有用...";
				next;
				mes "- 在她身体上倒上死水 -";
				next;
			}else{
				mes "["+ strcharinfo(0) +"]";
				mes "希望有用...";
				next;
				mes "- 在她身体上倒上活水 -";
				next;
				mes "[玛丽亚 莫莉芙娜]";
				mes "..........................";
				next;
				mes "- 没有任何变化 -";
				next;
				mes "["+ strcharinfo(0) +"]";
				mes "哪里错了吗...?!";
				next;
				mes "[灰狼]";
				mes "你干什么去?时间不多了啊?!";
				next;
				donpcevent "灰狼#rus05::OnDisable";
				donpcevent "玛丽亚 莫莉芙娜#rus46::OnDisable";
				mes "["+ strcharinfo(0) +"]";
				mes "对不起, 但是有些水没拿上...";
				close;
			}
			mes "- 伤口消失了! -";
			specialeffect EF_ABSORBSPIRITS,AREA,"玛丽亚 莫莉芙娜#rus46";
			next;
			mes "["+ strcharinfo(0) +"]";
			mes "Ok! 下一步...";
			next;
			if(select("死水:活水") == 1) {
				mes "["+ strcharinfo(0) +"]";
				mes "再次倒上死水...";
				next;
				mes "["+ strcharinfo(0) +"]";
				mes "...!?错了, 应该倒活水.......";
				next;
				mes "[灰狼]";
				mes "............................";
				mes "你行不行...?";
				next;
				mes "["+ strcharinfo(0) +"]";
				mes "没问题, 下次是活水'.";
				next;
				mes "- 倒上活水 -";
				next;
			}else{
				mes "["+ strcharinfo(0) +"]";
				mes "倒上活水'.";
				next;
			}
			mes "- !! -";
			specialeffect EF_RESURRECTION,AREA,"玛丽亚 莫莉芙娜#rus46";
			next;
			mes "[灰狼]";
			mes "成功了!!";
			next;
			mes "[玛丽亚 莫莉芙娜]";
			mes "Ah, 我...?!";
			mes "你救了我, 多谢你帮我们对抗青冠龙.";
			next;
			mes "[玛丽亚 莫莉芙娜]";
			mes "大灰狼, 多谢你保护我.";
			next;
			mes "[玛丽亚 莫莉芙娜]";
			mes "青冠龙还没有被完全摧毁, 现在封印他的力量应该不难";
			next;
			mes "[玛丽亚 莫莉芙娜]";
			mes "他和我被魔法联系在一起, 一个人的力量北消弱了另个人也一样.";
			next;
			mes "[玛丽亚 莫莉芙娜]";
			mes "但是他逃出了监禁, 所以我才叫你帮忙对付他.";
			next;
			mes "[玛丽亚 莫莉芙娜]";
			mes "他知道我快出来了, 所以在这埋伏我...";
			next;
			mes "[玛丽亚 莫莉芙娜]";
			mes "总之, 感谢你做的一切.";
			next;
			mes "[玛丽亚 莫莉芙娜]";
			mes "请接受我的谢意, 相信你在旅途会得到保佑的.";
			next;
			mes "[玛丽亚 莫莉芙娜]";
			mes "我被封印的太久了, 现在实在是太高兴了";
			set rhea_rus_main,52;
			set .@rus_food,rand(1,6);
			if (.@rus_food == 1) {
				getitem 12093,1;
			}
			else if (.@rus_food == 2) {
				getitem 12088,1;
			}
			else if (.@rus_food == 3) {
				getitem 12073,1;
			}
			else if (.@rus_food == 4) {
				getitem 12078,1;
			}
			else if (.@rus_food == 5) {
				getitem 12083,1;
			}
			else {
				getitem 12098,1;
			}
			if (BaseLevel < 56) {
				getexp 13000,3500;
			}
			else if (BaseLevel > 55 && BaseLevel < 61) {
				getexp 24600,6150;
			}
			else if (BaseLevel > 60 && BaseLevel < 66) {
				getexp 42420,10605;
			}
			else if (BaseLevel > 65 && BaseLevel < 71) {
				getexp 64892,16223;
			}
			else if (BaseLevel > 70 && BaseLevel < 76) {
				getexp 164908,41227;
			}
			else if (BaseLevel > 75 && BaseLevel < 81) {
				getexp 276292,69073;
			}
			else if (BaseLevel > 80 && BaseLevel < 86) {
				getexp 340408,85102;
			}
			else if (BaseLevel > 85 && BaseLevel < 91) {
				getexp 418460,104615;
			}
			else if (BaseLevel > 90 && BaseLevel < 99) {
				getexp 888140,222035;
			}
			else {
				getitem 617,1;
			}
			donpcevent "灰狼#rus05::OnDisable";
			donpcevent "玛丽亚 莫莉芙娜#rus46::OnDisable";
			close;
		}
	}
	else if (rhea_rus_main > 51) {
		mes "[女孩的声音]";
		mes "... 青冠龙是不死的, 以后还会再出现的...";
		next;
		mes "[女孩的声音]";
		mes "我会等着他出来, 然后消灭他的...";
		next;
		mes "[女孩的声音]";
		mes "多谢你为村子做的一切.";
		next;
		mes "[女孩的声音]";
		mes "去找亚拉吧, 她似乎要告诉你什么事.";
		next;
		mes "[女孩的声音]";
		mes "当心点.";
		close;
	}

OnInit:
	enablenpc "Wall#rus04";
	set $@rus_req02,0;
	end;

OnEnable:
	enablenpc "Wall#rus04";
	end;

OnDisable:
	disablenpc "Wall#rus04";
	end;

OnMyMobDead:
	donpcevent "Koshei#rus47::OnDisable";
	set $@rus_req02,0;
	stopnpctimer;
	announce "青冠龙 : 你个该死的人类, 我不会放弃的, 让我们看看谁能笑到最后!!!",bc_map,0xCE3131;
	end;
}

//----------------------------------------------------------------------------
// 复活的青冠龙
//----------------------------------------------------------------------------
mosk_dun01,5,5,0	script	Koshei#rus47	-1,0,0,{
	end;

OnInit:
	disablenpc "Koshei#rus47";
	end;

OnEnable:
	initnpctimer;
	enablenpc "Koshei#rus47";
	end;

OnDisable:
	stopnpctimer;
	disablenpc "Koshei#rus47";
	end;

OnTimer3000:
	announce "青冠龙 : 我会杀死所有阻挠我的人!!!",bc_map,0xCE3131;
	end;

OnTimer63000:
	announce "青冠龙 : 所有挡我路的人都会被我碾碎!!",bc_map,0xCE3131;
	end;

OnTimer150000:
	announce "青冠龙 : 人类, 尖叫吧!! 哈哈哈哈哈哈哈哈哈h!!!",bc_map,0xCE3131;
	end;

OnTimer300000:
	stopnpctimer;
	initnpctimer;
	end;
}

//----------------------------------------------------------------------------
// 灰狼
//----------------------------------------------------------------------------
mosk_dun01,50,256,3	script	灰狼#rus05	4_RUS_DWOLF,{
	end;

OnInit:
	disablenpc "灰狼#rus05";
	end;

OnEnable:
	initnpctimer;
	enablenpc "灰狼#rus05";
	end;

OnDisable:
	stopnpctimer;
	disablenpc "灰狼#rus05";
	end;

OnTimer120000:
	stopnpctimer;
	donpcevent "灰狼#rus05::OnDisable";
	end;
}

//----------------------------------------------------------------------------
// 玛丽亚 莫莉芙娜
//----------------------------------------------------------------------------
mosk_dun01,46,256,3	script	玛丽亚 莫莉芙娜#rus46	4_F_RUSCHILD,{
	end;

OnInit:
	disablenpc "玛丽亚 莫莉芙娜#rus46";
	end;

OnEnable:
	initnpctimer;
	enablenpc "玛丽亚 莫莉芙娜#rus46";
	end;

OnDisable:
	stopnpctimer;
	disablenpc "玛丽亚 莫莉芙娜#rus46";
	end;

OnTimer120000:
	donpcevent "玛丽亚 莫莉芙娜#rus46::OnDisable";
	end;
}

//----------------------------------------------------------------------------
// 铁匠 (Golden Key)
//----------------------------------------------------------------------------
moscovia,178,127,0	script	铁匠#rus06	1_M_SMITH,{
	if (checkweight(1201,1) == 0) {
		mes "[铁匠]";
		mes "你带这么多东西干什么?";
		mes "你在锻炼吗?";
		close;
	}
	if ((MaxWeight-Weight) < 3500) {
		mes "[铁匠]";
			mes "你带这么多东西干什么?";
		mes "你在锻炼吗?";
		close;
	}
	if (rhea_rus_main < 6) {
		mes "[铁匠]";
		mes "Ba哈哈~";
		mes "好天气! Eh?";
		mes "适合去野餐.";
		next;
		mes "[铁匠]";
		mes "但我听说有人在森林失踪了?";
		close;
	}
	else if (rhea_rus_main == 6) {
		mes "[铁匠]";
		mes "好天气! Eh?";
		mes "适合去野餐.";
		next;
		mes "[铁匠]";
		mes "但我听说有人在森林失踪了?";
		next;
		select("Excuse me...");
		mes "["+ strcharinfo(0) +"]";
		mes "听说过黄金钥匙吗?";
		next;
		mes "[铁匠]";
		mes "你是探险者吗, 谁告诉你的?";
		next;
		mes "["+ strcharinfo(0) +"]";
		mes "实际上...";
		next;
		mes "- 你告诉他大灰狼和玛丽亚的事 -";
		next;
		mes "[铁匠]";
		mes "嗯, 找我算你运气好.";
		next;
		mes "["+ strcharinfo(0) +"]";
		mes "你什么意思...?";
		next;
		mes "[铁匠]";
		mes "我是村子唯一一个知道怎么做黄金钥匙的人! Ba哈哈!";
		next;
		mes "[铁匠]";
		mes "你觉得材料很简单吧?";
		next;
		mes "["+ strcharinfo(0) +"]";
		mes "我可没说...";
		next;
		mes "[铁匠]";
		mes "Ba哈哈哈~";
		mes "如果你要做的话, 很多事等着你去做.";
		next;
		mes "[铁匠]";
		mes "你鞋子都会磨穿的, 要试试吗";
		next;
		mes "["+ strcharinfo(0) +"]";
		mes "当然, 我要帮玛丽亚!";
		next;
		mes "[铁匠]";
		mes "我喜欢!";
		mes "先赵来25个钢铁吧.";
		next;
		mes "["+ strcharinfo(0) +"]";
		mes "这是开始的材料吗?";
		next;
		mes "[铁匠]";
		mes "Ba哈哈哈~";
		mes "等你拿到了我会告诉你剩下的.";
		set rhea_rus_main,7;
		close;
	}
	else if (rhea_rus_main == 7) {
		if (countitem(999) > 24) {
			mes "[铁匠]";
			mes "Ohhh, 比我想像的要快!";
			next;
			mes "[铁匠]";
			mes "等等.";
			next;
			mes "- 他用钢铁开始做什么 -";
			next;
			mes "["+ strcharinfo(0) +"]";
			mes "这是?!!";
			next;
			mes "[铁匠]";
			mes "钢铁靴子!";
			next;
			mes "["+ strcharinfo(0) +"]";
			mes "黄金!!.........................";
			mes "....................什么?";
			next;
			mes "[铁匠]";
			mes "我不是说了吗, 路还长着呢, 这鞋子是给你穿的.";
			next;
			mes "[铁匠]";
			mes "等鞋子跑穿了就快差不多了.";
			next;
			mes "[铁匠]";
			mes "^ff0000你必须一直穿着这鞋子.^000000";
			next;
			mes "[铁匠]";
			mes "下面告诉你黄金钥匙的材料.";
			next;
			mes "[铁匠]";
			mes "你需要 ^0000ff诅咒红宝石*2、黄金*3、红戒指*1、卢莎卡的头发*2、金线*10^000000 .";
			next;
			mes "[铁匠]";
			mes "你知道该怎么做了, 我等着你.";
			mes "Ba哈哈哈~";
			mes "别忘了穿我做的鞋子!";
			delitem 999,25;
			set rhea_rus_main,8;
			if (BaseClass == Job_Merchant || BaseClass == Job_Swordman || BaseClass == Job_Thief || BaseClass == Job_Archer) {
				getitem 2429,1;
				close;
			}else {
				getitem 2430,1;
				close;
			}
		}else{
			mes "[铁匠]";
			mes "你在干什么, 先给我25个钢铁.";
			close;
		}
	}
	else if (rhea_rus_main == 8) {
		if (countitem(724) > 1 && countitem(969) > 2 && countitem(7877) > 0 && countitem(7878) > 1 && countitem(7879) > 9) {
			if (rhea_rus_ring > 8 && rhea_rus_hair > 8 && rhea_rus_quiz > 29) {
				if(getequipid(EQI_SHOES) != 2429) {
					if(getequipid(EQI_SHOES) != 2430) {
						mes "["+ strcharinfo(0) +"]";
						mes "...是不是忘穿什么了...?";
						close;
					}
				}
				mes "[铁匠]";
				mes "难以置信, 材料都齐了?";
				next;
				mes "[铁匠]";
				mes "Ba哈哈~ Ok,  .";
				mes "Well.. 你在收集材料的时候, 我也在找做钥匙的人!";
				next;
				mes "["+ strcharinfo(0) +"]";
				mes "你知道谁会制作?";
				next;
				mes "[铁匠]";
				mes "我知道材料, 也知道谁会做, 你想知道是谁?";
				next;
				mes "["+ strcharinfo(0) +"]";
				mes "当然, 我得找到他.";
				next;
				mes "[铁匠]";
				mes "听清楚了, 做钥匙的在森林深处的小木屋里.";
				next;
				mes "[铁匠]";
				mes "'^ff0000盾牌保护^000000.";
				specialeffect2 EF_ABSORBSPIRITS;
				next;
				mes "[铁匠]";
				mes "这个符咒能保护你一段时间.";
				next;
				if (countitem(2429) > 0) {
					mes "[铁匠]";
					mes "森林里很危险, 当心点!";
					mes "这个鞋子你也用不到了!";
					delitem 2429,1;
					set rhea_rus_main,9;
					close;
				}
				else if (countitem(2430) > 0) {
					mes "[铁匠]";
					mes "森林里很危险, 当心点!";
					mes "这个鞋子你也用不到了!";
					delitem 2430,1;
					set rhea_rus_main,9;
					close;
				}
				else {
					mes "[铁匠]";
					mes "森林里很危险, 当心点!";
					mes "这个鞋子你也用不到了!";
					next;
					mes "[铁匠]";
					mes "啊 你的鞋子呢?";
					close;
				}
			}else{
				mes "[铁匠]";
				mes "你需要 ^0000ff诅咒红宝石*2、黄金*3、红戒指*1、卢莎卡的头发*2、金线*10^000000 .";
				next;
				
				mes "[铁匠]";
				 
				mes "没有我的鞋子你什么都得不到, 我在这等你回来.";
				close;
			}
		}else{
			mes "[铁匠]";
			mes "你需要 ^0000ff诅咒红宝石*2、黄金*3、红戒指*1、卢莎卡的头发*2、金线*10^000000 .";
			next;
				
			mes "[铁匠]";
			mes "没有我的鞋子你什么都得不到, 我在这等你回来.";
			close;
		}
	}
	else if (rhea_rus_main == 9) {
		mes "[铁匠]";
		mes "做钥匙的在森林深处的小木屋里.";
		next;
		mes "[铁匠]";
		mes "他不是个普通人, 当心你被他诅咒.";
		next;
		mes "[铁匠]";
		mes "别忘了咒语, '^ff0000盾牌保护.^000000'";
		close;
	}
	else if (rhea_rus_main > 9 && rhea_rus_main < 52) {
		mes "[铁匠]";
		mes "做钥匙的在森林深处的小木屋里.";
		next;
		mes "[铁匠]";
		mes "黄金钥匙可以救玛丽亚, 好运!";
		close;
	}
	else if (rhea_rus_main > 51) {
		mes "[铁匠]";
		mes "我听说你做的不错.";
		next;
		mes "[铁匠]";
		mes "小木屋旁的人想让你见她, 似乎她有什么要和你说.";
		close;
	}
}

//----------------------------------------------------------------------------
// 瓦萨里 爷爷 (Red Ring)
//----------------------------------------------------------------------------
moscovia,206,81,0	script	瓦萨里 爷爷#rus07	4_M_05,{
	if (checkweight(1201,1) == 0) {
		mes "[瓦萨里 爷爷]";
		mes "你带这么多东西干什么?";
		mes "在锻炼吗?";
		close;
	}
	if ((MaxWeight-Weight) < 3500) {
		mes "你带这么多东西干什么?";
		mes "在锻炼吗?";
		close;
	}
	if (rhea_rus_main < 8) {
		mes "[瓦萨里 爷爷]";
		mes "你喜欢这吗?";
		next;
		mes "["+ strcharinfo(0) +"]";
		mes "不赖.";
		mes "这气候不错!";
		next;
		mes "[瓦萨里 爷爷]";
		mes "现在是不错, 冬天就不一样了.";
		close;
	}
	else if (rhea_rus_main == 8) {
		if (rhea_rus_ring < 1) {
			if(getequipid(EQI_SHOES) != 2429) {
				if(getequipid(EQI_SHOES) != 2430) {
					mes "["+ strcharinfo(0) +"]";
					mes "...Hmm, 忘带什么了吗...?";
					close;
				}
			}
			mes "[瓦萨里 爷爷]";
			mes "喜欢这吗?";
			next;
			if(select("还行吧:我有点问题...") == 1) {
				mes "[瓦萨里 爷爷]";
				mes "你旅行了这么久, 有点累是自然的.";
				close;
			}
			mes "[瓦萨里 爷爷]";
			mes "关于什么的?";
			next;
			input .@input$;
			if (.@input$ == "红戒指") {
				mes "[瓦萨里 爷爷]";
				mes "红色戒指?找这个干什么?";
				next;
			}else{
				mes "[瓦萨里 爷爷]";
				mes "我不知道.";
				close;
			}
			mes "- 告诉她玛丽亚和大灰狼的事 -";
			next;
			mes "[瓦萨里 爷爷]";
			mes "Huuuh, 知道了.";
			next;
			mes "[瓦萨里 爷爷]";
			mes "该怎么办呢?";
			mes "我想帮你.";
			mes " ";
			mes "可是我给我的小女儿 玛特罗什卡了, 只是...";
			next;
			mes "["+ strcharinfo(0) +"]";
			mes "你怎么了?";
			next;
			mes "[瓦萨里 爷爷]";
			mes "  玛特罗什卡...";
			mes "..........";
			mes "....她死了...";
			next;
			mes "[瓦萨里 爷爷]";
			mes "她漂亮又聪明, 我的大女儿 瓦萨里 芭芭也漂亮, 但是她脾气...";
			mes "比火还烈!";
			mes "你知道我在说什么吗?";
			next;
			mes "[瓦萨里 爷爷]";
			mes " 总之, 玛特罗什卡是个好女儿, 我就把红戒指送她了.";
			next;
			mes "[瓦萨里 爷爷]";
			mes "然后她就失踪了, 现在我只剩下大女儿了...";
			set rhea_rus_ring,1;
			close;
		}
		else if (rhea_rus_ring > 0 && rhea_rus_ring < 8) {
			mes "[瓦萨里 爷爷]";
			mes "我把戒指送她时她好高兴.";
			next;
			mes "[瓦萨里 爷爷]";
			mes "然后她就失踪了, 现在我只剩下大女儿了...";
			close;
		}
		else if (rhea_rus_ring == 8) {
			if(getequipid(EQI_SHOES) != 2429) {
				if(getequipid(EQI_SHOES) != 2430) {
					mes "["+ strcharinfo(0) +"]";
					mes "...Hmm, 我忘记穿什么了吗...?";
					close;
				}
			}
			mes "[瓦萨里 爷爷]";
			mes "Ehh? 你就是上次那个探险者吗?";
			next;
			mes "["+ strcharinfo(0) +"]";
			mes "...听我说.";
			next;
			if (countitem(7883) > 0) {
				mes "- 你吹笛子 -";
				next;
				mes "^ff0000我爸爸给我红戒指^000000";
				mes "^ff0000我爸爸给我红戒指^000000";
				mes "^ff0000红戒指迷惑人^000000";
				mes "^ff0000最可爱的女儿^000000";
				next;
				mes "^ff0000红戒指带来嫉妒^000000";
				mes "^ff0000红戒指带来嫉妒^000000";
				mes "^ff0000红戒指迷惑人^000000";
				mes "^ff0000女儿羡慕了s^000000";
				next;
				mes "^ff0000冰凉的手掐住我的脖子^000000";
				mes "^ff0000我的心冷了^000000";
				mes "^ff0000身体陷入冰冷的沼泽^000000";
				mes "^ff0000红戒指被拿走了^000000";
				mes "^ff0000红戒指迷惑人^000000";
				emotion 23;
				emotion 9,1;
				next;
				mes "[瓦萨里 爷爷]";
				mes "...这是什么??";
				mes "我女儿...被.....!?";
				next;
				mes "[瓦萨里 爷爷]";
				mes "不是真的吧?";
				mes "别骗我, 为什么告诉我...";
				next;
				mes "["+ strcharinfo(0) +"]";
				mes "这是我女儿的声音吗?";
				next;
				mes "[瓦萨里 爷爷]";
				mes "不要说了...";
				next;
				mes "[瓦萨里 爷爷]";
				mes ".............................";
				next;
				mes "[瓦萨里 爷爷]";
				mes ".............................";
				next;
				mes "[瓦萨里 爷爷]";
				mes ".............................";
				next;
				mes "[瓦萨里 爷爷]";
				mes ".............................";
				next;
				mes "[瓦萨里 爷爷]";
				mes ".............................";
				next;
				mes "[瓦萨里 爷爷]";
				mes ".............................";
				next;
				mes "[瓦萨里 爷爷]";
				mes ".............................";
				next;
				mes "["+ strcharinfo(0) +"]";
				mes "...Uh... 对不起...";
				next;
				mes "[瓦萨里 爷爷]";
				mes "... 你能再吹笛子吗?";
				next;
				mes "- 你吹笛子 -";
				next;
				mes "^ff0000我爸爸给我红戒指^000000";
				mes "^ff0000我爸爸给我红戒指^000000";
				mes "^ff0000红戒指迷惑人^000000";
				mes "^ff0000最可爱的女儿^000000";
				next;
				mes "^ff0000红戒指带来嫉妒^000000";
				mes "^ff0000红戒指带来嫉妒^000000";
				mes "^ff0000红戒指迷惑人^000000";
				mes "^ff0000女儿羡慕了s^000000";
				next;
				mes "^ff0000冰凉的手掐住我的脖子^000000";
				mes "^ff0000我的心冷了^000000";
				mes "^ff0000身体陷入冰冷的沼泽^000000";
				mes "^ff0000红戒指被拿走了^000000";
				mes "^ff0000红戒指迷惑人^000000";
				emotion 9;
				emotion 9,1;
				next;
				mes "[瓦萨里 爷爷]";
				mes "It is.. It is true...";
				mes "我在大女儿看到这戒指的时候都没想到...";
				next;
				mes "[瓦萨里 爷爷]";
				mes "该死的戒指.我可怜的女儿....? ~Sob!";
				next;
				mes "["+ strcharinfo(0) +"]";
				mes "......................";
				next;
				mes "[瓦萨里 爷爷]";
				mes "........对不起. ...我知道你也很为难.";
				next;
				mes "[瓦萨里 爷爷]";
				mes "你说你需要红戒指是吗, 那去吧...";
				mes "它只能给我带来伤痛.";
				next;
				mes "[瓦萨里 爷爷]";
				mes "...这都是我的责任...";
				delitem 7883,1;
				set rhea_rus_ring,10;
				getitem 7877,1;
				if (BaseLevel < 56) {
					getexp 4700,0;
				}
				else if (BaseLevel > 55 && BaseLevel < 61) {
					getexp 6150,0;
				}
				else if (BaseLevel > 60 && BaseLevel < 66) {
					getexp 10605,0;
				}
				else if (BaseLevel > 65 && BaseLevel < 71) {
					getexp 16223,0;
				}
				else if (BaseLevel > 70 && BaseLevel < 76) {
					getexp 41227,0;
				}
				else if (BaseLevel > 75 && BaseLevel < 81) {
					getexp 69073,0;
				}
				else if (BaseLevel > 80 && BaseLevel < 86) {
					getexp 85102,0;
				}
				else if (BaseLevel > 85 && BaseLevel < 91) {
					getexp 104615,0;
				}
				else if (BaseLevel > 90 && BaseLevel < 99) {
					getexp 222035,0;
				}
				else {
					getitem 607,1;
				}
				close;
			}else{
				mes "[瓦萨里 爷爷]";
				mes "...............................";
				mes "...............................";
				mes "...我说什么了?";
				next;
				mes "["+ strcharinfo(0) +"]";
				mes "Ehh?! 真奇怪, 笛子呢?!";
				emotion 23,1;
				close;
			}
		}
		else if (rhea_rus_ring == 9) {
			mes "[瓦萨里 爷爷]";
			mes "你可能觉得我傻, 可我还是很伤心.";
			next;
			mes "[瓦萨里 爷爷]";
			mes "那是父母想念孩子的心思...";
			close;
		}
		else {
			mes "[瓦萨里 爷爷]";
			mes "..女儿的悲剧都是我的责任...";
			close;
		}
	}
	else {
		mes "[瓦萨里 爷爷]";
		mes "..女儿的悲剧都是我的责任...";
		close;
	}
}

//----------------------------------------------------------------------------
// 柳芭芭 (Red Ring)
//----------------------------------------------------------------------------
moscovia,213,216,3	script	柳芭芭#rus08	4_F_RUSWOMAN2,{
	if (checkweight(1201,1) == 0) {
		mes "[柳芭芭]";
		mes "你包里到底装了什么?";
		mes "这么重?";
		close;
	}
	if ((MaxWeight-Weight) < 3500) {
		mes "[柳芭芭]";
		mes "你包里到底装了什么?";
		mes "这么重?";
		close;
	}
	if (rhea_rus_main < 8) {
		mes "[柳芭芭]";
		mes "我真漂亮.";
		next;
		mes "[柳芭芭]";
		mes "你有见过比我更漂亮的人吗?";
		emotion 18;
		close;
	}
	else if (rhea_rus_main == 8) {
		if (rhea_rus_ring < 1) {
			mes "[柳芭芭]";
			mes "我真漂亮.";
		next;
		mes "[柳芭芭]";
		mes "你有见过比我更漂亮的人吗?";
			emotion 18;
			close;
		}
		else if (rhea_rus_ring == 1) {
			if(getequipid(EQI_SHOES) != 2429) {
				if(getequipid(EQI_SHOES) != 2430) {
					mes "["+ strcharinfo(0) +"]";
					mes "...Hmm, 我忘带了什么吗...?";
					close;
				}
			}
			mes "[柳芭芭]";
			mes "我真漂亮.";
			next;
			mes "[柳芭芭]";
			mes "你有见过比我更漂亮的人吗?";
			next;
			if(select("你疯了吗!:你是对的.") == 1) {
				if (Sex == 0) {
					mes "["+ strcharinfo(0) +"]";
					mes "你知道全世界有多少美人吗, 你个村姑!";
					next;
					mes "["+ strcharinfo(0) +"]";
					mes "再说了, 我才是世界上最美的人!";
					next;
				}else{
					mes "["+ strcharinfo(0) +"]";
					mes "你知道全世界有多少美人吗, 你个村姑!";
					next;
					mes "["+ strcharinfo(0) +"]";
					mes "你有见过舞娘吗, 还有漂亮的卡普拉MM!";
					next;
				}
				mes "[柳芭芭]";
				mes "你个混蛋!!";
				mes "滚!";
				set rhea_rus_ring,2;
				close2;
				warp "moscovia",220,210;
				end;
			}
			mes "["+ strcharinfo(0) +"]";;
			mes "你真美...";
			emotion 18,1;
			next;
			mes "[柳芭芭]";
			mes "真诚实, 我给你泡杯茶喝吧?";
			set rhea_rus_ring,4;
			getitem 573,1;
			close;
		}
		else if (rhea_rus_ring == 2) {
			mes "[柳芭芭]";
			mes "没见过比你更粗鲁的人了!";
			mes "滚!";
			close2;
			warp "moscovia",220,210;
			end;
		}
		else if (rhea_rus_ring == 3) {
			if (countitem(748) > 0 || countitem(749) > 0) {
				mes "[柳芭芭]";
				mes "你为什么在这...";
				next;
				mes "[柳芭芭]";
				mes "...那是给我的?";
				next;
				if (countitem(748) > 0) {
					mes "[柳芭芭]";
					mes "好吧我原谅你.";
					delitem 748,1;
					set rhea_rus_ring,4;
					close;
				}
				else if (countitem(749) > 0) {
					mes "[柳芭芭]";
					mes "好吧我原谅你.";
					delitem 749,1;
					set rhea_rus_ring,4;
					close;
				}
				else {
					mes "[柳芭芭]";
					mes "好吧我原谅..?";
					next;
					mes "[柳芭芭]";
					mes "你在耍我吗!?";
					mes "滚!";
					close2;
					warp "moscovia",220,210;
					end;
				}
			}else{
				mes "[柳芭芭]";
				mes "没见过你这么粗鲁的人!";
				mes "滚!";
				close2;
				warp "moscovia",220,210;
				end;
			}
		}
		else if (rhea_rus_ring == 4) {
			mes "[柳芭芭]";
			mes "你有见过比我漂亮的人吗?";
			next;
			select("You are...");
			mes "["+ strcharinfo(0) +"]";
			mes "...你是最漂亮的...";
			next;
			mes "[柳芭芭]";
			mes "真的吗, 人人都这么说.";
			mes "我忘了问.";
			mes "你在这找什么?";
			next;
			input .@input$;
			if (.@input$ == "红戒指") {
				mes "[柳芭芭]";
				mes "红戒指?!";
				next;
			}else{
				mes "[柳芭芭]";
				mes "你在说什么?";
				close;
			}
			mes "[柳芭芭]";
			mes "那个戒指, , 是我爸爸给我妹妹的.";
			mes "但她出去散步之后就再也没有回来.";
			next;
			mes "["+ strcharinfo(0) +"]";
			mes "等等, 你爸爸说她已经死了!";
			next;
			mes "[柳芭芭]";
			mes "让我说完, 我们去找她, 怎么也找不到, 他一定是消失在沼泽里了.";
			set rhea_rus_ring,5;
			close;
		}
		else if (rhea_rus_ring > 4 && rhea_rus_ring < 7) {
			mes "[柳芭芭]";
			mes "那个戒指, , 是我爸爸给我妹妹的.";
			mes "但她出去散步之后就再也没有回来.";
			next;
			mes "["+ strcharinfo(0) +"]";
			mes "等等, 你爸爸说她已经死了!";
			next;
			mes "[柳芭芭]";
			mes "让我说完, 我们去找她, 怎么也找不到, 他一定是消失在沼泽里了.";
			close;
		}
		else if (rhea_rus_ring == 7) {
			if(getequipid(EQI_SHOES) != 2429) {
				if(getequipid(EQI_SHOES) != 2430) {
					mes "["+ strcharinfo(0) +"]";
					mes "...Hmm, 我忘带什么了吗...?";
					close;
				}
			}
			mes "[柳芭芭]";
			mes "你又来了干什么?";
			next;
			mes "["+ strcharinfo(0) +"]";
			mes "... Listen to this song.";
			next;
			if (countitem(7883) > 0) {
				mes "- You play the flute -";
				next;
				mes "^ff0000我爸爸给我红戒指^000000";
				mes "^ff0000我爸爸给我红戒指^000000";
				mes "^ff0000红戒指迷惑人^000000";
				mes "^ff0000最可爱的女儿^000000";
				next;
				mes "^ff0000红戒指带来嫉妒^000000";
				mes "^ff0000红戒指带来嫉妒^000000";
				mes "^ff0000红戒指迷惑人^000000";
				mes "^ff0000女儿羡慕了s^000000";
				next;
				mes "^ff0000冰凉的手掐住我的脖子^000000";
				mes "^ff0000我的心冷了^000000";
				mes "^ff0000身体陷入冰冷的沼泽^000000";
				mes "^ff0000红戒指被拿走了^000000";
				mes "^ff0000红戒指迷惑人^000000";
				emotion 23;
				emotion 9,1;
				next;
				mes "[柳芭芭]";
				mes "停下!?";
				next;
				mes "["+ strcharinfo(0) +"]";
				mes "这是我妹妹的声音, 你对她做什么了!?";
				next;
				mes "[柳芭芭]";
				mes "我讨厌她, 爸爸只喜欢她!";
				next;
				mes "[柳芭芭]";
				mes "我想看看红戒指, 她不给我看, 她老是惹我, 傻女人!";
				next;
				mes "["+ strcharinfo(0) +"]";
				mes "你怎么能这么说, 她是你妹妹!?";
				mes "你爸爸需要知道这件事!";
				next;
				mes "[柳芭芭]";
				mes "不!!!";
				mes "笛子给我!";
				next;
				mes "["+ strcharinfo(0) +"]";
				mes "不你爸爸必须知道!";
				next;
				mes "[柳芭芭]";
				mes "求你啦, 别告诉他...";
				emotion 28;
				next;
				mes "- 她跪下开始哭泣 -";
				next;
				mes "[柳芭芭]";
				mes "他本来就很难过了, 如果知道以后会怎样...?";
				next;
				mes "[柳芭芭]";
				mes "求求你放过我吧, 要么我把红戒指给你怎么样?";
				next;
				mes "["+ strcharinfo(0) +"]";
				mes "但是...";
				next;
				mes "[柳芭芭]";
				mes "求你了, 不光是为我, 也是为我爸爸.";
				next;
				mes "["+ strcharinfo(0) +"]";
				mes "...Mmmm, 我该怎么办...";
				next;
				if(select("收下戒指:拒绝") == 1) {
					mes "["+ strcharinfo(0) +"]";
					mes "...Mmmm, 我该怎么办...";
					mes "好吧给我吧.";
					next;
				}else{
					mes "["+ strcharinfo(0) +"]";
					mes "...Mmmm, 我该怎么办...";
					mes "不行!";
					next;
					mes "[柳芭芭]";
					mes "什么!!!";
					next;
					mes "["+ strcharinfo(0) +"]";
					mes "你爸爸必须知道真相, 知道你做了什么!";
					next;
					mes "[柳芭芭]";
					mes "什么!!!";
					set rhea_rus_ring,8;
					close2;
					warp "moscovia",203,80;
					end;
				}
				mes "[柳芭芭]";
				mes "真的吗 谢谢!";
				next;
				mes "[柳芭芭]";
				mes "我剩下的时间都要用来赎罪了.";
				delitem 7883,1;
				set rhea_rus_ring,9;
				getitem 7877,1;
				if (BaseLevel < 56) {
					getexp 4700,0;
				}
				else if (BaseLevel > 55 && BaseLevel < 61) {
					getexp 6150,0;
				}
				else if (BaseLevel > 60 && BaseLevel < 66) {
					getexp 10605,0;
				}
				else if (BaseLevel > 65 && BaseLevel < 71) {
					getexp 16223,0;
				}
				else if (BaseLevel > 70 && BaseLevel < 76) {
					getexp 41227,0;
				}
				else if (BaseLevel > 75 && BaseLevel < 81) {
					getexp 69073,0;
				}
				else if (BaseLevel > 80 && BaseLevel < 86) {
					getexp 85102,0;
				}
				else if (BaseLevel > 85 && BaseLevel < 91) {
					getexp 104615,0;
				}
				else if (BaseLevel > 90 && BaseLevel < 99) {
					getexp 222035,0;
				}
				else{
					getitem 607,1;
				}
				close;
			}else{
				mes "["+ strcharinfo(0) +"]";
				mes "...!? 笛子呢!?";
				emotion 23,1;
				close;
			}
		}
		else if (rhea_rus_ring == 8) {
			mes "[柳芭芭]";
			mes "还给我!";
			next;
			mes "["+ strcharinfo(0) +"]";
			mes "你爸爸必须知道真相!";
			next;
			mes "[柳芭芭]";
			mes "等等!!!";
			close2;
			warp "moscovia",203,80;
			end;
		}else{
			mes "[柳芭芭]";
			mes "................................";
			mes "我真傻...";
			next;
			mes "[柳芭芭]";
			mes "我剩下的时间都得用来赎罪了.";
			close;
		}
	}
	else {
		mes "[柳芭芭]";
		mes "................................";
		mes "我真傻...";
		next;
		mes "[柳芭芭]";
		mes "我剩下的时间都得用来赎罪了.";
		close;
	}
}

//----------------------------------------------------------------------------
// 小男孩 (柳芭芭 Info)
//----------------------------------------------------------------------------
moscovia,223,210,3	script	小男孩#rus09	4_M_RUSCHILD,{
	if (rhea_rus_main < 8) {
		mes "[小男孩]";
		mes "";
		mes "我一定会称为探险者, 娶一个比 柳芭芭还要漂亮的新娘!";
		close;
	}
	else if (rhea_rus_main == 8) {
		if (rhea_rus_ring == 2) {
			mes "[小男孩]";
			mes "你知道她吗?";
			next;
			mes "[小男孩]";
			mes "人人都认识她, 我哥哥说想娶她.";
			mes "但她对所有人都很恶劣.";
			next;
			mes "[小男孩]";
			mes "他从不给我零食, 态度又差, 我不喜欢她...";
			next;
			if (countitem(529) > 0 || countitem(538) > 0) {
				mes "[小男孩]";
				mes "你有糖果吗?";
				next;
				if(select("给他一些:不给") == 2) {
					mes "[小男孩]";
					mes "Hm! Hmph! Pish! !";
					mes "你和柳芭芭差不多!";
					close;
				}
				mes "[小男孩]";
				mes "Wow, 真的?";
				mes "你真好!";
				next;
				mes "[小男孩]";
				mes "我告诉你一些事!";
				next;
				if (countitem(529) > 0) {
					mes "[小男孩]";
					mes " 柳芭芭 喜欢礼物, 尤其是玫瑰花, 她觉得玫瑰花就代表了她.";
					delitem 529,1;
					set rhea_rus_ring,3;
					close;
				}
				else if (countitem(538) > 0) {
					mes "[小男孩]";
					mes " 柳芭芭 喜欢礼物, 尤其是玫瑰花, 她觉得玫瑰花就代表了她.";
					delitem 538,1;
					set rhea_rus_ring,3;
					close;
				}
				else {
					mes "[小男孩]";
					mes " 柳芭芭 喜欢...?";
					mes "你没糖果或者蛋糕吗, 给我一点我就告诉你?";
					close;
				}
			}else{
				mes "[小男孩]";
				mes "我最喜欢糖果和蛋糕了.";
				close;
			}
		}
		else if (rhea_rus_ring == 3) {
			mes "[小男孩]";
			mes " 柳芭芭 喜欢礼物, 尤其是玫瑰花, 她觉得玫瑰花就代表了她.";
			close;
		}
		else {
			mes "[小男孩]";
			mes "我一定会称为探险者, 娶一个比 柳芭芭还要漂亮的新娘!";
			close;
		}
	}
	else {
		mes "[小男孩]";
		mes "我一定会称为探险者, 娶一个比 柳芭芭还要漂亮的新娘!";
		close;
	}
}

//----------------------------------------------------------------------------
// 牧羊 女孩 (Wooden Flute for Red Ring)
//----------------------------------------------------------------------------
mosk_fild02,157,233,0	script	牧羊 女孩#rus10	1_F_04,{
	if (rhea_rus_main < 8) {
		mes "[牧羊 女孩]";
		mes "羊真烦!";
		next;
		mes "[牧羊 女孩]";
		mes "要是能一直听音乐就好了.";
		close;
	}
	else if (rhea_rus_main == 8) {
		if (rhea_rus_ring < 5) {
			mes "[牧羊 女孩]";
			mes "羊真烦!";
			next;
			mes "[牧羊 女孩]";
			mes "要是能一直听音乐就好了.";
			close;
		}
		else if (rhea_rus_ring == 5) {
			if(getequipid(EQI_SHOES) != 2429) {
				if(getequipid(EQI_SHOES) != 2430) {
					mes "["+ strcharinfo(0) +"]";
					mes "...Hmm, 我忘带什么了吗...?";
					close;
				}
			}
			mes "[牧羊 女孩]";
			mes "羊真烦!";
			next;
			mes "[牧羊 女孩]";
			mes "要是能一直听音乐就好了.";
			next;
			select("Excuse me...");
			mes "["+ strcharinfo(0) +"]";
			mes "你有见过一个小女孩 玛特罗什卡吗?";
			mes "他最后一次被看到朝沼泽那去了.";
			next;
			mes "[牧羊 女孩]";
			mes "我可能听说过什么不过不太确定...";
			mes "你应该自己去看看.";
			next;
			mes "[牧羊 女孩]";
			mes "好的, 你搜寻的时候可以帮我带25个尖尖的树枝吗?";
			next;
			mes "[牧羊 女孩]";
			mes "如果你带给我, 我就给你做个笛子!";
			set rhea_rus_ring,6;
			close;
		}
		else if (rhea_rus_ring == 6) {
			if (countitem(7882) > 24) {
				if(getequipid(EQI_SHOES) != 2429) {
					if(getequipid(EQI_SHOES) != 2430) {
						mes "["+ strcharinfo(0) +"]";
						mes "...Hmm, 忘带了什么吗...?";
						close;
					}
				}
				mes "[牧羊 女孩]";
				mes "你带来了!?";
				next;
				mes "[牧羊 女孩]";
				mes "我来给你做笛子!";
				next;
				mes "- 她开始制作 -";
				next;
				mes "[牧羊 女孩]";
				mes "好, 让我试试音!";
				next;
				mes "- 她闭上眼镜开始演奏 -";
				 
				next;
				mes "^ff0000我爸爸给我红戒指^000000";
				mes "^ff0000我爸爸给我红戒指^000000";
				mes "^ff0000红戒指迷惑人^000000";
				mes "^ff0000最可爱的女儿^000000";
				next;
				mes "^ff0000红戒指带来嫉妒^000000";
				mes "^ff0000红戒指带来嫉妒^000000";
				mes "^ff0000红戒指迷惑人^000000";
				mes "^ff0000女儿羡慕了s^000000";
				next;
				mes "^ff0000冰凉的手掐住我的脖子^000000";
				mes "^ff0000我的心冷了^000000";
				mes "^ff0000身体陷入冰冷的沼泽^000000";
				mes "^ff0000红戒指被拿走了^000000";
				mes "^ff0000红戒指迷惑人^000000";
				emotion 23;
				emotion 23,1;
				next;
				mes "[牧羊 女孩]";
				mes "这是什么声音?";
				next;
				mes "[牧羊 女孩]";
				mes "我还从没见过这样的, 你快拿走!";
				next;
				delitem 7882,25;
				set rhea_rus_ring,7;
				getitem 7883,1;
				close;
			}else{
				mes "[牧羊 女孩]";
				mes "我可能听说过什么不过不太确定...";
				mes "你应该自己去看看.";
				next;
				mes "[牧羊 女孩]";
				mes "好的, 你搜寻的时候可以帮我带25个尖尖的树枝吗?";
				next;
				mes "[牧羊 女孩]";
				mes "如果你带给我, 我就给你做个笛子!";
				close;
			}
		}
		else if (rhea_rus_ring > 6) {
			mes "[牧羊 女孩]";
			mes "我再也不用树枝做笛子了!";
			close;
		}
		else {
			mes "[牧羊 女孩]";
			mes "羊真烦!";
			next;
			mes "[牧羊 女孩]";
			mes "要是能一直听音乐就好了.";
			close;
		}
	}
	else {
		mes "[牧羊 女孩]";
		mes "羊真烦!";
		next;
		mes "[牧羊 女孩]";
		mes "要是能一直听音乐就好了.";
		close;
	}
}

//----------------------------------------------------------------------------
// Pointed Trees (Wooden Flute)
//----------------------------------------------------------------------------
mosk_fild02,151,188,0	script	Pointed Tree#rus11	HIDDEN_NPC,{
	if (rhea_rus_ring == 6) {
		if (countitem(7882) < 50) {
			set .@branch01,rand(1,3);
			if (.@branch01 == 2) {
				mes "- 取得一个树枝 -";
				getitem 7882,1;
				donpcevent "Pointed Tree#rus11::OnDisable";
				close;
			}else{
				mes "- 手被扎了 -";
				specialeffect2 EF_HIT2;
				percentheal -5,0;
				close;
			}
		}
	}

OnInit:
	enablenpc "Pointed Tree#rus11";
	end;

OnEnable:
	stopnpctimer;
	enablenpc "Pointed Tree#rus11";
	end;

OnDisable:
	initnpctimer;
	disablenpc "Pointed Tree#rus11";
	end;

OnTimer60000:
	donpcevent "Pointed Tree#rus11::OnEnable";
	end;
}

mosk_fild02,160,227,0	script	Pointed Tree#rus12	HIDDEN_NPC,{
	if (rhea_rus_ring == 6) {
		if (countitem(7882) < 50) {
			set .@branch01,rand(1,3);
			if (.@branch01 == 2) {
				mes "- 取得一个树枝 -";
				getitem 7882,1;
				donpcevent "Pointed Tree#rus12::OnDisable";
				close;
			}else{
				mes "- 手被扎了 -";
				specialeffect2 EF_HIT2;
				percentheal -5,0;
				close;
			}
		}
	}

OnInit:
	enablenpc "Pointed Tree#rus12";
	end;

OnEnable:
	stopnpctimer;
	enablenpc "Pointed Tree#rus12";
	end;

OnDisable:
	initnpctimer;
	disablenpc "Pointed Tree#rus12";
	end;

OnTimer60000:
	donpcevent "Pointed Tree#rus12::OnEnable";
	end;
}

mosk_fild02,160,179,0	script	Pointed Tree#rus13	HIDDEN_NPC,{
	if (rhea_rus_ring == 6) {
		if (countitem(7882) < 50) {
			set .@branch01,rand(1,3);
			if (.@branch01 == 2) {
				mes "- 取得一个树枝 -";
				getitem 7882,1;
				donpcevent "Pointed Tree#rus13::OnDisable";
				close;
			}else{
				mes "- 手被扎了 -";
				specialeffect2 EF_HIT2;
				percentheal -5,0;
				close;
			}
		}
	}

OnInit:
	enablenpc "Pointed Tree#rus13";
	end;

OnEnable:
	stopnpctimer;
	enablenpc "Pointed Tree#rus13";
	end;

OnDisable:
	initnpctimer;
	disablenpc "Pointed Tree#rus13";
	end;

OnTimer60000:
	donpcevent "Pointed Tree#rus13::OnEnable";
	end;
}

mosk_fild02,142,247,0	script	Pointed Tree#rus14	HIDDEN_NPC,{
	if (rhea_rus_ring == 6) {
		if (countitem(7882) < 50) {
			set .@branch01,rand(1,3);
			if (.@branch01 == 2) {
				mes "- 取得一个树枝 -";
				getitem 7882,1;
				donpcevent "Pointed Tree#rus14::OnDisable";
				close;
			}else{
				mes "- 手被扎了 -";
				specialeffect2 EF_HIT2;
				percentheal -5,0;
				close;
			}
		}
	}

OnInit:
	enablenpc "Pointed Tree#rus14";
	end;

OnEnable:
	stopnpctimer;
	enablenpc "Pointed Tree#rus14";
	end;

OnDisable:
	initnpctimer;
	disablenpc "Pointed Tree#rus14";
	end;

OnTimer60000:
	donpcevent "Pointed Tree#rus14::OnEnable";
	end;
}

mosk_fild02,149,223,0	script	Pointed Tree#rus15	HIDDEN_NPC,{
	if (rhea_rus_ring == 6) {
		if (countitem(7882) < 50) {
			set .@branch01,rand(1,3);
			if (.@branch01 == 2) {
				mes "- 取得一个树枝 -";
				getitem 7882,1;
				donpcevent "Pointed Tree#rus15::OnDisable";
				close;
			}else{
				mes "- 手被扎了 -";
				specialeffect2 EF_HIT2;
				percentheal -5,0;
				close;
			}
		}
	}

OnInit:
	enablenpc "Pointed Tree#rus15";
	end;

OnEnable:
	stopnpctimer;
	enablenpc "Pointed Tree#rus15";
	end;

OnDisable:
	initnpctimer;
	disablenpc "Pointed Tree#rus15";
	end;

OnTimer60000:
	donpcevent "Pointed Tree#rus15::OnEnable";
	end;
}

mosk_fild02,114,223,0	script	Pointed Tree#rus16	HIDDEN_NPC,{
	if (rhea_rus_ring == 6) {
		if (countitem(7882) < 50) {
			set .@branch01,rand(1,3);
			if (.@branch01 == 2) {
				mes "- 取得一个树枝 -";
				getitem 7882,1;
				donpcevent "Pointed Tree#rus16::OnDisable";
				close;
			}else{
				mes "- 手被扎了 -";
				specialeffect2 EF_HIT2;
				percentheal -5,0;
				close;
			}
		}
	}

OnInit:
	enablenpc "Pointed Tree#rus16";
	end;

OnEnable:
	stopnpctimer;
	enablenpc "Pointed Tree#rus16";
	end;

OnDisable:
	initnpctimer;
	disablenpc "Pointed Tree#rus16";
	end;

OnTimer60000:
	donpcevent "Pointed Tree#rus16::OnEnable";
	end;
}

mosk_fild02,101,197,0	script	Pointed Tree#rus17	HIDDEN_NPC,{
	if (rhea_rus_ring == 6) {
		if (countitem(7882) < 50) {
			set .@branch01,rand(1,3);
			if (.@branch01 == 2) {
				mes "- 取得一个树枝 -";
				getitem 7882,1;
				donpcevent "Pointed Tree#rus17::OnDisable";
				close;
			}else{
				mes "- 手被扎了 -";
				specialeffect2 EF_HIT2;
				percentheal -5,0;
				close;
			}
		}
	}

OnInit:
	enablenpc "Pointed Tree#rus17";
	end;

OnEnable:
	stopnpctimer;
	enablenpc "Pointed Tree#rus17";
	end;

OnDisable:
	initnpctimer;
	disablenpc "Pointed Tree#rus17";
	end;

OnTimer60000:
	donpcevent "Pointed Tree#rus17::OnEnable";
	end;
}

mosk_fild02,125,182,0	script	Pointed Tree#rus18	HIDDEN_NPC,{
	if (rhea_rus_ring == 6) {
		if (countitem(7882) < 50) {
			set .@branch01,rand(1,3);
			if (.@branch01 == 2) {
				mes "- 取得一个树枝 -";
				getitem 7882,1;
				donpcevent "Pointed Tree#rus18::OnDisable";
				close;
			}else{
				mes "- 手被扎了 -";
				specialeffect2 EF_HIT2;
				percentheal -5,0;
				close;
			}
		}
	}

OnInit:
	enablenpc "Pointed Tree#rus18";
	end;

OnEnable:
	stopnpctimer;
	enablenpc "Pointed Tree#rus18";
	end;

OnDisable:
	initnpctimer;
	disablenpc "Pointed Tree#rus18";
	end;

OnTimer60000:
	donpcevent "Pointed Tree#rus18::OnEnable";
	end;
}

//----------------------------------------------------------------------------
// 伤心的阿姨 (卢莎卡's Hair)
//----------------------------------------------------------------------------
moscovia,166,145,1	script	伤心的阿姨#rus19	4_F_RUSWOMAN3,{
	if (rhea_rus_main < 8) {
		mes "[伤心的阿姨]";
		mes "她去哪了...";
		next;
		mes "[伤心的阿姨]";
		mes "你听说过结婚前掉进沼泽淹死会变成水精灵的故事吗?";
		next;
		mes "[伤心的阿姨]";
		mes "我女儿几天前失踪了, 我很担心...";
		close;
	}
	else if (rhea_rus_main == 8) {
		if (rhea_rus_hair < 1) {
			if(getequipid(EQI_SHOES) != 2429) {
				if(getequipid(EQI_SHOES) != 2430) {
					mes "["+ strcharinfo(0) +"]";
					mes "...Hmm, 我是不是忘带什么了...?";
					close;
				}
			}
			mes "[伤心的阿姨]";
			mes "她去哪了...";
		next;
		mes "[伤心的阿姨]";
		mes "你听说过结婚前掉进沼泽淹死会变成水精灵的故事吗?";
		next;
		mes "[伤心的阿姨]";
		mes "我女儿几天前失踪了, 我很担心...";
			next;
			mes "[伤心的阿姨]";
			mes "你去沼泽了吗, 有见到我女儿吗, 即使她变成了水精灵, 我也要知道她在哪.";
			next;
			if(select("让她冷静.:我会找到她的.") == 1) {
				mes "["+ strcharinfo(0) +"]";
				mes "她会回来的.";
				next;
				mes "[伤心的阿姨]";
				mes "希望是真的.";
				close;
			}
			mes "[伤心的阿姨]";
			mes "真的吗?";
			next;
			mes "[伤心的阿姨]";
			mes "我试着找她, 但是怪物太多了.";
			next;
			mes "[伤心的阿姨]";
			mes "求求你找找我女儿.";
			set rhea_rus_hair,1;
			close;
		}
		else if (rhea_rus_hair == 1) {
			mes "[伤心的阿姨]";
			mes "你得知道一些事.";
			next;
			mes "[伤心的阿姨]";
			mes "如果我女儿变成水精灵了, 你得知道.";
			next;
			mes "[伤心的阿姨]";
			mes "我女儿是个好精灵, 但是如果你和她对视的话还是会被伤害的.";
			next;
			mes "[伤心的阿姨]";
			mes "你必须带着圣水就没事了.";
			next;
			mes "[伤心的阿姨]";
			mes "去的时间必须在晚上11点后到凌晨5点间.";
			next;
			mes "[伤心的阿姨]";
			mes "记清楚了.";
			set rhea_rus_hair,2;
			close;
		}
		else if (rhea_rus_hair > 1 && rhea_rus_hair < 9) {
			mes "[伤心的阿姨]";
			mes "我女儿是个好精灵, 但是如果你和她对视的话还是会被伤害的.";
			next;
			mes "[伤心的阿姨]";
			mes "你必须带着圣水就没事了.";
			next;
			mes "[伤心的阿姨]";
			mes "去的时间必须在晚上11点后到凌晨5点间.";
			next;
			mes "[伤心的阿姨]";
			mes "记清楚了.";
			close;
		}
		else {
			mes "[伤心的阿姨]";
			mes "我什么也做不了.";
			next;
			mes "[伤心的阿姨]";
			mes "感觉我失去了什么东西...";
			close;
		}
	}
	else {
		mes "[伤心的阿姨]";
		mes "我什么也做不了.";
			next;
			mes "[伤心的阿姨]";
			mes "感觉我失去了什么东西...";
		close;
	}
}

//----------------------------------------------------------------------------
// Marsh Warning Signs
//----------------------------------------------------------------------------
-	script	Caution#07rus::NoSwim	2_BULLETIN_BOARD,{
	mes " 警告 !! ";
	mes "禁止裸泳, 违者??00";
	close;
}
mosk_fild02,101,204,0	duplicate(NoSwim)	Caution#rus01	2_BULLETIN_BOARD
mosk_fild02,101,200,0	duplicate(NoSwim)	Caution#rus02	2_BULLETIN_BOARD

//----------------------------------------------------------------------------
// 卢莎卡 Trigger (卢莎卡's Hair)
//----------------------------------------------------------------------------
mosk_fild02,116,202,3	script	卢莎卡#07russai_22	-1,3,3,{
	end;

OnTouch:
	if (rhea_rus_main < 8) {
		emotion 1,1;
		close;
	}
	else if (rhea_rus_main == 8) {
		if (rhea_rus_hair < 2) {
			emotion 1,1;
			close;
		}
		else if (rhea_rus_hair == 2) {
			if (gettime(3)>=23 || gettime(3)<=5) {
				mes "- Splash !! -";
				next;
				if (countitem(523) > 0) {
					mes "- 你听到了什么声音, 看到了闪闪发光的东西 -";
					 
					donpcevent "卢莎卡#rus23::OnEnable";
					close;
				}else{
					mes "- 你听到了什么声音, 看到了闪闪发光的东西 -";
					mes "- 似乎在凝视着你!! -";
					next;
					specialeffect2 EF_FLASHER;
					percentheal -100,0;
					close;
				}
			}else{
				emotion 1,1;
				close;
			}
		}
		else if (rhea_rus_hair > 2 && rhea_rus_hair < 7) {
			mes "[卢莎卡的声音]";
			mes "他叫伊戈尔, 他去了首都普隆德拉, 把我的金耳环给他.";
			next;
			mes "[卢莎卡的声音]";
			mes "告诉他不要难过.";
			close;
		}
		else if (rhea_rus_hair == 7) {
			if (gettime(3)>=23 || gettime(3)<=5) {
				mes "- Splash !! -";
				next;
				if (countitem(523) > 0) {
					mes "-你听到了什么声音, 看到了闪闪发光的东西-";
					donpcevent "卢莎卡#rus23::OnEnable";
					close;
				}else{
					mes "-你听到了什么声音, 突然受到了攻击!!-";
					specialeffect2 EF_FLASHER;
					percentheal -100,0;
					close;
				}
			}else{
				emotion 1,1;
				close;
			}
		}
		else if (rhea_rus_hair == 8) {
			mes "["+ strcharinfo(0) +"]";
			mes "什么?!";
			mes "我怎么在这?";
			next;
			mes "- 站起来后, 你看到了湿漉的头发 -";
			next;
			mes "["+ strcharinfo(0) +"]";
			mes "...这是, 卢莎卡的头发?";
			mes "对了, 我来这就是为了头发.";
			next;
			mes "- 你拾起头发 -";
			next;
			mes "- 你碰到头发时, 似乎感觉到了悲伤 -";
			set rhea_rus_hair,9;
			getitem 7878,2;
			close;
		}
		else if (rhea_rus_hair > 8) {
			mes "- 你觉得有人在看着你 -";
			next;
			mes "["+ strcharinfo(0) +"]";
			mes "谁在那?";
			next;
			mes "- 声音远去... -";
			close;
		}
		else {
			emotion 1,1;
			close;
		}
	}
	else {
		emotion 1,1;
		close;
	}
}

//----------------------------------------------------------------------------
// 卢莎卡 (卢莎卡's Hair)
//----------------------------------------------------------------------------
mosk_fild02,124,202,3	script	卢莎卡#rus23	4_F_RUSGREEN,{
	if (countitem(523) > 0) {
		if (rhea_rus_main < 8) {
			mes "[卢莎卡]";
			mes "...你还活着...";
			mes "我的凝视没有...";
			mes "你在这干什么...?";
			close;
		}
		else if (rhea_rus_main == 8) {
			if (rhea_rus_hair < 2) {
				mes "...你还活着...";
			mes "我的凝视没有...";
			mes "你在这干什么...?";
				close;
			}
			else if (rhea_rus_hair == 2) {
				if(getequipid(EQI_SHOES) != 2429) {
					if(getequipid(EQI_SHOES) != 2430) {
						mes "["+ strcharinfo(0) +"]";
						mes "...是不是带了穿什么...?";
						close;
					}
				}
				mes "...你还活着...";
				mes "我的凝视没有...";
				mes "你在这干什么...?";
				next;
				mes "[卢莎卡]";
				mes "水精灵的夜晚.";
				mes "如果你没带圣水, 被水精灵凝视是会死的.";
				next;
				select("我是个探险者...");
				mes "[卢莎卡]";
				mes "...探险者...?";
				mes "你从哪来...?";
				next;
				mes "["+ strcharinfo(0) +"]";
				mes "我从首都来.";
				next;
				mes "[卢莎卡]";
				mes "...首都...";
				mes "几天前我也不知道怎么回事就变成水精灵了, 你可以帮我找到我爱人吗, 告诉他我没事, 叫他别伤心了...";
				next;
				mes "["+ strcharinfo(0) +"]";
				mes "在哪能找到他?";
				next;
				mes "[卢莎卡]";
				mes "那天晚上我看他去首都了, 也不知道还在不在那...";
				next;
				if(select("好的:我办不到...") == 2) {
					mes "["+ strcharinfo(0) +"]";
					mes "我的国家太大了, 我找不到他的.";
					next;
					mes "["+ strcharinfo(0) +"]";
					mes "放弃吧.";
					next;
					mes "[卢莎卡]";
					mes "但是...";
					emotion 28;
					donpcevent "卢莎卡#rus23::OnDisable";
					close;
				}
				mes "[卢莎卡]";
				mes "谢谢你, 他叫伊戈尔, 把我的金耳环给他吧, 这是他送我的礼物.";
				next;
				mes "- ^0000ff收下了金耳环^000000 -";
				 
				set rhea_rus_hair,3;
				donpcevent "卢莎卡#rus23::OnDisable";
				close;
			}
			else if (rhea_rus_hair > 2 && rhea_rus_hair < 7) {
				mes "[卢莎卡]";
				mes "谢谢你, 他叫伊戈尔, 把我的金耳环给他吧, 这是他送我的礼物.";
				next;
				mes "[卢莎卡]";
				mes "告诉他别担心, 这是我最后的愿望了.";
				close;
			}
			else if (rhea_rus_hair == 7) {
				if(getequipid(EQI_SHOES) != 2429) {
					if(getequipid(EQI_SHOES) != 2430) {
						mes "["+ strcharinfo(0) +"]";
						mes "...Hmm, 是忘带什么了吗...?";
						close;
					}
				}
				mes "[卢莎卡]";
				mes "见到他了吗  他还好吗?";
				next;
				mes "["+ strcharinfo(0) +"]";
				mes "这是他的一封信.";
				mes "他说他依然爱着你.";
				next;
				mes "["+ strcharinfo(0) +"]";
				mes "他说等到满月的时候 他回来找你, 不再让你悲伤.";
				next;
				mes "[卢莎卡]";
				mes "伊戈尔...";
				next;
				mes "[卢莎卡]";
				mes "谢谢你, 我怎么报答你呢.";
				next;
				mes "["+ strcharinfo(0) +"]";
				mes "我要你的头发?";
				next;
				mes "[卢莎卡]";
				mes "头发?.";
				next;
				mes "["+ strcharinfo(0) +"]";
				mes "是的, 我要2根!!";
				next;
				mes "[卢莎卡]";
				mes "...好的, 这就给你.";
				next;
				next;
				mes "- 卢莎卡割下了一点头发 -";
				next;
				mes "[卢莎卡]";
				mes "给你, 我的头发...?!";
				mes "Aaaaaaaah!??!?!";
				sc_start SC_CURSE,60000,0;
				specialeffect2 EF_LORD;
				emotion ET_HUK,1;
				percentheal -30,0;
				next;
				mes "["+ strcharinfo(0) +"]";
				mes "谁在那!?";
				next;
				mes "[不知名的声音]";
				mes "不要以为你成功把我封印了, 你个傻子!";
				mes "你阻止不了我的!!!";
				mes "哈哈哈哈!!!";
				next;
				mes "["+ strcharinfo(0) +"]";
				mes "你是谁!!";
				sc_start SC_BLIND,10000,0;
				set rhea_rus_hair,8;
				donpcevent "卢莎卡#rus23::OnDisable";
				close;
			}
			else if (rhea_rus_hair > 7) {
				mes "["+ strcharinfo(0) +"]";
				mes "...?!你是什么?沼泽幽灵?";
				next;
				mes "[卢莎卡]";
				mes "..........................";
				next;
				mes "- 那个绿色的东西, 悲伤的看着你似乎想说什么, 但是马上又闭上了嘴-";
				close;
			}
			else {
				mes "["+ strcharinfo(0) +"]";
				mes "...?!你是什么?沼泽幽灵?";
				next;
				mes "[卢莎卡]";
				mes "..........................";
				next;
				mes "- 那个绿色的东西, 悲伤的看着你似乎想说什么, 但是马上又闭上了嘴-";
				close;
			}
		}
		else {
			end;
		}
	}else{
		mes "-卢莎卡看你时, 你昏倒了-";
		specialeffect2 EF_FLASHER;
		percentheal -100,0;
		donpcevent "卢莎卡#rus23::OnDisable";
		close;
	}

OnInit:
	disablenpc "卢莎卡#rus23";
	end;

OnEnable:
	initnpctimer;
	enablenpc "卢莎卡#rus23";
	end;

OnDisable:
	stopnpctimer;
	disablenpc "卢莎卡#rus23";
	end;

OnTimer300000:
	stopnpctimer;
	donpcevent "卢莎卡#rus23::OnDisable";
	end;
}

//----------------------------------------------------------------------------
// Wanderer (卢莎卡's Hair)
//----------------------------------------------------------------------------
prontera,228,279,3	script	流浪汉#rus24	4_M_RUSMAN2,{
	if (rhea_rus_main < 8) {
		mes "[一个外国来的 流浪汉]";
		mes "这里的探险者真多啊, 我知道为什么这里是首都了!";
		next;
		mes "[一个外国来的 流浪汉]";
		mes "有空就来找我吧, 这里的气候真好, 比我家乡都好!";
		close;
	}
	else if (rhea_rus_main == 8) {
		if (rhea_rus_hair < 3) {
			mes "[一个外国来的 流浪汉]";
			mes "这里的探险者真多啊, 我知道为什么这里是首都了!";
			next;
			mes "[一个外国来的 流浪汉]";
			mes "有空就来找我吧, 这里的气候真好, 比我家乡都好!";
			close;
		}
		else if (rhea_rus_hair == 3) {
			if(getequipid(EQI_SHOES) != 2429) {
				if(getequipid(EQI_SHOES) != 2430) {
					mes "["+ strcharinfo(0) +"]";
					mes "...Hmm, did I forget to wear something...?";
					close;
				}
			}
			mes "[一个外国来的 流浪汉]";
			mes "这里的探险者真多啊, 我知道为什么这里是首都了!";
			next;
			mes "[一个外国来的 流浪汉]";
			mes "有空就来找我吧, 这里的气候真好, 比我家乡都好!";
			next;
			mes "["+ strcharinfo(0) +"]";
			mes "家乡?";
			mes "你是来自莫斯科吗?";
			next;
			mes "[一个外国来的 流浪汉]";
			mes "你怎么知道的?";
			mes "你也去过吗?";
			next;
			mes "["+ strcharinfo(0) +"]";
			mes "是的...";
			mes "请问, 你是不是伊戈尔.....";
			next;
			
			
			mes "[一个外国来的 流浪汉]";
			mes "不是的, 他似乎去梦洛克了";
			set rhea_rus_hair,4;
			close;
		}
		else if (rhea_rus_hair > 3 && rhea_rus_hair < 7) {
			mes "[一个外国来的 流浪汉]";
			mes "你去梦洛克可能可以找到他.";
			close;
		}
		else {
			mes "[一个外国来的 流浪汉]";
			mes "我该去哪呢?";
			close;
		}
	}
	else {
		mes "[一个外国来的 流浪汉]";
		mes "我该去哪呢.";
		close;
	}
}

//----------------------------------------------------------------------------
// 梦罗克村民 (卢莎卡's Hair)
//----------------------------------------------------------------------------
morocc,165,82,0	script	梦罗克村民#rus25	1_M_02,{
	if (rhea_rus_main < 8) {
		mes "[梦罗克村民]";
		mes "啊越来越多的探险者来这了, 都快分不清谁是本地人谁是探险者了.";
		next;
		mes "[梦罗克村民]";
		mes "但是像我这样的本地人还是可以分的清的.";
		close;
	}
	else if (rhea_rus_main == 8) {
		if (rhea_rus_hair < 4) {
			mes "[梦罗克村民]";
			mes "啊越来越多的探险者来这了, 都快分不清谁是本地人谁是探险者了.";
			next;
			mes "[梦罗克村民]";
			mes "但是像我这样的本地人还是可以分的清的.";
			close;
		}
		else if (rhea_rus_hair == 4) {
			if(getequipid(EQI_SHOES) != 2429) {
				if(getequipid(EQI_SHOES) != 2430) {
					mes "["+ strcharinfo(0) +"]";
					mes "...Hmm, did I forget to wear something...?";
					close;
				}
			}
			mes "[梦罗克村民]";
			mes "啊越来越多的探险者来这了, 都快分不清谁是本地人谁是探险者了.";
			next;
			mes "[梦罗克村民]";
			mes "但是像我这样的本地人还是可以分的清的.";
			 
			next;
			mes "["+ strcharinfo(0) +"]";
			mes "................................";
			mes "我在寻找一个来自莫斯科的男子.";
			next;
			mes "[梦罗克村民]";
			mes "你说那个穿着怪异的人吗, 他好像去金字塔了, 你去找找看吧.";
			 
			set rhea_rus_hair,5;
			close;
		}
		else if (rhea_rus_hair > 4 && rhea_rus_hair < 7) {
			mes "[梦罗克村民]";
			mes "你说那个穿着怪异的人吗, 他好像去金字塔了, 你去找找看吧.";
			close;
		}
		else {
			mes "[梦罗克村民]";
			mes "这么多旅行者在这, 我都觉得我好像也周游了全世界?";
			close;
		}
	}
	else {
		mes "[梦罗克村民]";
		mes "这么多旅行者在这, 我都觉得我好像也周游了全世界?";
		close;
	}
}

//----------------------------------------------------------------------------
// Soldier/Igor (卢莎卡's Hair)
//----------------------------------------------------------------------------
moc_pryd04,126,120,0	script	士兵#rus26	4_M_RUSMAN1,{
	if (rhea_rus_main < 8) {
		mes "[一个看起来很犹豫的士兵]";
		mes "............................";
		close;
	}
	else if (rhea_rus_main == 8) {
		if (rhea_rus_hair < 5) {
			mes "[一个看起来很犹豫的士兵]";
			mes "............................";
			close;
		}
		else if (rhea_rus_hair == 4 || rhea_rus_hair == 5) {
			if(getequipid(EQI_SHOES) != 2429) {
				if(getequipid(EQI_SHOES) != 2430) {
					mes "["+ strcharinfo(0) +"]";
					mes "...是不是带了穿什么...?";
					close;
				}
			}
			
			mes "["+ strcharinfo(0) +"]";
			mes "你是伊戈尔吧.";
			next;
			mes "[一个看起来很犹豫的士兵]";
			mes "你是谁.";
			next;
			mes "["+ strcharinfo(0) +"]";
			mes "你的爱人卢莎卡叫我转告你, 他变成了水精灵, 叫你不要担心, 同时叫我把金耳环转交给你";
			next;
			mes "["+ strcharinfo(0) +"]";
			mes "你有什么想说的吗?";
			next;
			mes "[一个看起来很犹豫的士兵]";
			mes "我的爱人...?";
			next;
			 
			 
			next;
			mes "-伊戈尔表达了对爱人的思念之情-";
			mes "-收下了金耳环-";
			mes "[一个看起来很犹豫的士兵]";
			mes "请你转告她, 我依然爱着她, 等到月圆之夜我会去找她的.";
			set rhea_rus_hair,6;
			close;
		}
		else if (rhea_rus_hair == 6) {
			if(getequipid(EQI_SHOES) != 2429) {
				if(getequipid(EQI_SHOES) != 2430) {
					mes "["+ strcharinfo(0) +"]";
					mes "...是不是忘带什么了...?";
					close;
				}
			}
			mes "[一个看起来很犹豫的士兵]";
			mes "请你转告她, 我依然爱着她, 等到月圆之夜我会去找他的.";
			set rhea_rus_hair,7;
			close;
		}
		else if (rhea_rus_hair == 7) {
			mes "[一个看起来很犹豫的士兵]";
			mes "请你转告她, 我依然爱着她, 等到月圆之夜我会去找他的.";
			close;
		}
		else if (rhea_rus_main > 7) {
			mes "[一个看起来很犹豫的士兵]";
			mes "... 我感觉我丢失了什么似的.";
			next;
			mes "- 他摩挲着金耳环, 想着什么 -";
			close;
		}
		else {
			mes "[一个看起来很犹豫的士兵]";
			mes "... 我感觉我丢失了什么似的.";
			next;
			mes "- 他摩挲着金耳环, 想着什么 -";
			close;
		}
	}
	else {
		mes "[一个看起来很犹豫的士兵]";
		mes "... 我感觉我丢失了什么似的.";
			next;
			mes "- 他摩挲着金耳环, 想着什么 -";
		close;
	}
}

//----------------------------------------------------------------------------
// 马洛兹卡's Dungeon (Golden Thread)
//----------------------------------------------------------------------------
mosk_dun01,45,250,3	script	1#rus27	WARPNPC,3,3,{
	end;

OnTouch:
	warp "mosk_que",49,22;
	end;

OnInit:
	disablenpc "1#rus27";
	end;

OnEnable:
	initnpctimer;
	specialeffect EF_PORTAL2;
	enablenpc "1#rus27";
	end;

OnDisable:
	stopnpctimer;
	disablenpc "1#rus27";
	end;

OnTimer30000:
	stopnpctimer;
	donpcevent "1#rus27::OnDisable";
	end;
}

mosk_que,0,0,0,0	monster	Freezer	1887,10,20000,0,0
mosk_que,0,0,0,0	monster	Hatii Baby	1888,3,300000,0,0
mosk_que,0,0,0,0	monster	Sasquatch	1243,15,10000,0,0

mosk_que,49,22,3	script	#rus27	-1,3,3,{
	end;

OnTouch:
	if (rhea_rus_main < 8) {
		emotion ET_QUESTION,1;
		close;
	}
	else if (rhea_rus_main == 8) {
		if (rhea_rus_quiz < 1) {
			mes "[不知名的声音]";
			mes "是谁, 居然敢进入我的洞穴!";
			next;
			mes "["+ strcharinfo(0) +"]";
			mes "你是马洛兹卡吗, 玛丽亚叫我来取金线, 帮他解除封印!";
			next;
			mes "[不知名的声音]";
			mes "你得通过考验才可以.";
			mes "如果你从洞穴里给我找来100个可口派和100个苹果我就给你金线?";
			set rhea_rus_quiz,1;
			close;
		}
	}
	else {
		emotion ET_QUESTION,1;
		close;
	}
}

mosk_que,45,131,0	script	Stone Furnace#rus28	HIDDEN_NPC,{
	if (rhea_rus_main < 8) {
		emotion ET_QUESTION,1;
		close;
	}
	else if (rhea_rus_main == 8) {
		if (rhea_rus_quiz == 1) {
			if(getequipid(EQI_SHOES) != 2429) {
				if(getequipid(EQI_SHOES) != 2430) {
					mes "["+ strcharinfo(0) +"]";
					mes "...是不是忘带什么了...?";
					close;
				}
			}
			mes "- 你可以看到可口派, 小心别被烫伤了 -";
			next;
			set .@rus_pie01,rand(1,3);
			if (.@rus_pie01 == 2) {
				mes "- 你快速的拿出可口派 -";
				next;
				mes "- ^0000ff你得到了100个可口派^000000 -";
				next;
			}else{
				mes "- 你快速的拿出可口派 -";
				next;
				mes "["+ strcharinfo(0) +"]";
				mes "啊, 真烫!!!";
				specialeffect2 EF_FIREHIT;
				emotion 23,1;
				percentheal -5,0;
				close;
			}
			if ($@rus_req01 == 0) {
				mes "[马洛兹卡's Guard]";
				mes "这个小偷怎么进来的?!";
				announce "守卫 : 来人啊, 搜索洞穴!!",bc_map,0x87CEEB;
				set rhea_rus_quiz,2;
				initnpctimer;
				monster "mosk_que",49,156,"守卫",1889,1,"Stone Furnace#rus28::OnMyMobDead";
				set $@rus_req01,1;
				close;
			}else{
				mes "[马洛兹卡's Guard]";
				mes "这个小偷怎么进来的?!";
				announce "守卫 : 来人啊, 搜索洞穴!!",bc_map,0x87CEEB;
				set rhea_rus_quiz,2;
				close;
			}
		}
	}
	else {
		emotion 1,1;
		close;
	}

OnInit:
	set $@rus_req01,0;
	end;

OnMyMobDead:
	stopnpctimer;
	set $@rus_req01,0;
	announce "马洛兹卡: 你是个真正的勇者, 等你得到可口派和苹果了就来找我吧.",bc_map,0x87CEEB;
	end;

OnTimer300000:
	set $@rus_req01,0;
	killmonster "mosk_que","Stone Furnace#rus28::OnMyMobDead";
	end;
}

mosk_que,56,202,0	script	Occult Apple Tree#rus29	HIDDEN_NPC,{
	if (rhea_rus_main < 8) {
		emotion ET_QUESTION,1;
		close;
	}
	else if (rhea_rus_main == 8) {
		if (rhea_rus_quiz == 2) {
			if(getequipid(EQI_SHOES) != 2429) {
				if(getequipid(EQI_SHOES) != 2430) {
					mes "["+ strcharinfo(0) +"]";
					mes "...是不是忘带什么了...?";
					close;
				}
			}
			mes "- 有很多苹果 -";
			mes "- 是不是有点太高了 -";
			next;
			set .@rus_apple01,rand(1,5);
			if (.@rus_apple01 == 2) {
				mes "- 你慢慢的摇晃树, 苹果掉下来了 -";
				next;
			}else{
				mes "- 你慢慢的摇晃树, 苹果掉下来了 -";
				next;
				mes "["+ strcharinfo(0) +"]";
				mes "Ahhhhhhhh!!!";
				emotion ET_HUK,1;
				close;
			}
			mes "- ^0000ff 你得到了100个苹果!!^000000 -";
			announce "马洛兹卡: 你是个真正的勇者, 等你得到可口派和苹果了就来找我吧.",bc_map,0x87CEEB;
			set rhea_rus_quiz,3;
			close;
		}
	}
	else {
		emotion ET_QUESTION,1;
		close;
	}
}

mosk_que,47,217,0	warp	Escape#rus30	1,1,mosk_fild02,237,266

//----------------------------------------------------------------------------
// 马洛兹卡 (Golden Thread)
//----------------------------------------------------------------------------
mosk_fild02,243,270,0	script	马洛兹卡#rus31	4_M_LGTGRAND,{
	if (rhea_rus_main < 8) {
		mes "[马洛兹卡]";
		mes "...........................";
		close;
	}
	else if (rhea_rus_main == 8) {
		if (rhea_rus_quiz < 3) {
			mes "[马洛兹卡]";
			mes "...........................";
			close;
		}
		else if (rhea_rus_quiz == 3) {
			if(getequipid(EQI_SHOES) != 2429) {
				if(getequipid(EQI_SHOES) != 2430) {
					mes "["+ strcharinfo(0) +"]";
					mes "...是不是忘带什么了...?";
					close;
				}
			}
			mes "[马洛兹卡]";
			mes ".....................你来了.";
			next;
			mes "["+ strcharinfo(0) +"]";
			mes "我带来了你要的东西, 可以给我金线了吧?";
			next;
			mes "-你把东西交给了他 -";
			next;
			mes "你也知道, 做金线要很久, 1小时候再来吧?";
			set rhea_rus_quiz,4;
			set rus_time01,gettime(3);
			set rus_time02,gettime(4);
			close;
		}
		else if (rhea_rus_quiz == 4) {
			if (rus_time01 < gettime(3) || rus_time02 < gettime(4) || (rus_time02 == 6 && gettime(4) == 0)) {
				mes "[马洛兹卡]";
				mes "再等一会就好了.";
				set rhea_rus_quiz,28;
				close;
			}else{
				mes "[马洛兹卡]";
				mes "你也知道, 做金线要很久, 1小时候再来吧?";
				close;
			}
		}
		else if (rhea_rus_quiz == 28) {
			mes "[马洛兹卡]";
			mes "金线做好了, 你真的要去和青冠龙战斗吗.你如果通过下面的测试, 我就给你金线.";
			set rhea_rus_quiz,29;
			close;
		}
		else if (rhea_rus_quiz == 29) {
			if(getequipid(EQI_SHOES) != 2429) {
				if(getequipid(EQI_SHOES) != 2430) {
					mes "["+ strcharinfo(0) +"]";
					mes "...忘带什么了吗...?";
					close;
				}
			}
			mes "[马洛兹卡]";
			mes "...你决定了吗?";
			next;
			if(select("再等等...:好吧来吧!") == 1) {
				mes "[马洛兹卡]";
				mes "等你准备好再来吧.";
				close;
			}
			mes "[马洛兹卡]";
			mes "你必须回答对所有的问题.";
			next;
			set .@rus_quiz01,0;
			mes "[马洛兹卡]";
			mes "什么东西又聋又哑又瞎又不会说谎?";
			next;
			switch(select("波利:A 蒙Cow:A 镜子:A 树")) {
			case 1:
				set .@rus_quiz01,.@rus_quiz01;
				break;
			case 2:
				set .@rus_quiz01,.@rus_quiz01;
				break;
			case 3:
				set .@rus_quiz01,.@rus_quiz01+1;
				break;
			case 4:
				set .@rus_quiz01,.@rus_quiz01;
			}
			mes "[马洛兹卡]";
			mes "如果4只猫抓4只老鼠要4分钟, 10分钟抓10只老鼠要几只猫?";
			next;
			switch(select("4:5:6:10")) {
			case 1:
				set .@rus_quiz01,.@rus_quiz01+1;
				break;
			case 2:
				set .@rus_quiz01,.@rus_quiz01;
				break;
			case 3:
				set .@rus_quiz01,.@rus_quiz01;
				break;
			case 4:
				set .@rus_quiz01,.@rus_quiz01;
			}
			mes "[马洛兹卡]";
			mes "什么东西在冬天很短, 夏天很长?";
			next;
			switch(select("天空:白天:波浪:风")) {
			case 1:
				set .@rus_quiz01,.@rus_quiz01;
				break;
			case 2:
				set .@rus_quiz01,.@rus_quiz01+1;
				break;
			case 3:
				set .@rus_quiz01,.@rus_quiz01;
				break;
			case 4:
				set .@rus_quiz01,.@rus_quiz01;
			}
			mes "[马洛兹卡]";
			mes "多丽丝有着一个红鼻子, 他站的时间越长, 身体就会越短, 她是什么?";
			next;
			switch(select("星星:蜡烛:剑:月亮")) {
			case 1:
				set .@rus_quiz01,.@rus_quiz01;
				break;
			case 2:
				set .@rus_quiz01,.@rus_quiz01+1;
				break;
			case 3:
				set .@rus_quiz01,.@rus_quiz01;
				break;
			case 4:
				set .@rus_quiz01,.@rus_quiz01;
			}
			mes "[马洛兹卡]";
			mes "我的头和脚长的一样, 如果一直站那, 就会跑的很快, 我是什么?";
			next;
			switch(select("女人:巴基力:月亮:沙漏")) {
			case 1:
				set .@rus_quiz01,.@rus_quiz01;
				break;
			case 2:
				set .@rus_quiz01,.@rus_quiz01;
				break;
			case 3:
				set .@rus_quiz01,.@rus_quiz01;
				break;
			case 4:
				set .@rus_quiz01,.@rus_quiz01+1;
			}
			mes "[马洛兹卡]";
			mes "我们来看看.";
			next;
			if (.@rus_quiz01 > 4) {
				mes "[马洛兹卡]";
				mes "全答对了.";
				next;
			}else{
				mes "[马洛兹卡]";
				mes "我和你说了, 你不答对所有问题, 我是不会给你金线的.";
				next;
				mes "[马洛兹卡]";
				mes "再试试吧.";
				close;
			}
			mes "[马洛兹卡]";
			mes "你真聪明.";
			next;
			mes "[马洛兹卡]";
			mes "希望你能帮助玛丽亚.";
			set rhea_rus_quiz,30;
			getitem 7879,10;
			close;
		}
		else {
			mes "[马洛兹卡]";
			mes "...............................";
			next;
			mes "- 他闭着眼睛 -";
			close;
		}
	}
	else {
		mes "[马洛兹卡]";
		mes "...............................";
		next;
		mes "- 他闭着眼睛 -";
		close;
	}
}

//----------------------------------------------------------------------------
// 芭芭 亚拉 (Golden Key)
//----------------------------------------------------------------------------
mosk_dun02,48,214,5	script	芭芭 亚拉#rus32	4_F_BABAYAGA,{
	if (rhea_rus_main < 9) {
		mes "[芭芭 亚拉]";
		mes "...........................";
		mes "如果你再在周围乱逛, 我就要做点人肉汤了! Hehehehehe.";
		emotion 29;
		emotion 23,1;
		close;
	}
	else if (rhea_rus_main == 9) {
		mes "[芭芭 亚拉]";
		mes "如果你再在周围乱逛, 我就要做点人肉汤了! Hehehehehe.";
		next;
		mes "["+ strcharinfo(0) +"]";
		mes "啊.我..黄金....";
		next;
		mes "[芭芭 亚拉]";
		mes "你在说什么呢?";
		mes "你想我把你变成兽人吗?!";
		next;
		mes "[芭芭 亚拉]";
		mes "'@#￥%@#￥!!'";
		mes "'把他变成猪吧!!'";
		specialeffect2 EF_BARRIER;
		emotion 23;
		next;
		mes "[芭芭 亚拉]";
		mes "嗯?你身上有保护魔法?";
		mes "但是很弱, 看我驱散他.";
		next;
		mes "[芭芭 亚拉]";
		mes "赶紧滚, 不然我继续施法了...'";
		next;
		mes "["+ strcharinfo(0) +"]";
		mes "额..我说...";
		next;
		input .@input$;
		if (.@input$ == "溪水啊!溪水啊!喝下我的螳螂吧!") {
			mes "["+ strcharinfo(0) +"]";
			mes "额我是说...";
			mes ""+ .@input$ +" !!!";
			specialeffect2 EF_ABSORBSPIRITS;
			next;
		}else{
			mes "["+ strcharinfo(0) +"]";
			mes "我是说...";
			mes ""+ .@input$ +" !!!";
			next;
			mes "[芭芭 亚拉]";
			mes "你想干什么, 快滚!?";
			mes " ";
			close2;
			warp "mosk_dun02",135,163;
			end;
		}
		mes "[芭芭 亚拉]";
		mes "啊你懂得保护魔法, 看来不是普通的小孩.";
		next;
		mes "["+ strcharinfo(0) +"]";
		mes "听说你可以制作黄金钥匙!";
		next;
		mes "[芭芭 亚拉]";
		mes "你要它来干什么?";
		next;
		mes "["+ strcharinfo(0) +"]";
		mes "我要用它解除玛丽亚的封印.";
		next;
		mes "[芭芭 亚拉]";
		mes "...玛丽亚..";
		mes "你要对抗青冠龙?";
		next;
		mes "["+ strcharinfo(0) +"]";
		mes "如果他敢挡我的路, 我会消灭他的.";
		next;
		mes "[芭芭 亚拉]";
		mes "Ho, kiheeheheheheheh. Ehehehehehehe.";
		mes "真有趣, 似乎你不害怕青冠龙啊.";
		next;
		mes "[芭芭 亚拉]";
		mes "对了材料你都带来了吗...";
		next;
		if (countitem(724) > 1 && countitem(969) > 2 && countitem(7877) > 0 && countitem(7878) > 1 && countitem(7879) > 9) {
			mes "[芭芭 亚拉]";
			mes "你居然都收集齐了?";
			next;
		}else{
			mes "[芭芭 亚拉]";
			mes "材料不够我可不能帮你做黄金钥匙.";
			next;
			mes "[芭芭 亚拉]";
			mes "Go and find ^0000ff咒红宝石*2、黄金*3、红戒指*1、卢莎卡的头发*2、金线*10^000000!";
			close;
		}
		mes "[芭芭 亚拉]";
		mes "那我就给你制作黄金钥匙了!";
		delitem 724,2;
		delitem 969,3;
		delitem 7877,1;
		delitem 7878,2;
		delitem 7879,10;
		set rhea_rus_main,10;
		close;
	}
	else if (rhea_rus_main == 10) {
		mes "[芭芭 亚拉]";
		mes "你过来!";
		next;
		mes "- 芭芭 亚拉 很仔细地 -";
		mes "- 盯着你看 -";
		next;
		mes "[芭芭 亚拉]";
		mes "你看起来很有活力而且很强大!我可以给你'金钥匙',但是你要帮我一个忙.";
		next;
		if (BaseClass == Job_Archer) {
			mes "[芭芭 亚拉]";
			mes "我的牛跑了,你要找到它然后对它下一条咒语.咒语是:'^ff0000好的饲料是橘子味的^000000'. 你要记住它.";
			next;
			mes "[芭芭 亚拉]";
			mes "好了.快去吧.快点,否则我会想出一条咒语惩罚你.呵呵呵!";
			set rhea_rus_main,11;
			close;
		}
		else if (BaseClass == Job_Acolyte) {
			mes "[芭芭 亚拉]";
			mes "我家后院有一口嘈杂的棺材.它最近一直吵得我睡不着.你要让它安静下来.";
			next;
			mes "[芭芭 亚拉]";
			mes "好了.快去吧.快点,否则我会想出一条咒语惩罚你.呵呵呵.";
			set rhea_rus_main,16;
			close;
		}
		else if (BaseClass == Job_Thief) {
			mes "[芭芭 亚拉]";
			mes "到沉没的船帮我找到银汤匙,那里的海盗把它藏起来了.";
			next;
			mes "[芭芭 亚拉]";
			mes "好了.快去吧.快点,否则我会想出一条咒语惩罚你.呵呵呵.";
			set rhea_rus_main,21;
			close;
		}
		else if (BaseClass == Job_Mage) {
			mes "[芭芭 亚拉]";
			mes "我需要一本天津城卖的魔法书,叫桃太郎.快去买来给我.";
			next;
			mes "[芭芭 亚拉]";
			mes "好了.快去吧.快点,否则我会想出一条咒语惩罚你.呵呵呵.";
			set rhea_rus_main,26;
			close;
		}
		else if (BaseClass == Job_Swordman) {
			mes "[芭芭 亚拉]";
			mes "你有看到旁边的小屋吗?里面住着一个ghost,赶走它.我快被它激怒了!";
			next;
			mes "[芭芭 亚拉]";
			mes "好了.快去吧.快点,否则我会想出一条咒语惩罚你.呵呵呵.";
			set rhea_rus_main,31;
			close;
		}
		else {
			mes "[芭芭 亚拉]";
			mes "去斐扬帮我买一把扫帚,它是最好的清洁工具.但我没有时间去哪里.";
			next;
			mes "[芭芭 亚拉]";
			mes "好了.快去吧.快点,否则我会想出一条咒语惩罚你.呵呵呵.";
			set rhea_rus_main,36;
			close;
		}
	}
	else if (rhea_rus_main > 10 && rhea_rus_main < 16) {
		mes "[芭芭 亚拉]";
		mes "我的牛跑了,你要找到它然后对它下一条咒语.咒语是:'^ff0000好的饲料是橘子味的^000000'. 你要记住它.";
		next;
		mes "[芭芭 亚拉]";
		mes "好了.快去吧.快点,否则我会想出一条咒语惩罚你.呵呵呵.";
		close;
	}
	else if (rhea_rus_main > 15 && rhea_rus_main < 21) {
		mes "[芭芭 亚拉]";
		mes "你有看到旁边的小屋吗?里面住着一个ghost,赶走它.我快被它激怒了!";
		next;
		mes "[芭芭 亚拉]";
		mes "好了.快去吧.快点,否则我会想出一条咒语惩罚你.呵呵呵.";
		close;
	}
	else if (rhea_rus_main > 20 && rhea_rus_main < 26) {
		mes "[芭芭 亚拉]";
		mes "到沉没的船帮我找到银汤匙,那里的海盗把它藏起来了.";
		next;
		mes "[芭芭 亚拉]";
		mes "好了.快去吧.快点,否则我会想出一条咒语惩罚你.呵呵呵.";
		close;
	}
	else if (rhea_rus_main == 26) {
		mes "[芭芭 亚拉]";
		mes "我需要一本天津城卖的魔法书,叫桃太郎.快去买来给我.";
		next;
		mes "[芭芭 亚拉]";
		mes "好了.快去吧.快点,否则我会想出一条咒语惩罚你.呵呵呵.";
		close;
	}
	else if (rhea_rus_main == 27) {
		if (countitem(7881) > 0) {
			mes "[芭芭 亚拉]";
			mes "你买到那本魔法书了?快给我.";
			next;
			mes "- 芭芭 亚拉 接过书, -";
			mes "看了看封面, -";
			mes "和简介. -";
			next;
			mes "[芭芭 亚拉]";
			mes "OK..就是它了.";
			mes "'不要践踏草地!!!'";
			specialeffect EF_BEGINSPELL4;
			delitem 7881,1;
			set rhea_rus_main,28;
			monster "mosk_dun02",52,210,"Violent Gardener",1493,1,"芭芭 亚拉#rus32::OnMyMobDead";
			monster "mosk_dun02",53,210,"Dangerous Gardener",1500,1,"芭芭 亚拉#rus32::OnMyMobDead";
			monster "mosk_dun02",54,210,"Brutal Gardener",1497,1,"芭芭 亚拉#rus32::OnMyMobDead";
			donpcevent "芭芭 亚拉#rus32::OnDisable";
			close;
		}else{
			mes "[芭芭 亚拉]";
			mes "我需要一本天津城卖的魔法书,叫桃太郎.快去买来给我.";
			next;
			mes "[芭芭 亚拉]";
			mes "好了.快去吧.快点,否则我会想出一条咒语惩罚你.呵呵呵.";
			close;
		}
	}
	else if (rhea_rus_main == 28) {
		mes "["+ strcharinfo(0) +"]";
		mes "什,什么,这么突然!";
		next;
		mes "[芭芭 亚拉]";
		mes "这是一个秘密花园,比我预料中的好.";
		next;
		mes "["+ strcharinfo(0) +"]";
		mes "你有在听我说话吗?";
		next;
		mes "[芭芭 亚拉]";
		mes "'要张开你的两只眼睛!!!'";
		specialeffect2 EF_BEGINSPELL3;
		set rhea_rus_main,29;
		monster "mosk_dun02",52,210,"Alarm to 5 minutes",1193,1,"芭芭 亚拉#rus32::OnMyMobDead";
		monster "mosk_dun02",53,210,"Alarm on time",1193,1,"芭芭 亚拉#rus32::OnMyMobDead";
		monster "mosk_dun02",54,210,"Alarm past 5 minutes",1193,1,"芭芭 亚拉#rus32::OnMyMobDead";
		donpcevent "芭芭 亚拉#rus32::OnDisable";
		close;
	}
	else if (rhea_rus_main == 29) {
		mes "["+ strcharinfo(0) +"]";
		mes "你在干嘛!!";
		next;
		mes "[芭芭 亚拉]";
		mes "嗯,看起来这对周围的人并没有什么效果.那么,再来一座鬼屋吧...";
		next;
		mes "["+ strcharinfo(0) +"]";
		mes "我说...";
		emotion 28,1;
		next;
		mes "[芭芭 亚拉]";
		mes "'在角落...'";
		next;
		mes "["+ strcharinfo(0) +"]";
		mes "!!!!!!!!!!!!!!!!!!!!!!!!!";
		emotion 23;
		next;
		mes "[芭芭 亚拉]";
		mes "什么,孩子.你感觉很坏吗?";
		next;
		mes "["+ strcharinfo(0) +"]";
		mes "你什么时候把钥匙给我?!";
		next;
		mes "[芭芭 亚拉]";
		mes "现在给你吧,你脾气真暴躁.";
		set rhea_rus_main,44;
		close;
	}
	else if (rhea_rus_main > 30 && rhea_rus_main < 36) {
		mes "[芭芭 亚拉]";
		mes "你有看到旁边的小屋吗?里面住着一个ghost,赶走它.我快被它激怒了!";
		next;
		mes "[芭芭 亚拉]";
		mes "好了.快去吧.快点,否则我会想出一条咒语惩罚你.呵呵呵.";
		close;
	}
	else if (rhea_rus_main > 35 && rhea_rus_main < 41) {
		mes "[芭芭 亚拉]";
		mes "去斐扬帮我买一把扫帚,它是最好的清洁工具.但我没有时间去哪里.";
		next;
		mes "[芭芭 亚拉]";
		mes "好了.快去吧.快点,否则我会想出一条咒语惩罚你.呵呵呵.";
		close;
	}
	else if (rhea_rus_main == 41) {
		mes "["+ strcharinfo(0) +"]";
		mes "我已经找回你的牛了.";
		next;
		mes "[芭芭 亚拉]";
		mes "太好了.我刚做好'金钥匙'!";
		next;
		mes "[芭芭 亚拉]";
		mes "拿着.这可以帮助玛丽亚施放青冠龙.它可是非常危险的.";
		set rhea_rus_main,47;
		getitem 7876,1;
		close;
	}
	else if (rhea_rus_main == 42) {
		mes "["+ strcharinfo(0) +"]";
		mes "我完成了你的任务!现在棺材沉默了!";
		next;
		mes "[芭芭 亚拉]";
		mes "太好了.我晚上可以睡着了!";
		next;
		mes "[芭芭 亚拉]";
		mes "你来的正是时候.我刚刚完成了'金钥匙'!";
		next;
		mes "[芭芭 亚拉]";
		mes "拿着.这可以帮助玛丽亚施放青冠龙.它可是非常危险的.";
		set rhea_rus_main,47;
		getitem 7876,1;
		close;
	}
	else if (rhea_rus_main == 43) {
		if (countitem(7880) > 0) {
			mes "["+ strcharinfo(0) +"]";
			mes "我已经完成了你的任务!我找到了银匙!";
			next;
			mes "[芭芭 亚拉]";
			mes "太好了.这是我重要的东西.那些可恶的海盗.";
			next;
			mes "[芭芭 亚拉]";
			mes "你来的正是时候.我刚刚完成了'金钥匙'!";
			next;
			mes "[芭芭 亚拉]";
			mes "拿着.这可以帮助玛丽亚施放青冠龙.它可是非常危险的.";
			delitem 7880,1;
			set rhea_rus_main,47;
			getitem 7876,1;
			close;
		}else{
			mes "["+ strcharinfo(0) +"]";
			mes "我完成了你的任务!我找到了银汤匙!";
			next;
			mes "[芭芭 亚拉]";
			mes "喔,太好了.快给我..";
			next;
			mes "["+ strcharinfo(0) +"]";
			mes "这.. 这是..?!";
			next;
			mes "[芭芭 亚拉]";
			mes "你这个混蛋!你把我的汤匙卖给谁了!快拿来给我!";
			close;
		}
	}
	else if (rhea_rus_main == 44) {
		mes "["+ strcharinfo(0) +"]";
		mes "我已经完成了你的任务!把钥匙给我!";
		next;
		mes "[芭芭 亚拉]";
		mes "谢谢你.我也刚完成'金钥匙'!.";
		next;
		mes "[芭芭 亚拉]";
		mes "拿着.这可以帮助玛丽亚施放青冠龙.它可是非常危险的.";
		set rhea_rus_main,47;
		getitem 7876,1;
		close;
	}
	else if (rhea_rus_main == 45) {
		mes "["+ strcharinfo(0) +"]";
		mes "我完成了你的任务!那个鬼屋已经安静下来了!";
		next;
		mes "[芭芭 亚拉]";
		mes "太好了!那刺耳的声音终于消失了!";
		next;
		mes "[芭芭 亚拉]";
		mes "你来的正是时候.我刚刚完成了'金钥匙'!";
		next;
		mes "[芭芭 亚拉]";
		mes "拿着.这可以帮助玛丽亚施放青冠龙.它可是非常危险的.";
		set rhea_rus_main,47;
		getitem 7876,1;
		close;
	}
	else if (rhea_rus_main == 46) {
		mes "["+ strcharinfo(0) +"]";
		mes "我完成你的任务了!拿着,斐扬买的扫帚!";
		next;
		mes "[芭芭 亚拉]";
		mes "太好了.我飞行用的扫帚太老旧了.";
		next;
		mes "[芭芭 亚拉]";
		mes "你来的正是时候.我刚刚完成了'金钥匙'!";
		next;
		mes "[芭芭 亚拉]";
		mes "拿着.这可以帮助玛丽亚施放青冠龙.它可是非常危险的.";
		set rhea_rus_main,47;
		getitem 7876,1;
		close;
	}
	else if (rhea_rus_main > 46 && rhea_rus_main < 49) {
		mes "[芭芭 亚拉]";
		mes "你拿到钥匙了,应该去找玛丽亚了.";
		next;
		mes "[芭芭 亚拉]";
		mes "照顾好自己.当你施放她时,青冠龙也会出来一起破坏.";
		close;
	}
	else if (rhea_rus_main == 49) {
		mes "[芭芭 亚拉]";
		mes "你来这里做什么?.";
		next;
		mes "["+ strcharinfo(0) +"]";
		mes "青冠龙... 突然出现.. 玛丽亚和.. 狼... 被杀了...";
		next;
		mes "[芭芭 亚拉]";
		mes "冷静下来慢慢说.我听不懂你在说什么.喝一点水.";
		next;
		mes "- 你喝了一些水 -";
		mes "- 然后慢慢的告诉她来龙去脉. -";
		next;
		mes "[芭芭 亚拉]";
		mes "你攻击青冠龙了?";
		mes "你不是一个普通的孩子.";
		next;
		mes "[芭芭 亚拉]";
		mes "水可以让玛丽亚重生...";
		next;
		mes "[芭芭 亚拉]";
		mes "'活水'... 我会制作.  我需要 ^0000ff一个圣水^000000 和 ^0000ff两个天地树叶子^000000.";
		next;
		mes "[芭芭 亚拉]";
		mes "和 '死水'.. 我需要 ^0000ff一个暗水^000000 和 ^0000ff10个西纳雷叶子^000000.";
		next;
		mes "[芭芭 亚拉]";
		mes "快把他们带来给我!没时间了!";
		set rhea_rus_main,50;
		close;
	}
	else if (rhea_rus_main == 50) {
		if (countitem(523) > 0 && countitem(12020) > 0 && countitem(610) > 1 && countitem(520) > 9) {
			mes "[芭芭 亚拉]";
			mes "你回来的真快.";
			next;
			mes "[芭芭 亚拉]";
			mes "让我们先制作活水...";
			next;
			mes "- 芭芭 亚拉 拿起一个大水壶, -";
			mes "- 把圣水倒进去, -";
			mes "- 再把天地树叶子也放进去 -";
			mes "- 搅拌了起来 -";
			mes "- 开始念一些奇怪的咒语 -";
			next;
			mes "- 芭芭 亚拉 开始念着-";
			mes "- 听不懂的咒语 -";
			specialeffect EF_PHARMACY_OK;
			next;
			mes "[芭芭 亚拉]";
			mes "拿着.这是'活水',让我开始制作'死水'...";
			next;
			mes "- 芭芭 亚拉 把暗水倒进了一个锅里 -";
			mes "- 然后把西雷纳叶子也放进去 -";
			mes "- 搅拌了起来, -";
			mes "- 然后开始念着奇怪的咒语. -";
			next;
			mes "[芭芭 亚拉]";
			mes "嗨~嗨~嗨~嗨~嗨~左手搅拌~右手搅拌~然后两手一起搅拌~就完成了~";
			specialeffect EF_PHARMACY_OK;
			next;
			mes "[芭芭 亚拉]";
			mes "拿着,全都做好了.";
			next;
			mes "[芭芭 亚拉]";
			mes "快拿去救玛丽亚吧.";
			next;
			mes "[芭芭 亚拉]";
			mes "首先,用'死水'清楚伤口上的诅咒,然后用'活水'让她重生.";
			next;
			mes "[芭芭 亚拉]";
			mes "现在快去吧";
			next;
			mes "- ^0000ff你获得了 '活水'^000000 -";
			mes "- ^0000ff和 '死水' !!^000000 -";
			delitem 523,1;
			delitem 12020,1;
			delitem 610,2;
			delitem 520,10;
			set rhea_rus_main,51;
			close;
		}else{
			mes "[芭芭 亚拉]";
			mes "'活水'... 我会制作.  我需要 ^0000ff一个圣水^000000 和 ^0000ff两个天地树叶子^000000.";
			next;
			mes "[芭芭 亚拉]";
			mes "和 '死水'.. 我需要 ^0000ff一个暗水^000000 和 ^0000ff10个西纳雷叶子^000000.";
			next;
			mes "[芭芭 亚拉]";
			mes "快把他们带来给我!没时间了!";
			close;
		}
	}
	else if (rhea_rus_main == 51) {
		mes "[芭芭 亚拉]";
		mes "快拿去救玛丽亚吧.";
		next;
		mes "[芭芭 亚拉]";
		mes "首先,用'死水'清楚伤口上的诅咒,然后用'活水'让她重生.";
		next;
		mes "[芭芭 亚拉]";
		mes "现在快去吧";
		close;
	}
	else if (rhea_rus_main == 52) {
		mes "[芭芭 亚拉]";
		mes "你比我想像中的更有用,孩子.";
		next;
		mes "[芭芭 亚拉]";
		mes "感谢你一直帮助玛丽亚.其实,是我封印她和青冠龙的.为了封印青冠龙,我需要一点牺牲...";
		next;
		mes "[芭芭 亚拉]";
		mes "我成功地让一个奇迹般坚强的女孩封印了青冠.可惜的是女孩必须和青冠龙封印在一起.";
		next;;
		mes "[芭芭 亚拉]";
		mes "然而,过了这么多年,玛丽亚的力量已经渐渐削弱.";
		next;
		mes "[芭芭 亚拉]";
		mes "所以,只有你能击败青冠龙,才能永远的封印青冠龙并施放玛丽亚.";
		next;
		mes "[芭芭 亚拉]";
		mes "这就是为什么我帮你制作'金钥匙'.";
		next;
		mes "[芭芭 亚拉]";
		mes "青冠龙是不死的,但是他会因为被击败而削弱.就不再需要玛丽亚封印它.";
		next;
		mes "[芭芭 亚拉]";
		mes "感谢你这么帮助玛丽亚...";
		next;
		mes "[芭芭 亚拉]";
		mes "我希望能够给你任何帮助.";
		next;
		mes "[芭芭 亚拉]";
		mes "无论你什么时候来找我,给我几样材料和一点点费用.我就能帮你制作药水,希望能够帮助你.";
		set rhea_rus_main,53;
		close;
	}
	else if (rhea_rus_main > 52) {
		mes "[芭芭 亚拉]";
		mes "你来啦,有什么可以帮你?";
		next;
		switch(select("制作纤细红色药水:制作纤细黄色药水:离开")) {
		case 1:
			if (countitem(501) > 0 && countitem(1092) > 0 && countitem(7134) > 0 && countitem(512) > 4) {
				if (Zeny > 19) {
					set .@red_potion01,countitem(501);
					set .@red_tube01,countitem(1092);
					set .@red_cup01,countitem(7134);
					set .@red_apple01,countitem(512);
					set .@red_zeny01,Zeny;
					while(1) {
						if (.@red_potion01 == 0 || .@red_tube01 == 0 || .@red_cup01 == 0 || .@red_apple01 < 5 || .@red_zeny01 < 20) {
							break;
						}else{
							set .@red_slim01,.@red_slim01+1;
							set .@red_potion01,.@red_potion01-1;
							set .@redpotion_send,.@redpotion_send+1;
							set .@red_tube01,.@red_tube01-1;
							set .@redtube_send,.@redtube_send+1;
							set .@red_cup01,.@red_cup01-1;
							set .@redcup_send,.@redcup_send+1;
							set .@red_apple01,.@red_apple01-5;
							set .@redapple_send,.@redapple_send+5;
							set .@red_zeny01,.@red_zeny01-20;
							set .@redzeny_sen,.@redzeny_send+20;
						}
					}
					mes "[芭芭 亚拉]";
					mes "制作详细红色药水需要^0000ff一个红色药水、一个空试管、一个药钵、五个苹果和20 Zeny.^000000";
					next;
					mes "[芭芭 亚拉]";
					mes "你的材料可以让我制作 ^0000ff"+ red_slim01 +"^000000 个红色纤细药水给你.";
					next;
					mes "[芭芭 亚拉]";
					mes "你要多少?一次最多只能做100个;如果你不想做,请输入'0'.";
					next;
					while(1) {
						input .@input;
						if (.@input == 0) {
							mes "[芭芭 亚拉]";
							mes "你不需要吗?";
							next;
							mes "[芭芭 亚拉]";
							mes "我不相信,你是需要其他的吗?";
							close;
						}
						else if (.@input > 100) {
							mes "[芭芭 亚拉]";
							mes "我说了不能超过100个.";
							next;
						}
						else {
							break;
						}
					}
					set .@redpotion_send,.@input;
					set .@redtube_send,.@input;
					set .@redcup_send,.@input;
					set .@redapple_send,.@input * 5;
					set .@redzeny_send,.@input * 20;
					set .@total_red01,.@input;
					if (countitem(501) < .@redpotion_send || countitem(1092) < .@redtube_send || countitem(7134) < .@redcup_send || countitem(512) < .@redapple_send || Zeny < .@redzeny_send) {
						mes "[芭芭 亚拉]";
						mes "材料在哪里?";
						mes "你的材料还不够,准备好足够的材料再回来!";
						close;
					}else{
						mes "[芭芭 亚拉]";
						mes "你需要 "+ .@input +" 个. 好的,等一会儿.";
						next;
						mes "- 芭芭 亚拉 把苹果放进药钵里 -";
						mes "- 搅碎,然后倒入红色药水, -";
						mes "- 搅拌成了新的液体, -";
						mes "- 用提取倒进试管里. -";
						next;
					}
					mes "[芭芭 亚拉]";
					mes "完成了,拿着!";
					specialeffect EF_PHARMACY_OK;
					next;
					mes "[芭芭 亚拉]";
					mes "如果你需要更多,再来找我.";
					delitem 501,.@redpotion_send;
					delitem 1092,.@redtube_send;
					delitem 7134,.@redcup_send;
					delitem 512,.@redapple_send;
					set Zeny, Zeny - .@redzeny_send;
					getitem 545,.@total_red01;
					close;
				}else{
					mes "[芭芭 亚拉]";
					mes "制作详细红色药水需要^0000ff一个红色药水、一个空试管、一个药钵、五个苹果和20 Zeny.^000000";
					close;
				}
			}else{
				mes "[芭芭 亚拉]";
				mes "制作详细红色药水需要^0000ff一个红色药水、一个空试管、一个药钵、五个苹果和20 Zeny.^000000";
				close;
			}
			break;
		case 2:
			if (countitem(503) > 0 && countitem(1092) > 0 && countitem(7134) > 0 && countitem(513) > 9) {
				if (Zeny > 49) {
					set .@yell_potion01,countitem(503);
					set .@yell_tube01,countitem(1092);
					set .@yell_cup01,countitem(7134);
					set .@yell_banana01,countitem(513);
					set .@yell_zeny01,Zeny;
					while(1) {
						if (.@yell_potion01 == 0 || .@yell_tube01 == 0 || .@yell_cup01 == 0 || .@yell_banana01 < 10 || .@yell_zeny01 < 50) {
							break;
						}else{
							set .@yell_slim01,.@yell_slim01+1;
							set .@yell_potion01,.@yell_potion01-1;
							set .@yellpotion_send,.@yellpotion_send+1;
							set .@yell_tube01,.@yell_tube01-1;
							set .@yelltube_send,.@yelltube_send+1;
							set .@yell_cup01,.@yell_cup01-1;
							set .@yellcup_send,.@yellcup_send+1;
							set .@yell_banana01,.@yell_banana01-10;
							set .@yellbanana_send,.@yellbanana_send+10;
							set .@yell_zeny01,.@yell_zeny01-50;
							set .@yellzeny_send,.@yellzeny_send+50;
						}
					}
					mes "[芭芭 亚拉]";
					mes "制作详细黄色药水需要^0000ff一个黄色药水、一个空试管、一个药钵、五个香蕉和20 Zeny.^000000";
					next;
					mes "[芭芭 亚拉]";
					mes "你的材料可以让我制作 ^0000ff"+ .@yell_slim01 +"^000000 个黄色纤细药水给你.";
					next;
					mes "[芭芭 亚拉]";
					mes "你要多少?一次最多只能做100个;如果你不想做,请输入'0'.";
					next;
					while(1) {
						input .@input;
						if (.@input == 0) {
							mes "[芭芭 亚拉]";
							mes "你不需要吗?";
							next;
							mes "[芭芭 亚拉]";
							mes "我不相信,你是需要其他的吗?";
							close;
						}
						else if (.@input > 100) {
							mes "[芭芭 亚拉]";
							mes "我说了不能超过100个.";
							next;
						}
						else {
							break;
						}
					}
					set .@yellpotion_send,.@input;
					set .@yelltube_send,.@input;
					set .@yellcup_send,.@input;
					set .@yellbanana_send,.@input*10;
					set .@yellzeny_send,.@input*50;
					set .@total_yell01,.@input;
					if (countitem(503) < .@yellpotion_send || countitem(1092) < .@yelltube_send || countitem(7134) < .@yellcup_send || countitem(513) < .@yellbanana_send || Zeny < .@yellzeny_send) {
						mes "[芭芭 亚拉]";
						mes "材料在哪里?";	
						mes "你的材料还不够,准备好足够的材料再回来!";
						close;
					}else{
						mes "[芭芭 亚拉]";
						mes "你需要 "+ .@input +" 个. 好的,等一会儿.";
						next;
						mes "- 芭芭 亚拉 把香蕉放进药钵里 -";
						mes "- 搅碎,然后倒入红色药水, -";
						mes "- 搅拌成了新的液体, -";
						mes "- 用提取倒进试管里. -";
						next;
					}
					mes "[芭芭 亚拉]";
					mes "完成了,拿着!";
					specialeffect EF_PHARMACY_OK;
					next;
					mes "[芭芭 亚拉]";
					mes "如果你需要更多,再来找我.";
					delitem 503,.@yellpotion_send;
					delitem 1092,.@yelltube_send;
					delitem 7134,.@yellcup_send;
					delitem 513,.@yellbanana_send;
					set Zeny, Zeny - .@yellzeny_send;
					getitem 546,.@total_yell01;
					close;
				}else{
					mes "[芭芭 亚拉]";
					mes "制作详细黄色药水需要^0000ff一个黄色药水、一个空试管、一个药钵、五个香蕉和20 Zeny.^000000";
					close;
				}
			}else{
				mes "[芭芭 亚拉]";
				mes "制作详细黄色药水需要^0000ff一个黄色药水、一个空试管、一个药钵、五个香蕉和20 Zeny.^000000";
				close;
			}
			break;
		case 3:
			mes "[芭芭 亚拉]";
			mes "你不需要其他东西吗?";
			next;
			mes "[芭芭 亚拉]";
			mes "你不相信我,还是为什么.";
			close;
		}
	}
	else {
		mes "[芭芭 亚拉]";
		mes "小孩, 你是谁?";
		close;
	}

OnInit:
	enablenpc "芭芭 亚拉#rus32";
	end;

OnEnable:
	enablenpc "芭芭 亚拉#rus32";
	end;

OnDisable:
	initnpctimer;
	disablenpc "芭芭 亚拉#rus32";
	end;

OnTimer180000:
	stopnpctimer;
	killmonster "mosk_dun02","芭芭 亚拉#rus32::OnMyMobDead";
	donpcevent "芭芭 亚拉#rus32::OnEnable";
	end;

OnMyMobDead:
	donpcevent "芭芭 亚拉#rus32::OnEnable";
	end;
}

//----------------------------------------------------------------------------
// 芭芭 亚拉's Tasks (Golden Key)
//----------------------------------------------------------------------------
mosk_dun02,257,193,0	script	Cow#rus33	4_BULL,3,3,{
	end;

OnInit:
	enablenpc "Cow#rus33";
	end;

OnEnable:
	enablenpc "Cow#rus33";
	end;

OnDisable:
	disablenpc "Cow#rus33";
	end;

OnTouch:
	if (rhea_rus_main < 11) {
		mes "[牛]";
		mes "哞...";
		close;
	}
	else if (rhea_rus_main == 11) {
		mes "[牛]";
		mes "哞..";
		next;
		mes "["+ strcharinfo(0) +"]";
		mes "这是芭芭 亚拉的牛?!";
		mes "你...";
		next;
		mes "- 你对牛用自己的方法试试. -";
		next;
		mes "["+ strcharinfo(0) +"]";
		mes "你!过来这边!";
		emotion 23;
		next;
		mes "- ?雌鹄词艿搅司?跳跃着,试图攻击你!! -";
		next;
		set .@russ_cow01,rand(1,4);
		if (.@russ_cow01 == 3) {
			mes "- 你差点被集中,并开始念咒语!! -";
			next;
			input .@input$;
			if (.@input$ == "好的饲料是橘子味的") {
				mes "["+ strcharinfo(0) +"]";
				mes ""+ .@input$ +" !!!";
				specialeffect EF_TELEPORTATION2;
				next;
				mes "- 你赶紧施放魔法,牛的光环消失了!! -";
				donpcevent "Cow#rus33::OnDisable";
				donpcevent "Cow#rus34::OnEnable";
				next;
			}else{
				mes "["+ strcharinfo(0) +"]";
				mes ""+ .@input$ +" !!!";
				next;
				mes "[牛]";
				mes "...哞...";
				emotion 9;
				next;
				set .@run_cow01,rand(1,2);
				if (.@run_cow01 == 1) {
					mes "- 牛似乎嘲笑你,看着你很快跑进灌木丛!!";
					donpcevent "Cow#rus33::OnDisable";
					donpcevent "Cow#rus34::OnEnable";
					close;
				}else{
					mes "- 牛似乎嘲笑你,看着你很快跑进灌木丛 !! -";
					donpcevent "Cow#rus33::OnDisable";
					donpcevent "Cow#rus35::OnEnable";
					close;
				}
			}
		}else{
			mes "["+ strcharinfo(0) +"]";
			mes "Akkkk?! Eh!? The s-spell...";
			next;
			set .@run_cow02,rand(1,2);
			if (.@run_cow02 == 1) {
				mes "- 你犹豫了,牛似乎嘲笑你,经过你然后跑进了灌木丛里 !! -";
				donpcevent "Cow#rus33::OnDisable";
				donpcevent "Cow#rus34::OnEnable";
				close;
			}else{
				mes "- 你犹豫了,牛似乎嘲笑你,经过你然后跑进了灌木丛里 !! -";
				donpcevent "Cow#rus33::OnDisable";
				donpcevent "Cow#rus35::OnEnable";
				close;
			}
		}
		mes "["+ strcharinfo(0) +"]";
		mes "真让人惊讶.这只牛似乎不喜欢它的主人.";
		next;
		mes "["+ strcharinfo(0) +"]";
		mes "Ok, 让我们回去找 芭芭 亚拉...";
		set rhea_rus_main,41;
		close;
	}
	else if (rhea_rus_main == 41) {
		mes "[牛]";
		mes "哞...";
		next;
		mes "- 牛的脖子绑住了,舒适地吃着草. -";
		next;
		mes "["+ strcharinfo(0) +"]";
		mes "我必须回去找芭芭 亚拉...";
		close;
	}
	else {
		mes "[牛]";
		mes "哞...";
		close;
	}
}

mosk_dun02,257,193,0	script	Cow#rus34	4_BULL,3,3,{
	end;

OnInit:
	enablenpc "Cow#rus34";
	end;

OnEnable:
	enablenpc "Cow#rus34";
	end;

OnDisable:
	disablenpc "Cow#rus34";
	end;

OnTouch:
	if (rhea_rus_main < 11) {
		mes "[牛]";
		mes "哞...";
		close;
	}
	else if (rhea_rus_main == 11) {
		mes "[牛]";
		mes "哞..";
		next;
		mes "["+ strcharinfo(0) +"]";
		mes "这是芭芭 亚拉的牛?!";
		mes "你...";
		next;
		mes "- 你对牛用自己的方法试试 -";
		next;
		mes "["+ strcharinfo(0) +"]";
		mes "你!过来这边!";
		emotion 23;
		next;
		mes "- ?雌鹄词艿搅司?跳跃着,试图攻击你!! -";
		next;
		set .@russ_cow01,rand(1,4);
		if (.@russ_cow01 == 3) {
			mes "- ?雌鹄词艿搅司?跳跃着,试图攻击你!! -";
			next;
			input .@input$;
			if (.@input$ == "好的饲料是橘子味的") {
				mes "["+ strcharinfo(0) +"]";
				mes ""+ .@input$ +" !!!";
				specialeffect EF_TELEPORTATION2;
				next;
				mes "- 你赶紧施放魔法,牛的光环消失了!! -";
				donpcevent "Cow#rus34::OnDisable";
				donpcevent "Cow#rus34::OnEnable";
				next;
			}else{
				mes "["+ strcharinfo(0) +"]";
				mes ""+ .@input$ +" !!!";
				next;
				mes "[牛]";
				mes "...哞...";
				emotion 9;
				next;
				set .@run_cow01,rand(1,2);
				if (.@run_cow01 == 1) {
					mes "- 牛似乎嘲笑你,看着你很快跑进灌木丛 !! -";
					donpcevent "Cow#rus34::OnDisable";
					donpcevent "Cow#rus34::OnEnable";
					close;
				}else{
					mes "- 牛似乎嘲笑你,看着你很快跑进灌木丛 !! -";
					donpcevent "Cow#rus34::OnDisable";
					donpcevent "Cow#rus35::OnEnable";
					close;
				}
			}
		}else{
			mes "["+ strcharinfo(0) +"]";
			mes "魔-魔法...";
			next;
			set .@run_cow02,rand(1,2);
			if (.@run_cow02 == 1) {
				mes "- 你犹豫了,牛似乎嘲笑你,经过你然后跑进了灌木丛里 !! -";
				donpcevent "Cow#rus34::OnDisable";
				donpcevent "Cow#rus34::OnEnable";
				close;
			}else{
				mes "- 你犹豫了,牛似乎嘲笑你,经过你然后跑进了灌木丛里 !! -";
				donpcevent "Cow#rus34::OnDisable";
				donpcevent "Cow#rus35::OnEnable";
				close;
			}
		}
		mes "["+ strcharinfo(0) +"]";
		mes "真令人惊讶, 牛跟他的主人一点也不像.";
		next;
		mes "["+ strcharinfo(0) +"]";
		mes "那么, 现在可以回去见芭芭 亚拉...";
		set rhea_rus_main,41;
		close;
	}
	else if (rhea_rus_main == 41) {
		mes "[牛]";
		mes "哞...";
		next;
		mes "- 牛的脖子绑住了,舒适地吃着草. -";
		next;
		mes "["+ strcharinfo(0) +"]";
		mes "我必须回去找芭芭 亚拉...";
		close;
	}
	else {
		mes "[牛]";
		mes "哞...";
		close;
	}
}

mosk_dun02,257,193,0	script	Cow#rus35	4_BULL,3,3,{
	end;

OnInit:
	enablenpc "Cow#rus35";
	end;

OnEnable:
	enablenpc "Cow#rus35";
	end;

OnDisable:
	disablenpc "Cow#rus35";
	end;

OnTouch:
	if (rhea_rus_main < 11) {
		mes "[牛]";
		mes "哞o...";
		close;
	}
	else if (rhea_rus_main == 11) {
		mes "[牛]";
		mes "哞..";
		next;
		mes "["+ strcharinfo(0) +"]";
		mes "这是芭芭 亚拉的牛?!";
		mes "你...";
		next;
		mes "- 你对牛用自己的方法试试 -";
		next;
		mes "["+ strcharinfo(0) +"]";
		mes "你!过来这边!";
		emotion 23;
		next;
		mes "- ?雌鹄词艿搅司?跳跃着,试图攻击你!! -";
		next;
		set .@russ_cow01,rand(1,4);
		if (.@russ_cow01 == 3) {
			mes "- ?雌鹄词艿搅司?跳跃着,试图攻击你!! -";
			next;
			input .@input$;
			if (.@input$ == "好的饲料是橘子味的") {
				mes "["+ strcharinfo(0) +"]";
				mes ""+ .@input$ +" !!!";
				specialeffect EF_TELEPORTATION2;
				next;
				mes "- 你赶紧施放魔法,牛的光环消失了!! -";
				donpcevent "Cow#rus35::OnDisable";
				donpcevent "Cow#rus35::OnEnable";
				next;
			}else{
				mes "["+ strcharinfo(0) +"]";
				mes ""+ .@input$ +" !!!";
				next;
				mes "[牛]";
				mes "...哞...";
				emotion 9;
				next;
				set .@run_cow01,rand(1,2);
				if (.@run_cow01 == 1) {
					mes "- 牛似乎嘲笑你,看着你很快跑进灌木丛 !! -";
					donpcevent "Cow#rus35::OnDisable";
					donpcevent "Cow#rus35::OnEnable";
					close;
				}else{
					mes "- 牛似乎嘲笑你,看着你很快跑进灌木丛 !! -";
					donpcevent "Cow#rus35::OnDisable";
					donpcevent "Cow#rus35::OnEnable";
					close;
				}
			}
		}else{
			mes "["+ strcharinfo(0) +"]";
			mes "Akkkk?! Eh!? The s-spell...";
			next;
			set .@run_cow02,rand(1,2);
			if (.@run_cow02 == 1) {
				mes "- 你犹豫了,牛似乎嘲笑你,经过你然后跑进了灌木丛里 !! -";
				donpcevent "Cow#rus35::OnDisable";
				donpcevent "Cow#rus35::OnEnable";
				close;
			}else{
				mes "- 你犹豫了,牛似乎嘲笑你,经过你然后跑进了灌木丛里 !! -";
				donpcevent "Cow#rus35::OnDisable";
				donpcevent "Cow#rus35::OnEnable";
				close;
			}
		}
		mes "["+ strcharinfo(0) +"]";
		mes "真让人惊讶.这只牛似乎不喜欢它的主人.";
		next;
		mes "["+ strcharinfo(0) +"]";
		mes "Ok, 让我们回去找 芭芭 亚拉...";
		set rhea_rus_main,41;
		close;
	}
	else if (rhea_rus_main == 41) {
		mes "[牛]";
		mes "哞...";
		next;
		mes "- 牛的脖子绑住了,舒适地吃着草. -";
		next;
		mes "["+ strcharinfo(0) +"]";
		mes "我必须回去找芭芭 亚拉...";
		close;
	}
	else {
		mes "[牛]";
		mes "哞...";
		close;
	}
}

mosk_dun02,65,232,0	script	嘈杂的棺材#rus36	4_NFCOFFIN,{
	if (rhea_rus_main < 16) {
		mes "[嘈杂的棺材]";
		mes "这不是活得挺好的?这样的生活还不够好吗?";
		next;
		mes "[嘈杂的棺材]";
		mes "不如你用生命和我交换吧?跟我交换,交换!";
		close;
	}
	else if (rhea_rus_main > 15 && rhea_rus_main < 19) {
		mes "[嘈杂的棺材]";
		mes "这不是活得挺好的?这样的生活还不够好吗?";
		next;
		mes "[嘈杂的棺材]";
		mes "不如你用生命和我交换吧?跟我交换,交换!";
		next;
		mes "["+ strcharinfo(0) +"]";
		mes "喔,这就是那个嘈杂的棺材.";
		next;
		mes "[嘈杂的棺材]";
		mes "我还活着! 我还活着!";
		mes "我们之间的差异是什么?你为什么还活着?为什么你没死?为什么我死了?";
		next;
		mes "["+ strcharinfo(0) +"]";
		mes "... 我应该怎么让他安静呢?...";
		next;
		while(1) {
			switch(select("祈祷:唱赞美诗:把圣水倒在他身上:踢他")) {
			case 1:
				if (rhea_rus_main == 17) {
					mes "["+ strcharinfo(0) +"]";
					mes "...我祈祷吧.";
					next;
					mes "["+ strcharinfo(0) +"]";
					mes "天堂,地球,风是属于神的,驱逐任何的邪恶.";
					specialeffect EF_BLESSING;
					next;
					mes "[嘈杂的棺材]";
					mes "停下, 停下! 停下停下!";
					set rhea_rus_main,18;
					next;
				}else{
					mes "["+ strcharinfo(0) +"]";
					mes "...我取代.";
					next;
					mes "["+ strcharinfo(0) +"]";
					mes "天堂,地球,风是属于神的,驱逐任何的邪恶.";
					specialeffect EF_BLESSING;
					next;
					mes "[嘈杂的棺材]";
					mes "什么?你在念什么?这有趣吗?";
					next;
					mes "["+ strcharinfo(0) +"]";
					mes "......................................";
					next;
					break;
				}
				break;
			case 2:
				if (rhea_rus_main == 18) {
					mes "["+ strcharinfo(0) +"]";
					mes "没错!我唱赞美诗.第一句“神圣的上帝会惩罚罪恶”!!";
					next;
					mes "["+ strcharinfo(0) +"]";
					mes "- 贪婪的,反常的, -";
					mes "- 所有憎恨的,邪恶的 -";
					mes "- 都将被驱逐出这片土地. -";
					specialeffect EF_GLORIA;
					next;
					mes "[嘈杂的棺材]";
					mes "闭嘴, 闭嘴! 闭嘴闭嘴!";
					set rhea_rus_main,19;
					next;
				}else{
					mes "["+ strcharinfo(0) +"]";
					mes "没错!我唱赞美诗.第一句 '神在照耀我们'!!";
					next;
					mes "["+ strcharinfo(0) +"]";
					mes "- 贪婪的,反常的, -";
					mes "- 所有憎恨的,邪恶的 -";
					mes "- 都将被驱逐出这片土地. -";
					specialeffect EF_GLORIA;
					next;
					mes "[嘈杂的棺材]";
					mes "这是什么谬论!荒谬得很!这是什么歌?!";
					next;
					mes "["+ strcharinfo(0) +"]";
					mes "......................................";
					next;
					break;
				}
				break;
			case 3:
				if (countitem(523) > 0) {
					if (rhea_rus_main == 16) {
						mes "["+ strcharinfo(0) +"]";
						mes "你如果再不闭嘴,我就把圣水撒向你!";
						next;
						mes "- 你打开圣水,把它小心的倒在棺材里. -";
						specialeffect EF_SPHERE;
						next;
						mes "[嘈杂的棺材]";
						mes "停止,停止!快停止!";
						delitem 523,1;
						set rhea_rus_main,17;
						next;
					}else{
						mes "["+ strcharinfo(0) +"]";
						mes "你如果再不闭嘴,我就把圣水撒向你!";
						next;
						mes "- 你打开圣水,把它小心的倒在棺材里. -";
						specialeffect EF_SPHERE;
						next;
						mes "[嘈杂的棺材]";
						mes "好冷.不,这太酷了!这很好玩吗?好玩吗?!";
						delitem 523,1;
						next;
						mes "["+ strcharinfo(0) +"]";
						mes "......................................";
						next;
						break;
					}
				}else{
					mes "["+ strcharinfo(0) +"]";
					mes "哪里还有神圣的水?";
					next;
					mes "["+ strcharinfo(0) +"]";
					mes "...... 我没有了...";
					next;
					mes "["+ strcharinfo(0) +"]";
					mes "......................................";
					next;
					break;
				}
				break;
			case 4:
				if (rhea_rus_main == 19) {
					mes "["+ strcharinfo(0) +"]";
					mes "...如果你再不闭嘴...";
					mes "......我就要踢你了!!";
					next;
					mes "- 你闭上眼睛,深呼吸.用力的踢棺材!! -";
					next;
					mes "[嘈杂的棺材]";
					mes "我很害怕!快停止!!";
					specialeffect EF_HOLYHIT;
					set rhea_rus_main,20;
					next;
					break;
				}else{
					mes "["+ strcharinfo(0) +"]";
					mes "...如果你再不闭嘴...";
					mes "......我就要踢你了!!";
					next;
					mes "- 你闭上眼睛,深呼吸.用力的踢棺材!! -";					specialeffect EF_HOLYHIT;
					next;
					mes "[嘈杂的棺材]";
					mes "太棒了!我喜欢这个声音!再来,再来,再来!";
					next;
					mes "["+ strcharinfo(0) +"]";
					mes "......................................";
					next;
					break;
				}
			}
		}
		if (rhea_rus_main < 20) {
			mes "["+ strcharinfo(0) +"]";
			mes "... 这好像无效...";
			set rhea_rus_main,16;
			close;
		}else{
			mes "["+ strcharinfo(0) +"]";
			mes ".............如果你再吵,你会看到比你想像中的更多...";
			next;
			mes "[嘈杂的棺材]";
			mes "................................";
			emotion 9;
			next;
			mes "["+ strcharinfo(0) +"]";
			mes "呼,工作完成了.";
			mes "现在可以回去见芭芭 亚拉.";
			set rhea_rus_main,42;
			close;
		}
	}
	else if (rhea_rus_main == 20) {
		mes "["+ strcharinfo(0) +"]";
		mes ".............如果你再吵,你会看到比想像中更多...";
		next;
		mes "[嘈杂的棺材]";
		mes "................................";
		emotion 9;
		next;
		mes "["+ strcharinfo(0) +"]";
		mes "呼,工作完成了.";
		mes "现在可以回去见芭芭 亚拉.";
		set rhea_rus_main,42;
		close;
	}
	else if (rhea_rus_main == 42) {
		mes "["+ strcharinfo(0) +"]";
		mes ".............如果你再吵,你会看到比想像中更多...";
		next;
		mes "[嘈杂的棺材]";
		mes "................................";
		emotion 9;
		next;
		mes "["+ strcharinfo(0) +"]";
		mes "呼,工作完成了.";
		mes "现在可以回去见芭芭 亚拉.";
		close;
	}
	else {
		mes "[嘈杂的棺材]";
		mes ".............................";
		close;
	}
}

treasure01,165,58,0	script	Old Treasure Box#rus37	HIDDEN_NPC,{
	if (checkweight(1201,1) == 0) {
		mes "你身上的东西太多了!";
		mes "储存一些东西先.";
		close;
	}
	if ((MaxWeight-Weight) < 3500) {
		mes "你身上的东西太多了!";
		mes "储存一些东西先.";
		close;
	}
	if (rhea_rus_main > 20 && rhea_rus_main < 25) {
		mes "- 它是锁着的. -";
		close;
	}
	else if (rhea_rus_main == 25) {
		mes "- 在上了锁的箱子上,刻着一个女人头上有蛇 -";
		next;
		mes "["+ strcharinfo(0) +"]";
		mes "这个工作...";
		next;
		select("要钥匙放进锁里");
		mes "- 你把钥匙放进锁眼里,女人的眼睛盯着你 -";
		next;
		if (countitem(747) > 0) {
			mes "- 她的眼睛是一颗宝石 !! -";
			next;
			mes "["+ strcharinfo(0) +"]";
			mes "啊?这是什么!!";
			specialeffect EF_FLASHER;
			next;
		}else{
			mes "- 她的眼睛是一颗宝石 !! -";
			sc_start SC_BLIND,60000,0;
			donpcevent "Old Treasure Box#rus37::OnCall";
			close2;
			donpcevent "Old Treasure Box#rus37::OnDisable";
			end;
		}
		mes "- 你挥舞手臂遮住你的眼睛.你背包中的镜子无意中反射了她的眼光 !! -";
		specialeffect EF_FLASHER;
		next;
		mes "- 光线反射像箱子上的女人头像,箱子打开了 !! -";
		next;
		mes "- ^0000ff 你找到了芭芭 亚拉的银汤匙 !!^000000 -";
		set rhea_rus_main,43;
		getitem 7880,1;
		close;
	}
	else if (rhea_rus_main == 43) {
		mes "- 你在哪找到藏银匙的藏宝箱 -";
		close;
	}
	else {
		end;
	}

OnInit:
	enablenpc "Old Treasure Box#rus37";
	end;

OnCall:
	initnpctimer;
	monster "treasure01",164,58,"Medusa",1148,1,"Old Treasure Box#rus37::OnMyMobDead";
	monster "treasure01",157,59,"Obeaune",1044,1,"Old Treasure Box#rus37::OnMyMobDead";
	monster "treasure01",164,54,"Obeaune",1044,1,"Old Treasure Box#rus37::OnMyMobDead";
	monster "treasure01",163,63,"Obeaune",1044,1,"Old Treasure Box#rus37::OnMyMobDead";
	monster "treasure01",168,59,"Obeaune",1044,1,"Old Treasure Box#rus37::OnMyMobDead";
	end;

OnReset:
	stopnpctimer;
	killmonster "treasure01","Old Treasure Box#rus37::OnMyMobDead";
	end;

OnEnable:
	enablenpc "Old Treasure Box#rus37";
	end;

OnDisable:
	initnpctimer;
	disablenpc "Old Treasure Box#rus37";
	end;

OnMyMobDead:
	donpcevent "Old Treasure Box#rus37::OnEnable";
	end;

OnTimer180000:
	stopnpctimer;
	donpcevent "Old Treasure Box#rus37::OnReset";
	donpcevent "Old Treasure Box#rus37::OnEnable";
	end;
}

treasure01,24,39,0	script	旧床#rus38	HIDDEN_NPC,{
	if (rhea_rus_main == 21) {
		mes "- 一张老旧的床上满是灰尘 -";
		next;
		switch(select("检查床上:检查床下:检查床单")) {
		case 1:
			mes "- 有蘑菇长在床上 -";
			next;
			mes "["+ strcharinfo(0) +"]";
			mes "...生命......";
			close;
			break;
		case 2:
			mes "- 你看了看床下 -";
			next;
			mes "["+ strcharinfo(0) +"]";
			mes "哎哟?!";
			specialeffect2 EF_HIT2;
			percentheal -5,0;
			next;
			mes "- 有东西在咬你的手 !! -";
			close;
			break;
		case 3:
			break;
		}
		mes "- 你掀开脏床单,发现上面有许多破洞 -";
		next;
		mes "["+ strcharinfo(0) +"]";
		mes "...?! 这是什么?";
		next;
		mes "- 在床板的位置似乎有一道裂缝 !! -";
		viewpoint 1,165,58,1,0xFF0000;
		viewpoint 1,61,183,2,0xFF0000;
		viewpoint 1,98,118,3,0xFF0000;
		viewpoint 1,27,115,4,0xFF0000;
		next;
		mes "["+ strcharinfo(0) +"]";
		mes "...这可能是?!";
		next;
		mes "[不知名的声音]";
		mes "是谁!?";
		viewpoint 2,165,58,1,0x00FF00;
		viewpoint 2,61,183,2,0x00FF00;
		viewpoint 2,98,118,3,0x00FF00;
		viewpoint 2,27,115,4,0x00FF00;
		emotion 23,1;
		next;
		mes "["+ strcharinfo(0) +"]";
		mes "啊,我最好现在就逃跑!";
		set rhea_rus_main,22;
		close2;
		warp "treasure01",68,28;
		end;
	}
	else if (rhea_rus_main > 21 && rhea_rus_main < 26) {
		mes "- 一张老旧的床上满是灰尘 -";
		next;
		switch(select("检查床上:检查床下:检查床单")) {
		case 1:
			mes "- 有蘑菇长在床上 -";
			next;
			mes "["+ strcharinfo(0) +"]";
			mes "...生命......";
			close;
			break;
		case 2:
			mes "- 你看了看床下 -";
			next;
			mes "["+ strcharinfo(0) +"]";
			mes "哎哟?!";
			specialeffect2 EF_HIT2;
			percentheal -5,0;
			next;
			mes "- 有东西在咬你的手 !! -";
			close;
			break;
		case 3:
			break;
		}
		mes "- 由于刚才匆忙逃跑,床单被撕破了 -";
		close;
	}
	else {
		end;
	}
}

treasure01,98,119,0	script	Dirty Wall#rus39	HIDDEN_NPC,{
	if (rhea_rus_main == 22) {
		mes "- 有东西刻在墙上 -";
		next;
		mes "- ^ff0000她的... 小心.. 听到美人鱼的歌声.. 睡着.. 眼睛.. 保护你自己.. 镜子^000000 -";
		next;
		mes "["+ strcharinfo(0) +"]";
		mes "...这是什么意思...?";
		set rhea_rus_main,23;
		close;
	}
	else if (rhea_rus_main > 22 && rhea_rus_main < 26) {
		mes "- 有东西刻在墙上 -";
		next;
		mes "- ^ff0000她的... 小心.. 听到美人鱼的歌声.. 睡着.. 眼睛.. 保护你自己.. 镜子^000000 -";
		next;
		mes "["+ strcharinfo(0) +"]";
		mes "...这是什么意思...?";
		close;
	}
	else {
		end;
	}
}

treasure01,61,183,0	script	Old_Wooden_Box#rus40	HIDDEN_NPC,{
	if (rhea_rus_main == 23) {
		mes "- 木箱上有闪闪发光的东西 -";
		next;
		select("把手伸进去");
		set .@russ_key01,rand(1,7);
		if (.@russ_key01 == 4) {
			mes "- 你从箱子里取出了一个闪烁的东西 -";
			next;
			mes "- ^0000ff你发现了一把断掉的钥匙!!^000000 -";
			set rhea_rus_main,24;
			close;
		}else{
			mes "- 你想把你的手伸进去,但细缝太小了 -";
			next;
			mes "- 你弄坏了这个盒子 -";
			close;
		}
	}
	else if (rhea_rus_main > 23 && rhea_rus_main < 26) {
		mes "- 旧箱子中断裂的钥匙手柄 -";
		close;
	}
	else {
		end;
	}
}

treasure01,27,115,0	script	Opened Treasure Chest#41	HIDDEN_NPC,{
	if (rhea_rus_main == 24) {
		mes "- 你打开了盒子,里面都是杂物 -";
		next;
		mes "["+ strcharinfo(0) +"]";
		mes "... 我要寻找一下...?";
		next;
		mes "- 你叹了口气,把手伸进盒子里 -";
		next;
		mes "["+ strcharinfo(0) +"]";
		mes "...!? 这是什么?!";
		next;
		set .@russ_key02,rand(1,7);
		if (.@russ_key02 == 3) {
			mes "- ^0000ff你在杂物里找到了一把断裂的钥匙!!^000000 -";
			next;
		}
		else if (.@russ_key02 == 1) {
			mes "- 你找到了奇怪的角质!! -";
			next;
			mes "["+ strcharinfo(0) +"]";
			mes "这是什么!?";
			emotion 23,1;
			close;
		}
		else if (.@russ_key02 == 2) {
			mes "- 你找到了一些盗贼的卵 !! -";
			next;
			mes "["+ strcharinfo(0) +"]";
			mes "这是什么!?";
			emotion 23,1;
			close;
		}
		else if (.@russ_key02 == 4) {
			mes "- 你找到了一些好像是香蕉的东西 !! -";
			next;
			mes "["+ strcharinfo(0) +"]";
			mes "这是什么!?";
			emotion 23,1;
			close;
		}
		else if (.@russ_key02 == 5) {
			mes "- 你找到了一些水母须 !! -";
			next;
			mes "["+ strcharinfo(0) +"]";
			mes "这是什么!?";
			emotion 23,1;
			close;
		}
		else if (.@russ_key02 == 6) {
			mes "- 你找到了一块破布 !! -";
			next;
			mes "["+ strcharinfo(0) +"]";
			mes "这是什么!?";
			emotion 23,1;
			close;
		}
		else {
			mes "- 你找到了一块骨头 !! -";
			next;
			mes "["+ strcharinfo(0) +"]";
			mes "这是什么!?";
			emotion 23,1;
			close;
		}
		mes "["+ strcharinfo(0) +"]";
		mes "嗯,这可能是...";
		next;
		mes "- 你把破碎的钥匙重新组合,组合成一把完整的钥匙!!-";
		set rhea_rus_main,25;
		close;
	}
	else if (rhea_rus_main > 24 && rhea_rus_main < 26) {
		mes "- 垃圾框里有一块断裂的钥匙 -";
		close;
	}
	else {
		end;
	}
}

amatsu,233,234,3	script	桃太郎 出版商#rus42	4_F_JPN2,{
	if (checkweight(1201,1) == 0) {
		mes "[桃太郎 出版商]";
		mes "你的背包里有什么书吗?";
		mes "你比较喜欢别的东西吗?";
		close;
	}
	if ((MaxWeight-Weight) < 3500) {
		mes "[桃太郎 出版商]";
		mes "你的背包里有什么书吗?";
		mes "你比较喜欢别的东西吗?";
		close;
	}
	if (rhea_rus_main < 26) {
		mes "[桃太郎 出版商]";
		mes "你订购一本书吗?";
		next;
		mes "[桃太郎 出版商]";
		mes "有人订了一本书,但是它没来拿.";
		close;
	}
	else if (rhea_rus_main == 26) {
		mes "[桃太郎 出版商]";
		mes "你订购了一本书吗?";
		next;
		mes "[桃太郎 出版商]";
		mes "有人订了一本书,但是它没来拿.";
		next;
		mes "["+ strcharinfo(0) +"]";
		mes "啊,我要一本魔法书...";
		next;
		mes "[桃太郎 出版商]";
		mes "嗯?你来拿那本书的吗?你能告诉我你的名字吗?";
		next;
		input .@input$;
		if (.@input$ == "芭芭 亚拉") {
			mes "["+ strcharinfo(0) +"]";
			mes "I am "+ .@input$ +".";
			next;
			mes "[桃太郎 出版商]";
			mes ""+ .@input$ +" ... 没错,拿着吧.";
			next;
		}else{
			mes "["+ strcharinfo(0) +"]";
			mes "I am "+ .@input$ +" ";
			next;
			mes "[桃太郎 出版商]";
			mes ""+ .@input$ +" ... 让我看看...";
			next;
			mes "[桃太郎 出版商]";
			mes "抱歉,没有书留给"+ .@input$ +". 你要不要再查查看?";
			close;
		}
		mes "[桃太郎 出版商]";
		mes "是这些书吗? '魔法控制时间', '全球鬼屋故事', '奇异的世界药草";
		mes "这些一共是 5,000 Zeny.";
		next;
		if (Zeny > 4999) {
			mes "[桃太郎 出版商]";
			mes "没错,是 5,000 Zeny.";
			next;
		}else{
			mes "[桃太郎 出版商]";
			mes "你没有带足够的钱?";
			mes "请带够钱再来找我.";
			close;
		}
		mes "[桃太郎 出版商]";
		mes "感谢你购买这些书.如果你需要更多书,请联系我们.";
		set Zeny, Zeny - 5000;
		set rhea_rus_main,27;
		getitem 7881,1;
		close;
	}
	else if (rhea_rus_main > 26 && rhea_rus_main < 31) {
		mes "[桃太郎 出版商]";
		mes "感谢你购买这些书.如果你需要更多书,请联系我们.";
		close;
	}
	else {
		mes "[桃太郎 出版商]";
		mes "你订购了一本书吗?";
		next;
		mes "[桃太郎 出版商]";
		mes "有人订了一本书,但是它没来拿.";
		close;
	}
}

mosk_dun02,57,220,0	script	房子里的鬼罐#rus43	HIDDEN_NPC,{
	if (rhea_rus_main == 31) {
		mes "["+ strcharinfo(0) +"]";
		mes "... 它在这里..? 嘿, 嘿...";
		next;
		mes "- 你把瓶罐 -";
		mes "- 拿到手中 -";
		specialeffect EF_SIGHTRASHER;
		emotion 23,1;
		next;
		mes "- 一个笑声传来 -";
		mes "- 并随着瓶子左右摇晃 -";
		next;
		mes "["+ strcharinfo(0) +"]";
		mes "你!不要再玩了!快从里面出来!";
		specialeffect EF_HIT2;
		next;
		mes "- 你把瓶子 -";
		mes "- 踢倒在地上 -";
		mes "- 有一些虫子跑了出来!! -";
		set rhea_rus_main,32;
		monster "mosk_dun02",58,220,"Thief Bug Male",1054,1,"房子里的鬼罐#rus43::OnMyMobDead";
		monster "mosk_dun02",59,220,"Ancient Worm",1305,1,"房子里的鬼罐#rus43::OnMyMobDead";
		monster "mosk_dun02",60,220,"Thief Bug Male",1054,1,"房子里的鬼罐#rus43::OnMyMobDead";
		donpcevent "房子里的鬼罐#rus43::OnDisable";
		close;
	}
	else if (rhea_rus_main == 32) {
		mes "["+ strcharinfo(0) +"]";
		mes "你,你要做什么!!";
		next;
		mes "- 你打算再踢瓶子 -";
		mes "- 这时候瓶子发出了 -";
		mes "- 一阵害怕颤动的声音 -";
		specialeffect EF_CURSEATTACK;
		next;
		mes "[幽灵]";
		mes "不,别这样!我知道错了!";
		next;
		mes "[幽灵]";
		mes "我已经厌倦了.死后我什么都做不了,没有朋友一起玩..";
		next;
		mes "[幽灵]";
		mes "当我活着的时候,我总是坐在那移动不动,但现在这真的太无聊了...";
		next;
		mes "[幽灵]";
		mes "我甚至不能喝我最喜欢的牛奶...当鬼真不方便.";
		next;
		if(select("我能和你玩吗?:我能为你做些什么?") == 1) {
			mes "[幽灵]";
			mes "你确定?";
			next;
		}else{
			mes "[幽灵]";
			mes "你能为我做点事吗?不会花你很长时间的.";
			next;
		}
		mes "[幽灵]";
		mes "纸牌游戏怎么样?我很擅长这种游戏!我的纸牌呢.在这里等我一下,我去拿来!";
		set rhea_rus_main,33;
		close;
	}
	else if (rhea_rus_main == 33) {
		mes "[幽灵]";
		mes "卡牌游戏其实很简单.我有一张天使卡片,幽灵卡片和波利卡片.";
		mes "你只需要猜到我拿的是哪一张卡就可以了!";
		next;
		mes "[幽灵]";
		mes "我们玩5局,只要你能赢3局.我就保证, 保持安静!";
		next;
		mes "["+ strcharinfo(0) +"]";
		mes "好!这很有意思,让我们开始吧.";
		next;
		set .@rugame_turn01,0;
		set .@ruuser_score01,0;
		while(.@rugame_turn01 != 5) {
			mes "[幽灵]";
			mes "OK,首先我开始洗牌.";
			mes "准备!";
			emotion 56;
			next;
			mes "[幽灵]";
			mes "一!";
			specialeffect EF_HIT1;
			next;
			mes "[幽灵]";
			mes "一! 二!";
			specialeffect EF_HIT2;
			next;
			mes "[幽灵]";
			mes "一! 二! 三!";
			specialeffect EF_HIT3;
			next;
			mes "[幽灵]";
			mes "好了!我现在挑一张牌!";
			specialeffect EF_STEAL;
			next;
			mes "[幽灵]";
			mes "好了!我现在挑一张牌!";
			mes "这是哪一张牌?";
			cutin "sorry.bmp",4;
			next;
			set .@rucard_game01,rand(1,3);
			switch(select("波利卡片:天使卡片:幽灵卡片")) {
			case 1:
				mes "["+ strcharinfo(0) +"]";
				mes "嗯...我觉得是波利卡片!";
				next;
				mes "[幽灵]";
				mes "Ok, 时间到!";
				mes "一! 二! 三!!";
				next;
				if (.@rucard_game01 == 1) {
					cutin "器傅墨靛",4;
					emotion 0;
					emotion 5,1;
					next;
					mes "[幽灵]";
					mes "你猜对了.真棒.";
					mes "你要继续下一次了吗?";
					set .@rugame_turn01,.@rugame_turn01+1;
					set .@ruuser_score01,.@ruuser_score01+1;
					cutin "",255;
					next;
				}else{
					if (.@rucard_game01 == 1) {
						cutin "器傅墨靛",4;
					}
					else if (.@rucard_game01 == 2) {
						cutin "浚俩傅墨靛",4;
					}
					else if (.@rucard_game01 == 3) {
						cutin "绊胶飘傅墨靛",4;
					}
					emotion 0;
					emotion 23,1;
					next;
					mes "[幽灵]";
					mes "Huuu...";
					mes "祝你下次好运!!";
					set .@rugame_turn01,.@rugame_turn01+1;
					cutin "",255;
					next;
				}
				break;
			case 2:
				mes "["+ strcharinfo(0) +"]";
				mes "嗯...我觉得是天使卡片!";
				next;
				mes "[幽灵]";
				mes "Ok, 时间到!";
				mes "一! 二! 三!!";
				next;
				if (.@rucard_game01 == 2) {
					cutin "浚俩傅墨靛",4;
					emotion 0;
					emotion 5,1;
					next;
					mes "[幽灵]";
					mes "你猜对了.真棒.";
					mes "你要继续下一次了吗?";
					set .@rugame_turn01,.@rugame_turn01+1;
					set .@ruuser_score01,.@ruuser_score01+1;
					cutin "",255;
					next;
				}else{
					if (.@rucard_game01 == 1) {
						cutin "器傅墨靛",4;
					}
					else if (.@rucard_game01 == 2) {
						cutin "浚俩傅墨靛",4;
					}
					else if (.@rucard_game01 == 3) {
						cutin "绊胶飘傅墨靛",4;
					}
					emotion 0;
					emotion 23,1;
					next;
					mes "[幽灵]";
					mes "Huuu...";
					mes "祝你下次好运!!";
					set .@rugame_turn01,.@rugame_turn01+1;
					cutin "",255;
					next;
				}
				break;
			case 3:
				mes "["+ strcharinfo(0) +"]";
				mes "嗯...我觉得是幽灵卡片!";
				next;
				mes "[幽灵]";
				mes "Ok, 时间到!";
				mes "一! 二! 三!!";
				next;
				if (.@rucard_game01 == 3) {
					cutin "绊胶飘傅墨靛",4;
					emotion 0;
					emotion 5,1;
					next;
					mes "[幽灵]";
					mes "你猜对了.真棒.";
					mes "你要继续下一次了吗?";
					set .@rugame_turn01,.@rugame_turn01+1;
					set .@ruuser_score01,.@ruuser_score01+1;
					cutin "",255;
					next;
				}else{
					if (.@rucard_game01 == 1) {
						cutin "器傅墨靛",4;
					}
					else if (.@rucard_game01 == 2) {
						cutin "浚俩傅墨靛",4;
					}
					else if (.@rucard_game01 == 3) {
						cutin "绊胶飘傅墨靛",4;
					}
					emotion 0;
					emotion 23,1;
					next;
					mes "[幽灵]";
					mes "Huuu...";
					mes "祝你下次好运!!";
					set .@rugame_turn01,.@rugame_turn01+1;
					cutin "",255;
					next;
				}
			}
		}
		if (.@ruuser_score01 == 3) {
			mes "[幽灵]";
			mes "三!";
			set rhea_rus_main,34;
			close;
		}else{
			mes "["+ strcharinfo(0) +"]";
			mes "我没有猜对!我们再来一次!";
			next;
			mes "[幽灵]";
			mes "呼呼,ok . 让我们再来一次?";
			close;
		}
	}
	else if (rhea_rus_main == 34) {
		mes "[幽灵]";
		mes "这很有趣.这么久以来,我一直在玩这个游戏.";
		next;
		mes "[幽灵]";
		mes "我现在开始保持安静.谢谢你陪我玩.";
		next;
		mes "["+ strcharinfo(0) +"]";
		mes "喔对了,我有一个礼物给你!";
		next;
		if (countitem(519) > 0) {
			mes "["+ strcharinfo(0) +"]";
			mes "你说你喜欢牛奶.拿着,这个给你.";
			next;
		}else{
			mes "["+ strcharinfo(0) +"]";
			mes "你说你喜欢牛奶.拿着,给...嗯?";
			next;
			mes "["+ strcharinfo(0) +"]";
			mes "牛奶哪去了?!在这里等等,我马上回来!!";
			close;
		}
		mes "[幽灵]";
		mes "哇!!这个我可以要吗??";
		next;
		mes "[幽灵]";
		mes "非常感谢你!!";
		mes "我现在开始保持安静.我要帮忙守护这房子!";
		next;
		mes "[幽灵]";
		mes "我不会告诉你陪我玩游戏的.";
		set rhea_rus_main,45;
		close;
	}
	else if (rhea_rus_main == 45) {
		mes "[幽灵]";
		mes "THank you so much!!";
		mes "我现在开始保持安静.我要帮忙守护这房子!";
		next;
		mes "[幽灵]";
		mes "我不会告诉你陪我玩游戏的.";
		close;
	}
	else {
		end;
	}

OnInit:
	enablenpc "房子里的鬼罐#rus43";
	end;

OnEnable:
	enablenpc "房子里的鬼罐#rus43";
	end;

OnDisable:
	initnpctimer;
	disablenpc "房子里的鬼罐#rus43";
	end;

OnTimer180000:
	stopnpctimer;
	killmonster "mosk_dun02","房子里的鬼罐#rus43::OnMyMobDead";
	donpcevent "房子里的鬼罐#rus43::OnEnable";
	end;

OnMyMobDead:
	donpcevent "房子里的鬼罐#rus43::OnEnable";
	end;
}

payon,65,119,0	script	Broom Grandma#rus44	78,{
	if (rhea_rus_main < 36) {
		mes "[卖扫帚的奶奶]";
		mes "这是斐扬最好的扫帚";
		next;
		mes "[卖扫帚的奶奶]";
		mes "它太好了,连幽灵都想要一把斐扬扫帚.";
		close;
	}
	else if (rhea_rus_main == 36) {
		mes "[卖扫帚的奶奶]";
		mes "这是斐扬最好的扫帚";
		next;
		mes "[卖扫帚的奶奶]";
		mes "它太好了,连幽灵都想要一把斐扬扫帚.";
		next;
		mes "["+ strcharinfo(0) +"]";
		mes "我想要一把扫帚.";
		next;
		mes "[卖扫帚的奶奶]";
		mes "你是客人,你需要一把扫帚.";
		next;
		mes "[卖扫帚的奶奶]";
		mes "但我已经没有扫帚了.幽灵偷走了我所有的扫帚.我很高兴,因为即使是鬼也喜欢我的扫帚.但是...";
		next;
		mes "[卖扫帚的奶奶]";
		mes "我儿子去找他们要回扫帚,但因为被鬼欺骗而失败了.";
		next;
		mes "[卖扫帚的奶奶]";
		mes "唉..我该怎么办..";
		set rhea_rus_main,37;
		close;
	}
	else if (rhea_rus_main > 36 && rhea_rus_main < 41) {
		mes "[卖扫帚的奶奶]";
		mes "斐扬的地牢中有幽灵,那里有一棵树就是鬼魂的所在.";
		next;
		mes "[卖扫帚的奶奶]";
		mes "我儿子去找他们要回扫帚,但因为被鬼欺骗而失败了.";
		next;
		mes "[卖扫帚的奶奶]";
		mes "唉..我该怎么办..";
		close;
	}
	else if (rhea_rus_main == 46) {
		mes "[卖扫帚的奶奶]";
		mes "你能把他们带回来,你是一个伟大的冒险家.";
		next;
		mes "[卖扫帚的奶奶]";
		mes "你能找回扫帚.我相信这是命运.";
		close;
	}
	else {
		mes "[卖扫帚的奶奶]";
		mes "这里有斐扬最好的扫帚!";
		next;
		mes "[卖扫帚的奶奶]";
		mes "它太好了,连幽灵都想要一把斐扬扫帚.";
		close;
	}
}

pay_dun04,163,186,0	script	Ghost Tree#rus45	HIDDEN_NPC,{
	if (rhea_rus_main == 37) {
		mes "[幽灵树]";
		mes "人类,你在这里做什么?你要和我玩吗?";
		next;
		mes "["+ strcharinfo(0) +"]";
		mes "把扫帚还来.";
		next;
		mes "[幽灵树]";
		mes "呼呼呼,如果你想要回它们,你必须回答对我的问题!";
		next;
		if(select("没问题,你问吧!:不,快把它还我!") == 2) {
			mes "[幽灵树]";
			mes "什么,你这么粗鲁的要求是什么意思?";
			next;
			mes "[幽灵树]";
			mes "离开!你必须受到惩罚!";
			sc_start SC_CONFUSION,60000,0;
			close2;
			warp "pay_dun04",46,43;
			end;
		}
		mes "[幽灵树]";
		mes "忽忽忽,你是一个冷静的孩子?!";
		mes "我喜欢有自信的人!让我们开始吧!";
		next;
		mes "[幽灵树]";
		mes "嗯...如果你准备好了我们就开始!";
		set rhea_rus_main,38;
		close;
	}
	else if (rhea_rus_main == 38) {
		mes "[幽灵树]";
		mes "第一个问题.仔细听并回答问题!";
		next;
		mes "[幽灵树]";
		mes "卡普拉姐妹们赛跑,听他们的对话猜他们的排行,明白了吗?";
		next;
		mes "[幽灵树]";
		mes "OK.那么,注意听..";
		next;
		mes "[卡普拉人员 罗茜]";
		mes "我不擅长跑步,但是茉莉赢了我,但我跑赢了狄波萝太.";
		next;
		mes "[卡普拉人员 狄波萝太]";
		mes "我觉得你还太小了.库莉苏 跑得好快,我跟不上她.";
		next;
		mes "[卡普拉人员 茉莉]";
		mes "我赢了 帕芙妮, 但不如 库莉苏跑得快. 呼呼.";
		next;
		mes "[卡普拉人员 库莉苏]";
		mes "我跑得并不快.但无论如何,我很高兴赢了 罗茜!";
		next;
		mes "[卡普拉人员 帕芙妮]";
		mes "...即使 罗茜 赢了我,我也不是最后一名...";
		next;
		mes "[幽灵树]";
		mes "好了,谁是第一呢?!";
		next;
		set .@rus_kafra01,0;
		input .@input$;
		if (.@input$ == "库莉苏") {
			set .@rus_kafra01,.@rus_kafra01+1;
			mes "["+ strcharinfo(0) +"]";
			mes ""+ .@input$ +" !!";
			next;
		}else{
			set .@rus_kafra01,.@rus_kafra01;
			mes "["+ strcharinfo(0) +"]";
			mes ""+ .@input$ +"!!";
			next;
		}
		mes "[幽灵树]";
		mes "谁是第二名呢?";
		next;
		input .@input$;
		if (.@input$ == "茉莉") {
			set .@rus_kafra01,.@rus_kafra01+1;
			mes "["+ strcharinfo(0) +"]";
			mes ""+ .@input$ +" !!";
			next;
		}else{
			set .@rus_kafra01,.@rus_kafra01;
			mes "["+ strcharinfo(0) +"]";
			mes ""+ .@input$ +"!!";
			next;
		}
		mes "[幽灵树]";
		mes "谁是第三名呢?";
		next;
		input .@input$;
		if (.@input$ == "罗茜") {
			set .@rus_kafra01,.@rus_kafra01+1;
			mes "["+ strcharinfo(0) +"]";
			mes ""+ .@input$ +" !!";
			next;
		}else{
			set .@rus_kafra01,.@rus_kafra01;
			mes "["+ strcharinfo(0) +"]";
			mes ""+ .@input$ +"!!";
			next;
		}
		mes "[幽灵树]";
		mes "谁是第四名呢?";
		next;
		input .@input$;
		if (.@input$ == "帕芙妮") {
			set .@rus_kafra01,.@rus_kafra01+1;
			mes "["+ strcharinfo(0) +"]";
			mes ""+ .@input$ +" !!";
			next;
		}else{
			set .@rus_kafra01,.@rus_kafra01;
			mes "["+ strcharinfo(0) +"]";
			mes ""+ .@input$ +"!!";
			next;
		}
		mes "[幽灵树]";
		mes "谁是最后一名?!";
		next;
		input .@input$;
		if (.@input$ == "狄波萝太") {
			set .@rus_kafra01,.@rus_kafra01+1;
			mes "["+ strcharinfo(0) +"]";
			mes ""+ .@input$ +" !!";
			next;
		}else{
			set .@rus_kafra01,.@rus_kafra01;
			mes "["+ strcharinfo(0) +"]";
			mes ""+ .@input$ +"!!";
			next;
		}
		if (.@rus_kafra01 > 4) {
			mes "[幽灵树]";
			mes "你太棒了!";
			next;
		}else{
			mes "[幽灵树]";
			mes "你错了,错了!";
			mes "你真的认为你能拿回扫帚吗?";
			next;
			mes "["+ strcharinfo(0) +"]";
			mes "我没有正确的思考!我想再试一次!";
			next;
			mes "[幽灵树]";
			mes "好,让我们再来一次.加油.";
			close;
		}
		mes "[幽灵树]";
		mes "让我见识你的下一次发挥..";
		mes "准备好!";
		set rhea_rus_main,39;
		close;
	}
	else if (rhea_rus_main == 39) {
		mes "[幽灵树]";
		mes "第二个问题,仔细听并回答.";
		next;
		mes "[幽灵树]";
		mes "一天,你, "+ strcharinfo(0) +", 要升级你的 '太阳神头盔', 你祖先的宝物.";
		next;
		mes "["+ strcharinfo(0) +"]";
		mes "额?我没有...";
		next;
		mes "[幽灵树]";
		mes "安静!听我说!";
		mes "当亚拉甘,安东尼奥,赫尔曼兹和霍尔根4个铁匠一起升级'太阳神头盔',它被敲暴了!";
		next;
		mes "[幽灵树]";
		mes "这个 '太阳神头盔' 是 +7的. 你猜是谁把它敲暴的!";
		next;
		mes "[亚拉甘]";
		mes "我听说霍尔根精炼到+7,然后就敲暴了.";
		next;
		mes "[安东尼奥]";
		mes "...我们每一个人精炼2次...";
		next;
		mes "[赫尔曼兹]";
		mes "霍尔根之后是我精炼的.";
		next;
		mes "[霍尔根]";
		mes "我的后面是亚拉甘.";
		next;
		mes "[幽灵树]";
		mes "你听明白了吗? 是谁敲暴了 '太阳神头盔'?!";
		next;
		input .@input$;
		if (.@input$ == "安东尼奥") {
			mes "["+ strcharinfo(0) +"]";
			mes ""+ .@input$ +" !!";
			next;
		}else{
			mes "["+ strcharinfo(0) +"]";
			mes ""+ .@input$ +"!!";
			next;
			mes "[幽灵树]";
			mes "你猜错了!";
			mes "看这个.跟着它,你可以回到一百万年前带他们回来.";
			next;
			mes "["+ strcharinfo(0) +"]";
			mes "我刚没有考虑清楚!!!";
			mes "再来,再来!";
			next;
			mes "[幽灵树]";
			mes "好吧,希望你下次做得更好!";
			close;
		}
		mes "[幽灵树]";
		mes "太厉害了!最后的考验是掷一个骰子!如果你赢了我,我会给你想要的.";
		next;
		mes "[幽灵树]";
		mes "准备好再来找我吧!";
		set rhea_rus_main,40;
		close;
	}
	else if (rhea_rus_main == 40) {
		mes "[幽灵树]";
		mes "你直到现在都做得非常好.如果你赢了我,我会把扫帚还给你.";
		next;
		mes "[幽灵树]";
		mes "游戏很简单,你只需要掷出比我大的数字.";
		next;
		mes "[幽灵树]";
		mes "掷3次,你只需要赢我一次,你就可以得到你想要的了!";
		next;
		mes "["+ strcharinfo(0) +"]";
		mes "好!我能做到的!";
		next;
		set .@rustree_turn01,0;
		set .@rususer_score01,0;
		while(.@rustree_turn01 != 3) {
			mes "[幽灵树]";
			mes "我先来了.";
			next;
			mes "- 幽灵树扔了个骰子-";
			specialeffect EF_STUNATTACK;
			next;
			set .@tree_dice01,rand(1,6);
			if (.@tree_dice01 == 1) {
				mes "[幽灵树]";
				mes "我得到了^0000ff数字 1^000000.";
				emotion 58;
				next;
			}
			else if (.@tree_dice01 == 2) {
				mes "[幽灵树]";
				mes "我得到了^0000ff数字 2^000000.";
				emotion 59;
				next;
			}
			else if (.@tree_dice01 == 3) {
				mes "[幽灵树]";
				mes "我得到了^0000ff数字 3^000000.";
				emotion 60;
				next;
			}
			else if (.@tree_dice01 == 4) {
				mes "[幽灵树]";
				mes "我得到了^0000ff数字 4^000000.";
				emotion 61;
				next;
			}
			else if (.@tree_dice01 == 5) {
				mes "[幽灵树]";
				mes "我得到了^0000ff数字 5^000000.";
				emotion 62;
				next;
			}
			else if (.@tree_dice01 == 6) {
				mes "[幽灵树]";
				mes "我得到了^0000ff数字 6^000000.";
				emotion 63;
				next;
			}
			mes "["+ strcharinfo(0) +"]";
			mes "该我了?";
			next;
			mes "-你扔了个骰子-";
			specialeffect2 EF_STUNATTACK;
			next;
			set .@rus_dice01,rand(1,6);
			mes "["+ strcharinfo(0) +"]";
			mes "来看看...";
			next;
			if (.@rus_dice01 == 1) {
				emotion 58,1;
				mes "["+ strcharinfo(0) +"]";
				if (.@rus_dice01 == .@tree_dice01) {
					mes "看看... 哇! 我得到了^0000ff数字 1^000000!";
				}else{
					mes "看看................... 是 ^0000ff 1 ^000000...";
				}
			}
			else if (.@rus_dice01 == 2) {
				emotion 59,1;
				mes "["+ strcharinfo(0) +"]";
				if (.@rus_dice01 == .@tree_dice01) {
					mes "看看... 哇 我得到了^0000ff数字 2^000000!";
				}else{
					mes "看看................... 是 ^0000ff 2 ^000000...";
				}
			}
			else if (.@rus_dice01 == 3) {
				emotion 60,1;
				mes "["+ strcharinfo(0) +"]";
				if (.@rus_dice01 == .@tree_dice01) {
					mes "看看... 哇 我得到了^0000ff数字 3^000000!";
				}else{
					mes "看看................... 是 ^0000ff 3 ^000000...";
				}
			}
			else if (.@rus_dice01 == 4) {
				emotion 61,1;
				mes "["+ strcharinfo(0) +"]";
				if (.@rus_dice01 == .@tree_dice01) {
					mes "看看... 哇 我得到了^0000ff数字 4^000000!";
				}else{
					mes "看看................... 是 ^0000ff 4 ^000000...";
				}
			}
			else if (.@rus_dice01 == 5) {
				emotion 62,1;
				mes "["+ strcharinfo(0) +"]";
				if (.@rus_dice01 == .@tree_dice01) {
					mes "看看... 哇 我得到了^0000ff数字 5^000000!";
				}else{
					mes "看看................... 是 ^0000ff 5 ^000000...";
				}
			}
			else if (.@rus_dice01 == 6) {
				emotion 63,1;
				mes "["+ strcharinfo(0) +"]";
				if (.@rus_dice01 == .@tree_dice01) {
					mes "看看... 哇 我得到了^0000ff数字 6^000000!";
				}else{
					mes "看看................... 是 ^0000ff 6 ^000000...";
				}
			}
			if (.@rus_dice01 == .@tree_dice01) {
				emotion 0;
				next;
				mes "[幽灵树]";
				mes "You seem lucky...";
				set .@rustree_turn01,.@rustree_turn01+1;
				set .@rususer_score01,.@rususer_score01+1;
				next;
			}else{
				mes "[幽灵树]";
				mes "Huuu...";
				emotion 18;
				set .@rustree_turn01,.@rustree_turn01+1;
				next;
			}
		}
		if (.@rususer_score01 > 0) {
			mes "[幽灵树]";
			mes "我输了, 不过真有趣.";
			next;
			mes "[幽灵树]";
			mes "我会给你扫帚的.";
			next;
			mes "[幽灵树]";
			mes "拿上吧, 有空了再来和我玩.";
			next;
			mes "- ^0000ff 你得到了飞扬最好的扫把 !!^000000 - ";
			set rhea_rus_main,46;
			close;
		}else{
			mes "[幽灵树]";
			mes "没人比你更衰了, 记得赢了我才有东西.";
			next;
			mes "["+ strcharinfo(0) +"]";
			mes "刚才状态不好, 再来!";
			next;
			mes "[幽灵树]";
			mes "再来??";
			close;
		}
	}
	else if (rhea_rus_main == 46) {
		mes "[幽灵树]";
		mes "有空再来陪我玩.";
		close;
	}
	else {
		end;
	}
}
